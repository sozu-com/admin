{"version":3,"sources":["/home/cbl1002/Documents/realestate-admin/src/app/common/fileUpload.ts","/home/cbl1002/Documents/realestate-admin/src/app/models/acl.model.ts","/home/cbl1002/Documents/realestate-admin/src/app/models/users.model.ts"],"names":[],"mappings":";;;;;;AAAA;AAAA;IAWI,oBAAY,MAAM,EAAE,EAAE;QAPtB,WAAM,GAAE,IAAI,CAAC;QAIb,YAAO,GAAG,KAAK,CAAC;QAId,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;YACvB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;SACjB;IACH,CAAC;IAED,qDAAqD;IACrD,iCAAY,GAAZ,UAAa,KAAK,EAAE,MAAc;QAAlC,iBAoCE;QApCkB,uCAAc;QAE/B,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;YAC/C,IAAM,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;oCAC/B,KAAK;gBACZ,OAAK,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;gBAChC,MAAM,CAAC,MAAM,GAAG,UAAC,CAAM;oBACrB,oDAAoD;oBACpD,IAAI,KAAI,CAAC,MAAM,IAAI,IAAI,EAAE;wBACvB,KAAI,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;wBAC7B,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;qBACvC;yBAAK;wBACJ,IAAM,KAAK,GAAQ,EAAE,CAAC;wBACtB,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;wBAC9B,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBACvC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBACvB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;qBACzB;oBAED,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,2CAA2C;oBAC3C,8BAA8B;oBAC9B,mBAAmB;oBACnB,IAAI;oBACJ,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE;wBAC5D,KAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,WAAC;4BAChB,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;wBACzB,CAAC,CAAC,CAAC;qBACN;gBACH,CAAC,CAAC;gBACF,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YAClD,CAAC;;YA5BD,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE;wBAArD,KAAK;aA4Bb;SAEF;IAEH,CAAC;IAED,4BAAO,GAAP;QACE,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;IAED,6BAAQ,GAAR;QACE,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,2BAAM,GAAN;QAAA,iBA0CF;QAzCI,4BAA4B;QAC5B,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC3B,IAAI,KAAI,CAAC,MAAM,IAAI,KAAK,EAAE;gBACxB,IAAM,OAAK,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAAC,IAAI,GAAC,GAAG,CAAC,CAAC;gBAC3C,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,IAAI;oBAClB,IAAI,IAAI,CAAC,IAAI,EAAE;wBACd,IAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;wBAChC,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;wBACpC,qBAAqB;wBACrB,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,SAAS,CAAC,aAAG;4BACtD,oBAAoB;4BACpB,OAAO,IAAI,CAAC,IAAI,CAAC;4BACjB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;4BAC/B,IAAI,GAAC,IAAI,OAAK,EAAE;gCAAC,OAAO,EAAE,CAAC;6BAAE,2BAA0B;4BACvD,GAAC,EAAE,CAAC;wBACN,CAAC,EACD,eAAK;4BACH,IAAI,GAAC,KAAK,OAAK,EAAE;gCAAE,MAAM,CAAC,KAAK,CAAC,CAAC;6BAAE,0BAAyB;4BAC5D,GAAC,EAAE,CAAC;wBACN,CAAC,CAAC,CAAC;qBACH;yBAAK;wBACJ,IAAI,GAAC,IAAI,OAAK,EAAE;4BAAC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;4BAAC,OAAO,EAAE,CAAC;yBAAE;wBACtD,GAAC,EAAE,CAAC;qBACL;gBACH,CAAC,CAAC,CAAC;aACJ;YACD,IAAI,KAAI,CAAC,MAAM,KAAK,IAAI,IAAI,KAAI,CAAC,IAAI,EAAE;gBACrC,IAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;gBAChC,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,CAAC;gBACpC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,SAAS,CAAC,aAAG;oBACtD,KAAI,CAAC,IAAI,GAAG,EAAE,CAAC;oBACf,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;oBAC/B,OAAO,EAAE,CAAC;gBACZ,CAAC,EACD,eAAK;oBACH,MAAM,CAAC,KAAK,CAAC,CAAC;gBAChB,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,OAAO,EAAE,CAAC;aACX;QACR,CAAC,CAAC,CAAC;IACT,CAAC;IAED,2BAAM,GAAN,UAAO,KAAK;QACV,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC9B,CAAC;IAED,2BAAM,GAAN,UAAO,KAAK;QACV,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAED,0BAAK,GAAL;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IACvD,CAAC;IAEH,iBAAC;AAAD,CAAC;;;;;;;;;;;AC3HD;AAAA;IAAA;QAQI,cAAS,GAAsB,EAAE,CAAC;IACtC,CAAC;IAAD,UAAC;AAAD,CAAC;;AAED;IAAA;IAYA,CAAC;IAAD,iBAAC;AAAD,CAAC;;;;;;;;;;ACvBD;AAAA;IAAA;IAYA,CAAC;IAAD,YAAC;AAAD,CAAC","file":"0.chunk.js","sourcesContent":["export class FileUpload {\n\n    http: any; env: any; us: any;\n\n    single= true;\n    file: any;\n    image: any;\n    files: any;\n    loading = false;\n    backupArray: any;\n\n    constructor(single, us) {\n      this.us = us;\n      this.single = single;\n      if (this.single != true) {\n        this.files = [];\n      }\n    }\n\n    // upload = true means upload file just after reading\n    onSelectFile(event, upload = false) {\n\n       if (event.target.files && event.target.files[0]) {\n         const total = event.target.files.length;\n         for (let index = 0; index < event.target.files.length; index++) {\n           this.loading = true;\n           const reader = new FileReader();\n           reader.onload = (e: any) => {\n             // console.log('single',this.single,' index',index);\n             if (this.single == true) {\n               this.image = e.target.result;\n               this.file = event.target.files[index];\n             }else {\n               const model: any = {};\n               model.image = e.target.result;\n               model.file = event.target.files[index];\n               this.files.push(model);\n               console.log(this.files);\n             }\n\n             this.loading = false;\n             // if(upload == true && index== (total-1)){\n             //   console.log('uploading');\n             //   this.upload();\n             // }\n             if (index == (event.target.files.length - 1) && upload == true) {\n                 this.upload().then(r => {\n                     this.loading = false;\n                 });\n             }\n           };\n           reader.readAsDataURL(event.target.files[index]);\n         }\n\n       }\n\n     }\n\n     getFile() {\n       return this.file;\n     }\n\n     getFiles() {\n       return this.files;\n     }\n\n     upload(): Promise<any> {\n       // console.log(this.single);\n       return new Promise((resolve, reject) => {\n               if (this.single == false) {\n                 const total = this.files.length; let i = 1;\n                 this.files.map((item) => {\n                   if (item.file) {\n                    const formData = new FormData();\n                    formData.append('image', item.file);\n                    // console.log(item);\n                    this.us.postDataApi('saveImage', formData).subscribe(res => {\n                      // console.log(res);\n                      delete item.file;\n                      item.image = res['data'].image;\n                      if (i == total) {resolve(); }/* resolve on last loop */\n                      i++;\n                    },\n                    error => {\n                      if (i === total) { reject(error); }/* reject on last loop */\n                      i++;\n                    });\n                   }else {\n                     if (i >= total) {console.log(this.files); resolve(); }\n                     i++;\n                   }\n                 });\n               }\n               if (this.single === true && this.file) {\n                 const formData = new FormData();\n                 formData.append('image', this.file);\n                 this.us.postDataApi('saveImage', formData).subscribe(res => {\n                   this.file = '';\n                   this.image = res['data'].image;\n                   resolve();\n                 },\n                 error => {\n                   reject(error);\n                 });\n               } else {\n                 resolve();\n               }\n        });\n  }\n\n  remove(index) {\n    this.files.splice(index, 1);\n  }\n\n  backup(files) {\n    this.backupArray = files;\n    this.files = files;\n  }\n\n  reset() {\n    this.files = JSON.parse(JSON.stringify(this.backup));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/cbl1002/Documents/realestate-admin/src/app/common/fileUpload.ts","export class ACL {\n    id: string;\n    name: string;\n    country_code: string;\n    dial_code: string;\n    phone: string;\n    image: string;\n    email: string;\n    admin_acl: Array<Permission> = [];\n}\n\nexport class Permission {\n    show: boolean;\n    // name: string;\n    acl: {\n        name: string;\n    };\n    acl_id: number;\n    can_create: number;\n    can_read: number;\n    can_update: number;\n    can_delete: number;\n    can_crud: number;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/cbl1002/Documents/realestate-admin/src/app/models/acl.model.ts","export class Users {\n    id: string;\n    name: string;\n    country_code: string;\n    dial_code: string;\n    phone: string;\n    image: any;\n    email: string;\n    interested_in: string;\n    user_type: string;\n    address: string;\n    selected: any;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/cbl1002/Documents/realestate-admin/src/app/models/users.model.ts"],"sourceRoot":"webpack:///"}