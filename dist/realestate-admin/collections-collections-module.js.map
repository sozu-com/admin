{"version":3,"sources":["webpack:///./src/app/layout/collections/account-statement/account-statement.component.css","webpack:///./src/app/layout/collections/account-statement/account-statement.component.html","webpack:///./src/app/layout/collections/account-statement/account-statement.component.ts","webpack:///./src/app/layout/collections/add-edit-collection/add-edit-collection.component.css","webpack:///./src/app/layout/collections/add-edit-collection/add-edit-collection.component.html","webpack:///./src/app/layout/collections/add-edit-collection/add-edit-collection.component.ts","webpack:///./src/app/layout/collections/analytics/analytics.component.css","webpack:///./src/app/layout/collections/analytics/analytics.component.html","webpack:///./src/app/layout/collections/analytics/analytics.component.ts","webpack:///./src/app/layout/collections/collections.component.css","webpack:///./src/app/layout/collections/collections.component.html","webpack:///./src/app/layout/collections/collections.component.ts","webpack:///./src/app/layout/collections/collections.module.ts","webpack:///./src/app/layout/collections/quick-visualization/quick-visualization.component.css","webpack:///./src/app/layout/collections/quick-visualization/quick-visualization.component.html","webpack:///./src/app/layout/collections/quick-visualization/quick-visualization.component.ts","webpack:///./src/app/models/collection.model.ts"],"names":[],"mappings":"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","file":"collections-collections-module.js","sourcesContent":["module.exports = \"\\n  th, td {\\n    padding: 5px;\\n    text-align: center;\\n  }\\n  h5{\\n    margin-top: 15px;\\n  }\\n  textarea {\\n    background: #fff !important;\\n  }\\n  .red-color{\\n    color: red;\\n  }\\n  table.table-striped.quick-table{\\n    table-layout: fixed;\\n  }\\n  table.table-striped.quick-table th, table.table-striped.quick-table td {\\n  width: 70px;\\n  word-break: break-word;\\n}\\n  .remaining_amt{\\n  background: #faebd7b0 !important;\\n  font-weight: 600;\\n}\\n  /* freeze first col and row */\\n  .main-table{\\n  height: 700px;\\n}\\n  table.table-striped.quick-table th, table.table-striped.quick-table td {\\n  width: 190px;\\n}\\n  table.table-striped.quick-table {\\n  table-layout: fixed;\\n  width:100%;\\n}\\n  table.table-striped.quick-table td:nth-child(1), table.table-striped.quick-table th:nth-child(1),\\ntable.table-striped.quick-table thead tr th \\n{\\n  position:-webkit-sticky;\\n  position:sticky;\\n  left:0;\\n  top: 0;\\n  z-index:1;\\n  background-color: #00B96F;\\n  color: #fff;\\n}\\n  table.table-striped.quick-table th:first-child {\\n  z-index:2;\\n}\\n  /* freeze first col and row */\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2NvbGxlY3Rpb25zL2FjY291bnQtc3RhdGVtZW50L2FjY291bnQtc3RhdGVtZW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtFQUNFO0lBQ0UsYUFBYTtJQUNiLG1CQUFtQjtHQUNwQjtFQUNEO0lBQ0UsaUJBQWlCO0dBQ2xCO0VBRUQ7SUFDRSw0QkFBNEI7R0FDN0I7RUFDRDtJQUNFLFdBQVc7R0FDWjtFQUNEO0lBQ0Usb0JBQW9CO0dBQ3JCO0VBRUg7RUFDRSxZQUFZO0VBQ1osdUJBQXVCO0NBQ3hCO0VBQ0Q7RUFDRSxpQ0FBaUM7RUFDakMsaUJBQWlCO0NBQ2xCO0VBRUQsOEJBQThCO0VBQzlCO0VBQ0UsY0FBYztDQUNmO0VBQ0Q7RUFDRSxhQUFhO0NBQ2Q7RUFDRDtFQUNFLG9CQUFvQjtFQUNwQixXQUFXO0NBQ1o7RUFDRDs7O0VBR0Usd0JBQWdCO0VBQWhCLGdCQUFnQjtFQUNoQixPQUFPO0VBQ1AsT0FBTztFQUNQLFVBQVU7RUFDViwwQkFBMEI7RUFDMUIsWUFBWTtDQUNiO0VBQ0Q7RUFDRSxVQUFVO0NBQ1g7RUFDRCw4QkFBOEIiLCJmaWxlIjoic3JjL2FwcC9sYXlvdXQvY29sbGVjdGlvbnMvYWNjb3VudC1zdGF0ZW1lbnQvYWNjb3VudC1zdGF0ZW1lbnQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuICB0aCwgdGQge1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbiAgaDV7XG4gICAgbWFyZ2luLXRvcDogMTVweDtcbiAgfVxuXG4gIHRleHRhcmVhIHtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmICFpbXBvcnRhbnQ7XG4gIH1cbiAgLnJlZC1jb2xvcntcbiAgICBjb2xvcjogcmVkO1xuICB9XG4gIHRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGV7XG4gICAgdGFibGUtbGF5b3V0OiBmaXhlZDtcbiAgfVxuICBcbnRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGgsIHRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGQge1xuICB3aWR0aDogNzBweDtcbiAgd29yZC1icmVhazogYnJlYWstd29yZDtcbn1cbi5yZW1haW5pbmdfYW10e1xuICBiYWNrZ3JvdW5kOiAjZmFlYmQ3YjAgIWltcG9ydGFudDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLyogZnJlZXplIGZpcnN0IGNvbCBhbmQgcm93ICovXG4ubWFpbi10YWJsZXtcbiAgaGVpZ2h0OiA3MDBweDtcbn1cbnRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGgsIHRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGQge1xuICB3aWR0aDogMTkwcHg7XG59XG50YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHtcbiAgdGFibGUtbGF5b3V0OiBmaXhlZDtcbiAgd2lkdGg6MTAwJTtcbn1cbnRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGQ6bnRoLWNoaWxkKDEpLCB0YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHRoOm50aC1jaGlsZCgxKSxcbnRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGhlYWQgdHIgdGggXG57XG4gIHBvc2l0aW9uOnN0aWNreTtcbiAgbGVmdDowO1xuICB0b3A6IDA7XG4gIHotaW5kZXg6MTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwQjk2RjtcbiAgY29sb3I6ICNmZmY7XG59XG50YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHRoOmZpcnN0LWNoaWxkIHtcbiAgei1pbmRleDoyO1xufVxuLyogZnJlZXplIGZpcnN0IGNvbCBhbmQgcm93ICovIl19 */\"","module.exports = \"\\n  <div class=\\\"container-fluid\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-lg-8 col-md-8 col-6\\\">\\n          <div class=\\\"title-group\\\">\\n            <h5><a routerLink=\\\"/dashboard/collections/view-collections\\\" href=\\\"javascript://\\\"><i\\n                  class=\\\"fa fa-angle-double-left\\\"></i> </a> &nbsp;&nbsp;{{'quickVisualization.accountStatement' | translate}}</h5>\\n          </div>\\n        </div>\\n         \\n        <!-- <div class=\\\"col-lg-2 col-md-2 col-6\\\">\\n          <div class=\\\"btn-cont text-right\\\">\\n              <a class=\\\"btn\\\" href=\\\"javascript://\\\" style=\\\"display: none;\\\" data-toggle=\\\"modal\\\" data-target=\\\"#addInhouseUser\\\" #inhouseUserModalOpen>{{'table.addNewBtn' | translate}}</a>\\n              <a class=\\\"btn btn-primary-new width100P\\\" href=\\\"javascript://\\\" (click)=\\\"exportData()\\\">{{'table.exportDataBtn' | translate}}</a>\\n            </div>\\n        </div>\\n    \\n        <div class=\\\"col-lg-2 col-md-2 col-6\\\">\\n          <div class=\\\"btn-cont text-right\\\">\\n              <a class=\\\"btn btn-primary-new width100P\\\" href=\\\"javascript://\\\" (click)=\\\"getCollectionDetails()\\\">Refresh</a>\\n            </div>\\n        </div> -->\\n      </div>\\n    \\n      <hr>\\n    \\n      <h5>{{'quickVisualization.stackholdersInformation' | translate}}</h5>\\n      <div class=\\\"row cust-tabs\\\">\\n          <div class=\\\"col-md-4\\\">\\n      \\n              <div class=\\\"table-responsive\\\">\\n                <table class=\\\"table table-bordered white-bg\\\">\\n                  <tbody>\\n                    <tr>\\n                      <th rowspan=\\\"3\\\">{{'quickVisualization.buyer' | translate}}:</th>\\n                      <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.comm_name || ('table.tr.td.NA' | translate)}}</td>\\n                      <td *ngIf=\\\"model?.buyer_type!=2\\\">{{model?.buyer?.name || ('table.tr.td.NA' | translate)}}</td>\\n                    </tr>\\n                    <tr>\\n                      <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.email || ('table.tr.td.NA' | translate)}}</td>\\n                      <td *ngIf=\\\"model?.buyer_type!=2\\\">{{model?.buyer?.email || ('table.tr.td.NA' | translate)}}</td>\\n                    </tr>\\n                    <tr>\\n                      <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.phone ? model?.buyer_legal_entity?.dial_code + ' ' + model?.buyer_legal_entity?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                      <td *ngIf=\\\"model?.buyer_type!=2\\\">{{model?.buyer?.phone ? model?.buyer?.dial_code + ' ' + model?.buyer?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n              </div>\\n                <div class=\\\"table-responsive\\\">\\n                  <table class=\\\"table table-bordered white-bg\\\">\\n                    <tbody>\\n                      <tr>\\n                        <th rowspan=\\\"3\\\">{{'quickVisualization.seller' | translate}}:</th>\\n                        <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.comm_name || ('table.tr.td.NA' | translate)}}</td>\\n                        <td *ngIf=\\\"model?.seller_type!=2\\\">{{model?.seller?.name || ('table.tr.td.NA' | translate)}}</td>\\n                      </tr>\\n                      <tr>\\n                        <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.email || ('table.tr.td.NA' | translate)}}</td>\\n                        <td *ngIf=\\\"model?.seller_type!=2\\\">{{model?.seller?.email || ('table.tr.td.NA' | translate)}}</td>\\n                      </tr>\\n                      <tr>\\n                        <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.phone ? model?.seller_legal_entity?.dial_code + ' ' + model?.seller_legal_entity?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                        <td *ngIf=\\\"model?.seller_type!=2\\\">{{model?.seller?.phone ? model?.seller?.dial_code + ' ' + model?.seller?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                      </tr>\\n                    </tbody>\\n                  </table>\\n                </div>\\n                <div class=\\\"table-responsive\\\">\\n                  <table class=\\\"table table-bordered white-bg\\\">\\n                    <tbody>\\n                      <tr>\\n                        <th rowspan=\\\"3\\\">\\n                          {{model?.deal_commission_agents?.length>0 && model?.deal_commission_agents[0]?.broker?.is_external_agent==1 ? ('quickVisualization.outsideAgent' | translate) : ('quickVisualization.inhouseAgent' | translate)}}:\\n                        </th>\\n                        <td>{{model?.deal_commission_agents?.length>0 ? model?.deal_commission_agents[0]?.name : ('table.tr.td.NA' | translate)}}</td>\\n                      </tr>\\n                      <tr>\\n                        <td>{{model?.deal_commission_agents?.length>0 ? model?.deal_commission_agents[0]?.broker?.email : ('table.tr.td.NA' | translate)}}</td>\\n                      </tr>\\n                      <tr>\\n                        <td>{{model?.deal_commission_agents?.length>0 ? model?.deal_commission_agents[0]?.broker?.dial_code + ' ' +model?.deal_commission_agents[0]?.broker?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                      </tr>\\n                    </tbody>\\n                  </table>\\n                </div>\\n          </div>\\n      \\n          <div class=\\\"col-md-1\\\"></div>\\n      \\n          <div class=\\\"col-md-4\\\">\\n      \\n                <div class=\\\"table-responsive\\\">\\n                  <table class=\\\"table table-bordered white-bg\\\">\\n                    <tbody>\\n                      <tr>\\n                        <th rowspan=\\\"3\\\">{{'quickVisualization.buyerLegal' | translate}} <br> {{'quickVisualization.representativeContact' | translate}}:</th>\\n                          <td *ngIf=\\\"model?.buyer_type==1\\\">{{model?.buyer_leg_rep_name || ('table.tr.td.NA' | translate)}}</td>\\n                          <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.legal_reps?.name || ('table.tr.td.NA' | translate)}}</td>\\n                          <td *ngIf=\\\"model?.buyer_type==3\\\">{{model?.buyer?.legal_representative?.name || ('table.tr.td.NA' | translate)}}</td>\\n                       </tr>\\n                      <tr>\\n                        <td *ngIf=\\\"model?.buyer_type==1\\\">{{model?.buyer_leg_rep_email || ('table.tr.td.NA' | translate)}}</td>\\n                        <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.legal_reps?.email || ('table.tr.td.NA' | translate)}}</td>\\n                        <td *ngIf=\\\"model?.buyer_type==3\\\">{{model?.buyer?.legal_representative?.email || ('table.tr.td.NA' | translate)}}</td>\\n                       </tr>\\n                      <tr>\\n                        <td *ngIf=\\\"model?.buyer_type==1\\\">{{model?.buyer_leg_rep_phone ? model?.buyer?.dial_code + ' '+ model?.buyer_leg_rep_phone : ('table.tr.td.NA' | translate)}}</td>\\n                        <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.legal_reps?.phone ? model?.buyer_legal_entity?.legal_reps?.dial_code + ' '+ model?.buyer_legal_entity?.legal_reps?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                        <td *ngIf=\\\"model?.buyer_type==3\\\">{{model?.buyer?.legal_representative?.phone ? model?.buyer?.dial_code + ' ' + model?.buyer?.legal_representative?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                      </tr>\\n                    </tbody>\\n                  </table>\\n                </div>\\n                  <div class=\\\"table-responsive\\\">\\n                    <table class=\\\"table table-bordered white-bg\\\">\\n                      <tbody>\\n                        <tr>\\n                          <th rowspan=\\\"3\\\">{{'quickVisualization.sellerLegal' | translate}} <br> {{'quickVisualization.representativeContact' | translate}}:</th>\\n                          <td *ngIf=\\\"model?.seller_type==1\\\">{{model?.seller_leg_rep_name || ('table.tr.td.NA' | translate)}}</td>\\n                          <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.legal_reps?.name || ('table.tr.td.NA' | translate)}}</td>\\n                          <td *ngIf=\\\"model?.seller_type==3\\\">{{model?.seller?.legal_representative?.name || ('table.tr.td.NA' | translate)}}</td>\\n                       </tr>\\n                      <tr>\\n                        <td *ngIf=\\\"model?.seller_type==1\\\">{{model?.seller_leg_rep_email || ('table.tr.td.NA' | translate)}}</td>\\n                        <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.legal_reps?.email || ('table.tr.td.NA' | translate)}}</td>\\n                        <td *ngIf=\\\"model?.seller_type==3\\\">{{model?.seller?.legal_representative?.email || ('table.tr.td.NA' | translate)}}</td>\\n                       </tr>\\n                       <tr>\\n                         <td *ngIf=\\\"model?.seller_type==1\\\">{{model?.seller_leg_rep_phone ? model?.seller?.dial_code + ' '+ model?.seller_leg_rep_phone : ('table.tr.td.NA' | translate)}}</td>\\n                         <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.legal_reps?.phone ? model?.seller_legal_entity?.legal_reps?.dial_code + ' '+ model?.seller_legal_entity?.legal_reps?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                         <td *ngIf=\\\"model?.seller_type==3\\\">{{model?.seller?.legal_representative?.phone ? model?.seller?.dial_code + ' ' + model?.seller?.legal_representative?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                       </tr>\\n                      </tbody>\\n                    </table>\\n                  </div>\\n            </div>\\n        </div>  \\n    \\n    \\n        <h5>{{'quickVisualization.generalPropertyInformation' | translate}}</h5>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-4\\\">\\n        \\n                  <div class=\\\"table-responsive\\\">\\n                    <table class=\\\"table table-bordered white-bg\\\">\\n                      <tbody>\\n                          <tr>\\n                              <th>{{'quickVisualization.project' | translate}}:</th>\\n                              <td>{{model?.property?.building?.name || ('table.tr.td.NA' | translate)}}</td>\\n                            </tr>\\n                            <tr>\\n                              <th>{{'quickVisualization.tower' | translate}}:</th>\\n                              <td>{{model?.property?.building_towers?.tower_name || ('table.tr.td.NA' | translate)}}</td>\\n                            </tr>\\n                            <tr>\\n                              <th>{{'quickVisualization.floor' | translate}}:</th>\\n                              <td>\\n                                  {{model?.property?.floor_num ? (model?.property?.floor_num == 0 ? ('addCollection.groundFloor' | translate) : ('addCollection.floor' | translate) + ' ' + model?.property?.floor_num) : ('table.tr.td.NA' | translate)}}\\n                              </td>\\n                            </tr>\\n                            <tr>\\n                              <th>{{'quickVisualization.model' | translate}}:</th>\\n                              <td>{{model?.property?.building_configuration?.name || ('table.tr.td.NA' | translate)}}</td>\\n                            </tr>\\n                            <tr>\\n                              <th>{{'quickVisualization.propertyName' | translate}}:</th>\\n                              <td>{{model?.property?.name || ('table.tr.td.NA' | translate)}}</td>\\n                            </tr>\\n                            <tr>\\n                              <th>{{'quickVisualization.price' | translate}}:</th>\\n                              <td>{{(model?.deal_price || 0) | currency}}</td>\\n                            </tr>\\n                      </tbody>\\n                    </table>\\n                  </div>\\n              </div>\\n          \\n              <div class=\\\"col-md-1\\\"></div>\\n          \\n              <div class=\\\"col-md-4\\\">  \\n                    <div class=\\\"table-responsive\\\">\\n                      <table class=\\\"table table-bordered white-bg\\\">\\n                          <tbody>\\n                              <tr>\\n                                  <th>{{'quickVisualization.purchaseDate' | translate}}:</th>\\n                                  <td>{{model?.deal_purchase_date ? (model?.deal_purchase_date | date:'dd/MMM/yyyy') : ('table.tr.td.NA' | translate)}}</td>\\n                                </tr>\\n                                <tr>\\n                                  <th>{{'quickVisualization.currency' | translate}}:</th>\\n                                  <td>{{model?.currency?.code || ('table.tr.td.NA' | translate)}}</td>\\n                                </tr>\\n                          </tbody>\\n                      </table>\\n                    </div>\\n                      <div class=\\\"table-responsive\\\">\\n                        <table class=\\\"table table-bordered white-bg\\\">\\n                            <tbody>\\n                                <tr>\\n                                    <th>{{'quickVisualization.paid' | translate}}:</th>\\n                                    <td>{{(model?.total_payment_recieved || 0) | currency}}</td>\\n                                    <!-- <td>{{(totalPaid || 0) | currency}}</td> -->\\n                                  </tr>\\n                                  <tr>\\n                                    <th>{{'quickVisualization.remaining' | translate}}:</th>\\n                                    <!-- <td>{{((model?.total || 0) - (model?.paid || 0)) | currency}}</td> -->\\n                                    <td>{{remainingAmt > 0 ? (remainingAmt | currency) : ( 0 | currency)}}</td>                                   <!-- <td>{{(totalOutstanding || 0) | currency}}</td> -->\\n                                  </tr>\\n                                  <tr>\\n                                    <th>{{'quickVisualization.totalPenalty' | translate}}:</th>\\n                                    <td>{{(model?.penalty || 0) | currency}}</td>\\n                                  </tr>\\n                            </tbody>\\n                        </table>\\n                      </div>\\n                </div>\\n        \\n          </div>\\n        \\n        \\n    \\n  <h5>{{'quickVisualization.paymentInformation' | translate}}</h5>\\n  <div class=\\\"cust-tabs\\\">\\n    <div class=\\\"tab-content white-bg\\\">\\n      <div class=\\\"table-responsive main-table\\\">\\n        <table class=\\\"table table-bordered table-striped table-align-center quick-table\\\">\\n          <thead>\\n            <tr>\\n                <th [style.width]=\\\"'200px'\\\" [style.z-index]=\\\"100\\\">\\n                  <b>{{'quickVisualization.concept' | translate}}</b>\\n                </th>\\n                <th [style.width]=\\\"'140px'\\\">\\n                  <b>{{'quickVisualization.month' | translate}}</b>\\n                </th>\\n                <!-- <th [style.width]=\\\"'140px'\\\">\\n                  <b>{{'quickVisualization.paymentDate' | translate}}</b>\\n                </th> -->\\n                <th [style.width]=\\\"'120px'\\\">\\n                    <b>{{'quickVisualization.paid' | translate}}</b>\\n                </th>\\n                <!-- <th [style.width]=\\\"'150px'\\\">\\n                  <b>{{'quickVisualization.paymentMethods' | translate}}</b>\\n                </th> -->\\n                <th [style.width]=\\\"'120px'\\\">\\n                    <b>{{'quickVisualization.outstandingPayment' | translate}}</b>\\n                </th>\\n                <!-- <th [style.width]=\\\"'120px'\\\">\\n                    <b>{{'quickVisualization.paidByUser' | translate}}</b>\\n                </th> -->\\n                <th [style.width]=\\\"'120px'\\\">\\n                    <b>{{'quickVisualization.toBePaidByUser' | translate}}</b>\\n                </th>\\n                <!-- <th>\\n                    <b>{{'quickVisualization.paymentAttachment' | translate}}</b>\\n                </th> -->\\n                <th [style.width]=\\\"'120px'\\\">\\n                    <b>{{'quickVisualization.penaltyFLP' | translate}}</b>\\n                </th>\\n                <th>\\n                    <b>{{'quickVisualization.penaltyDescription' | translate}}</b>\\n                </th>\\n            </tr>\\n          </thead>\\n          <tbody *ngFor=\\\"let p of paymentConcepts; let i=index\\\">\\n            <tr [ngClass]=\\\"{'remaining_amt': p.key == 'remaining_amt'}\\\">\\n              <td>\\n                <a style=\\\"color: #fff;\\\" class=\\\"color-changed\\\" data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapse{{i}}\\\">\\n                    {{p?.name}}\\n                </a>\\n              </td>\\n              <td>{{p?.date | date:'dd/MMM/yyyy'}}</td>\\n              <!-- <td>{{p?.payment_date || ''}}</td> -->\\n              <td>\\n                <!-- {{p?.paid_amount}}<br> -->\\n                {{p?.paid_amount && p?.paid_amount>'0.1' ? (p?.paid_amount | currency) : ''}}<br>\\n                <!-- {{p?.new_paid_amt ? (p?.new_paid_amt | currency) : ''}}  -->\\n                <!-- {{p?.is_paid_calculated == 1 ? p?.amount : (p?.collection_payment ? (p?.collection_payment?.amount | currency) : '')}} -->\\n              </td>\\n              <!-- <td>{{p?.collection_payment?.payment_method?.name || ''}}</td> -->\\n              <td>\\n                <span [ngClass]=\\\"{'red-color':p?.is_pending}\\\">\\n                  {{p?.outstanding_amount && p?.outstanding_amount > 0 ? (p?.outstanding_amount | currency) : ''}}\\n                </span>\\n                <!-- <span [ngClass]=\\\"{'red-color':(p?.amount != p?.collection_payment?.amount) && p?.collection_payment?.amount}\\\">\\n                  {{p?.is_paid_calculated!=1 && p?.amount ? ((p?.amount || 0) | currency) : ''}}\\n                </span> -->\\n              </td>\\n              <!-- <td>\\n                {{p?.collection_payment ? (p?.collection_payment?.amount | currency) : ''}}\\n              </td> -->\\n              <td>\\n                  {{p?.amount ? ((p?.amount || 0) | currency) : ''}}\\n              </td>\\n              <!-- <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"p?.collection_payment && p?.key!='total'\\\" target=\\\"_blank\\\" href=\\\"{{p?.collection_payment?.receipt}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>\\n              <td>\\n                <button class=\\\"action-icon\\\" *ngIf=\\\"p?.collection_payment?.description\\\" (click)=\\\"showDescription(p?.collection_payment?.description, 1)\\\">\\n                    <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                </button>\\n              </td> -->\\n              <td>\\n                {{p?.penalty ? ((p?.penalty?.amount || 0) | currency) : ''}}\\n              </td>\\n              <td>\\n                  <button class=\\\"action-icon\\\" *ngIf=\\\"p?.penalty?.description\\\" (click)=\\\"showDescription(p?.penalty?.description, 2)\\\">\\n                      <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                  </button>\\n              </td>              \\n              </tr>\\n            \\n            \\n              <tr id=\\\"collapse{{i}}\\\" class=\\\"panel-collapse collapse\\\">\\n                  <td colspan=\\\"5\\\" style=\\\"background: #fff;\\\">\\n                  <table>\\n                    <thead style=\\\"background: #00B96F; color: #fff;\\\">\\n                      <th [style.width]=\\\"'240px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.concept' | translate}}</th>\\n                      <th [style.width]=\\\"'300px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paymentDate' | translate}}</th>\\n                      <th [style.width]=\\\"'300px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paidByUser' | translate}}</th>\\n                      <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paymentMethods' | translate}}</th>\\n                      <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paymentAttachment' | translate}}</th>\\n                      <!-- <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paymentDescription' | translate}}</th> -->\\n                    </thead>\\n                    <tbody *ngIf=\\\"p?.collection_paymentss?.length>0\\\">\\n                      <ng-container *ngFor=\\\"let stats of p?.collection_paymentss\\\">\\n                        <tr *ngIf=\\\"stats.payment_type==1 || stats.payment_type==3 || stats.payment_type==4 || stats.payment_type==5\\\">\\n                          <td [style.backgroundColor]=\\\"'#fff'\\\" [style.color]=\\\"'#222'\\\">\\n                            {{p?.name || 'NA'}}\\n                          </td>\\n                          <td>\\n                            {{stats.payment_date ? (stats.payment_date | date:'dd/MMM/yyyy') : 'NA'}}\\n                          </td>\\n                          <td>\\n                            <span> {{stats?.amount ? (stats?.amount | currency) : ''}}</span> \\n                          </td>\\n                          <td>\\n                            <span> {{stats?.payment_method?.name || 'NA'}}</span> \\n                          </td>\\n                          <td>\\n                            <a class=\\\"green-color fontW500\\\" *ngIf=\\\"stats?.key!='total'\\\" target=\\\"_blank\\\" href=\\\"{{stats?.receipt}}\\\">\\n                              {{'quickVisualization.view' | translate}}\\n                            </a>\\n                          </td>\\n                          <!-- <td>\\n                            <button class=\\\"action-icon\\\" *ngIf=\\\"stats?.description\\\" (click)=\\\"showDescription(stats?.description, 1)\\\">\\n                                <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                            </button>\\n                          </td> -->\\n                        </tr>\\n                    </ng-container>\\n                    </tbody>\\n                  </table>\\n                </td>\\n                </tr>\\n            \\n          </tbody>\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#des-modal\\\" #viewDesModal></a>\\n<div class=\\\"modal animated\\\" id=\\\"des-modal\\\">\\n      <div class=\\\"modal-dialog fadeIndown\\\">\\n            <div class=\\\"modal-content notary-avail\\\">\\n                  <div class=\\\"modal-header popup-header\\\">\\n                        <h4 *ngIf=\\\"title==1\\\">{{'quickVisualization.paymentDescription' | translate}}</h4>\\n                        <h4 *ngIf=\\\"title==2\\\">{{'quickVisualization.penaltyDescription' | translate}}</h4>\\n                        <h4 *ngIf=\\\"title==3\\\">{{'quickVisualization.PCDescription' | translate}}</h4>\\n                        <h4 *ngIf=\\\"title==4\\\">{{'quickVisualization.CCDescription' | translate}}</h4>\\n                        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" #viewDesModalClose>&times;</button>\\n                        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeDescModal()\\\">&times;</button>\\n                  </div>\\n\\n                  <div class=\\\"modal-body\\\">\\n                        <div class=\\\"form-group-2\\\">\\n                              <div class=\\\"form-group\\\">\\n                                    <textarea rows=\\\"4\\\" readonly required class=\\\"form-control note\\\" name=\\\"description\\\" [(ngModel)]=\\\"description\\\"></textarea>\\n                              </div>\\n                        </div>\\n                  </div>\\n            </div>\\n      </div>\\n</div>\\n\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { IProperty } from 'src/app/common/property';\nimport { ActivatedRoute } from '@angular/router';\nimport { Collection } from 'src/app/models/collection.model';\nimport { AdminService } from 'src/app/services/admin.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\nconst EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\nconst EXCEL_EXTENSION = '.xlsx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ExcelService } from 'src/app/services/excel.service';\nimport { Workbook } from 'exceljs';\nimport * as fs from 'file-saver';\nimport { CurrencyPipe, DatePipe } from '@angular/common';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-account-statement',\n  templateUrl: './account-statement.component.html',\n  styleUrls: ['./account-statement.component.css'],\n  providers: [Collection, CurrencyPipe, DatePipe]\n})\n\nexport class AccountStatementComponent implements OnInit {\n\n  @ViewChild('viewDesModal') viewDesModal: ElementRef;\n  @ViewChild('viewDesModalClose') viewDesModalClose: ElementRef;\n  description: string;\n  title: any;\n  paymentConcepts: Array<any>;\n  collectionCommission: Array<any>;\n  totalPaid: number;\n  remainingAmt: number;\n  totalOutstanding: number;\n  public parameter: IProperty = {};\n  property_collection_id: string;\n  constructor(\n    private route: ActivatedRoute,\n    public model: Collection,\n    private admin: AdminService,\n    private spinner: NgxSpinnerService,\n    private translate: TranslateService,\n    private excelService: ExcelService,\n    private currencyPipe: CurrencyPipe,\n    private datePipe: DatePipe\n  ) { }\n\n  ngOnInit() {\n    this.parameter.sub = this.route.params.subscribe(params => {\n      this.property_collection_id = params['id'];\n      this.getCollectionDetails();\n    });\n  }\n\n  // getCollectionDetails() {\n  //   this.spinner.show();\n  //   this.admin.postDataApi('getCollectionById', {id: this.model.id})\n  //     .subscribe(\n  //       success => {\n  //         this.spinner.hide();\n  //         this.model = success['data'];\n  //         this.paymentConcepts = success['data']['payment_choices'];\n  //         this.collectionCommission = success['data']['collection_commissions'];\n  //         this.totalPaid = 0.00;\n  //         this.totalOutstanding = 0.00;\n\n\n          \n  //         const reducingP = [];\n  //         for (let index = 0; index < this.paymentConcepts.length; index++) {\n  //           const m = this.paymentConcepts[index];\n  //           m.payment_date = m.collection_payment ? this.getDateWRTTimezone(m.collection_payment.payment_date) : '';\n  //           //  calculating total penalty\n  //           // if (m.penalty){\n  //           //   this.model.totalPenalty = this.model.totalPenalty + parseInt(m.penalty.amount || 0)\n  //           // }\n\n\n  //           m.paid_amount = m.is_paid_calculated == 1 ? m.amount : (m.collection_payment ? (m.collection_payment.amount) : '');\n\n  //           // if type=2 means reducing payment => add one more row\n  //           // console.log(m)\n  //           if(m.type==2) {\n  //             const c = {\n  //               key: 'remaining_amt',\n  //               name: 'Payment to remaining (amount)',\n  //               paid_amount: m.extra_amount,\n  //               is_paid_calculated: 0,\n  //               outstanding_amount: 0,\n  //               index: index,\n  //               payment_date: this.getDateWRTTimezone(m.collection_payment.payment_date)\n  //             };\n  //             // console.log(c)\n  //             reducingP.push(c);     \n  //           }\n\n  //           if(m.type==3) {\n  //             const c = {\n  //               key: 'remaining_amt',\n  //               name: 'Payment to remaining (schedule)',\n  //               paid_amount: m.extra_amount,\n  //               is_paid_calculated: 0,\n  //               outstanding_amount: 0,\n  //               index: index,\n  //               payment_date: this.getDateWRTTimezone(m.collection_payment.payment_date)\n  //             };\n  //             // console.log(c)\n  //             reducingP.push(c);     \n  //           }\n\n  //           // calculating total paid and total outstanding payment\n  //           if (m.is_paid_calculated) {\n  //             // m['paid_amount'] = m.calc_payment_amount;\n  //             this.totalPaid = this.totalPaid + m.calc_payment_amount;\n  //           } \n  //           if ((m.amount - (m.calc_payment_amount||0))>=0) {\n  //             const a = (m.amount - (m.calc_payment_amount || 0) );\n  //             m['outstanding_amount'] = a > 0.01 ? a : 0;  // in a case difference was 0.02\n  //             m['is_pending'] = (a != m.amount && a!=0) ? 1 : 0;\n  //             this.totalOutstanding = this.totalOutstanding + a;\n  //           }\n  //         }\n\n  //         // now insert at reducing remaining payments at type=2 index\n  //         for (let i = 0; i < reducingP.length; i++) {\n  //           const element = reducingP[i];\n  //           this.paymentConcepts.splice(element.index, 0, element);              \n  //         }\n\n  //         this.paymentConcepts.push({\n  //           key: 'total',\n  //           name: 'Total',\n  //           paid_amount: this.totalPaid,\n  //           is_paid_calculated: 1,\n  //           outstanding_amount: this.totalOutstanding\n  //         })\n\n\n\n\n  //         // // this.model.totalPenalty = 0;\n  //         // this.paymentConcepts.forEach(m => {\n  //         //   //  calculating total penalty\n  //         //   // if (m.penalty){\n  //         //   //   this.model.totalPenalty = this.model.totalPenalty + parseInt(m.penalty.amount || 0)\n  //         //   // }\n  //         //   // calculating total paid and total outstanding payment\n  //         //   if (m.is_paid_calculated) {\n  //         //     m['paid_amount'] = m.calc_payment_amount;\n  //         //     this.totalPaid = this.totalPaid + m.calc_payment_amount;\n  //         //   } \n  //         //   if ((m.amount - (m.calc_payment_amount||0))>=0) {\n  //         //     const a = (m.amount - (m.calc_payment_amount || 0) );\n  //         //     m['outstanding_amount'] = a > 0.01 ? a : 0;  // in a case difference was 0.02\n  //         //     m['is_pending'] = (a != m.amount && a!=0) ? 1 : 0;\n  //         //     this.totalOutstanding = this.totalOutstanding + a;\n  //         //   }\n  //         // })\n  //         // this.paymentConcepts.push({\n  //         //   key: 'total',\n  //         //   name: 'Total',\n  //         //   paid_amount: this.totalPaid,\n  //         //   is_paid_calculated: 1,\n  //         //   outstanding_amount: this.totalOutstanding\n  //         // })\n  //         this.collectionCommission.push({})\n  //       }, error => {\n  //         this.spinner.hide();\n  //       }\n  //     );\n  // }\n\n\n  getCollectionDetails() {\n    this.spinner.show();\n    this.admin.postDataApi('getCollectionById', {id: this.property_collection_id})\n      .subscribe(\n        success => {\n          this.spinner.hide();\n          this.model = success['data'];\n          this.paymentConcepts = success['data']['payment_choices'];\n          // for dropdown\n          this.paymentConcepts = [...this.paymentConcepts];\n\n          this.collectionCommission = success['data']['collection_commissions'];\n          this.totalPaid = 0.00;\n          this.totalOutstanding = 0.00;\n          this.remainingAmt = (((this.model.deal_price || 0) + (this.model.penalty || 0)) - (this.model.total_payment_recieved || 0));\n          const reducingP = [];\n          for (let index = 0; index < this.paymentConcepts.length; index++) {\n            const m = this.paymentConcepts[index];\n            m.payment_date = m.collection_payment > 0 ? this.getDateWRTTimezone(m.collection_payment.payment_date, 'YYYY-MM-DD') : '';\n            m.paid_amount = m.calc_payment_amount ? m.calc_payment_amount : 0;\n\n            let c = {};\n            // if type=2 means reducing payment => add one more row\n            if (m.collection_paymentss && m.collection_paymentss.length > 0) {\n              for (let i = 0; i < m.collection_paymentss.length; i++) {\n                const paymnts = m.collection_paymentss[i];\n                c = {\n                  key: 'remaining_amt',\n                  name: '',\n                  paid_amount: paymnts.full_amount,\n                  is_paid_calculated: 0,\n                  outstanding_amount: 0,\n                  index: index + i,\n                  payment_type: 2,  // in real its 2\n                  receipt: paymnts.receipt,\n                  description: paymnts.description,\n                  display_choice_id: paymnts.display_choice_id,\n                  created_at: paymnts.created_at\n                };\n                if (paymnts.payment_type == 2) {\n                  c['name'] = 'Payment to remaining (Reduce Amount)';\n                  c['collection_paymentss'] = [{\n                    id: paymnts.id,\n                    parent_id: paymnts.parent_id,\n                    payment_type: 1,  // in real its 2\n                    paid_amount: paymnts.amount,\n                    amount: paymnts.amount,\n                    payment_date:  this.getDateWRTTimezone(paymnts.payment_date, 'YYYY-MM-DD'),\n                    receipt: paymnts.receipt,\n                    description: paymnts.description,\n                    payment_method: paymnts.payment_method\n                  }];\n                  reducingP.push(c);\n                } else if (paymnts.payment_type == 3 && paymnts.display_choice_id) {\n                  c['name'] = 'Payment to remaining (Reduce Time)';\n                  c['collection_paymentss'] = [{\n                    id: paymnts.id,\n                    parent_id: paymnts.parent_id,\n                    payment_type: 3,\n                    paid_amount: paymnts.full_amount,\n                    amount: paymnts.full_amount,\n                    payment_date:  this.getDateWRTTimezone(paymnts.payment_date, 'YYYY-MM-DD'),\n                    receipt: paymnts.receipt,\n                    description: paymnts.description,\n                    payment_method: paymnts.payment_method\n                  }];\n                  reducingP.push(c);\n                } else if (paymnts.payment_type == 5 && paymnts.display_choice_id) {\n                  c['name'] = 'Total Payment';\n                  c['collection_paymentss'] = [{\n                    id: paymnts.id,\n                    parent_id: paymnts.parent_id,\n                    payment_type: 5,\n                    paid_amount: paymnts.full_amount,\n                    amount: paymnts.full_amount,\n                    payment_date:  this.getDateWRTTimezone(paymnts.payment_date, 'YYYY-MM-DD'),\n                    receipt: paymnts.receipt,\n                    description: paymnts.description,\n                    payment_method: paymnts.payment_method\n                  }];\n                  reducingP.push(c);\n                }\n              }\n            }\n\n            // calculating total paid and total outstanding payment\n            this.totalPaid = this.totalPaid + m.paid_amount;\n            m['outstanding_amount'] = m.amount - (m.calc_payment_amount || 0);\n            if ((m.amount - (m.calc_payment_amount || 0)) >= 0) {\n              const a = (m.calc_payment_amount || 0);\n              m['is_pending'] = a ? 1 : 0;\n              this.totalOutstanding = this.totalOutstanding + m['outstanding_amount'];\n            }\n          }\n          // now insert at reducing remaining payments at type=2 index\n          // sorting reducingP according to date => in case user is paying using type 3 consecutively many times\n          reducingP.sort(this.sortFunction);\n\n          for (let i = 0; i < reducingP.length; i++) {\n            const element = reducingP[i];\n            // for payment_type 3,5 check display_choice_id\n            // loop is for if need to insert 2 type 2 payments on same index\n            for (let j = 0; j < this.paymentConcepts.length; j++) {\n              const e = this.paymentConcepts[j];\n              if (e.id == element.display_choice_id) {\n                this.paymentConcepts.splice(j, 0, element);\n                break;\n              }\n            }\n          }\n\n          // calculating new paid amt, by skipping type 2\n          for (let index = 0; index < this.paymentConcepts.length; index++) {\n            const element = this.paymentConcepts[index];\n            const p_amt: any = 0;\n            if (element.collection_paymentss && element.collection_paymentss.length > 0) {\n              for (let i = 0; i < element.collection_paymentss.length; i++) {\n                const ele = element.collection_paymentss[i];\n                // if payment_type 2 then reduce the amount from all MI (only)\n                if (ele.payment_type == 2) {\n                  const v = ele.amt_share || 0;\n                  const ids = ele.choices_ids.split(',');\n\n                  // deleting the share of type 2 from main header\n                  for (let j = 0; j < this.paymentConcepts.length; j++) {\n                    const e = this.paymentConcepts[j];\n                    if (e.id) {\n                      const d = e.id.toString();\n                      const h = ids.indexOf(d);\n                      if (h >= 0) {\n                        const obj = {\n                          amount: v,\n                          name: 'Payment to remaining (Reduce Amount)',\n                          payment_type: 1,  // in real its 3\n                          paid_amount: v,\n                          payment_date:  this.getDateWRTTimezone(ele.payment_date, 'YYYY-MM-DD'),\n                          receipt: ele.receipt,\n                          description: ele.description,\n                          payment_method: ele.payment_method\n                        };\n                        this.paymentConcepts[j].paid_amount = parseFloat(this.paymentConcepts[j].paid_amount) - parseFloat(v);\n                      }\n                    }\n                  }\n                }\n              }\n            }\n\n            element.new_paid_amt = p_amt;\n          }\n\n          this.paymentConcepts.push({\n            key: 'total',\n            name: 'Total',\n            // paid_amount: this.totalPaid,\n            paid_amount: this.model.total_payment_recieved,\n            is_paid_calculated: 1,\n            outstanding_amount: this.totalOutstanding\n          });\n\n          this.collectionCommission.push({});\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  exportData() {\n    if (this.paymentConcepts) {\n      const finalData = [];\n      for (let index = 0; index < this.paymentConcepts.length; index++) {\n        const p = this.paymentConcepts[index];\n        finalData.push({\n          'Concept': p.name || '',\n          'Month': p.date || '',\n          'Payment Date': p.collection_payment ? p.collection_payment.payment_date : '',\n          'Paid': p.paid_amount ? this.currencyPipe.transform(p.paid_amount) : '',\n          'Outstanding Payment': p.outstanding_amount ? this.currencyPipe.transform(p.outstanding_amount) : '',\n          'Payment Method': p.collection_payment && p.collection_payment.payment_method ? p.collection_payment.payment_method.name : '',\n          'Sozu Payment Receipt': p.collection_payment ? p.collection_payment.receipt : '',\n          'Penalty FLP': p.penalty ? this.currencyPipe.transform(p.penalty.amount) : '',\n          'Penalty Description': p.penalty ? p.penalty.description : '',\n        });\n      }\n      this.exportAsExcelFile(finalData, 'accountStatement-');\n    }\n  }\n\n\n  // will be used in case of excel\n  public exportAsExcelFile(json: any[], excelFileName: string): void {\n    const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(json);\n    const workbook: XLSX.WorkBook = {\n      Sheets: { data: worksheet },\n      SheetNames: ['data']\n    };\n    const excelBuffer: any = XLSX.write(workbook, {\n      bookType: 'xlsx',\n      type: 'array'\n    });\n    this.saveAsExcelFile(excelBuffer, excelFileName);\n  }\n\n  private saveAsExcelFile(buffer: any, fileName: string): void {\n    const data: Blob = new Blob([buffer], { type: EXCEL_TYPE });\n    const today = new Date();\n    const date =\n      today.getDate() +\n      '-' +\n      today.getMonth() +\n      '-' +\n      today.getFullYear() +\n      '_' +\n      today.getHours() +\n      '_' +\n      today.getMinutes() +\n      '_' +\n      today.getSeconds();\n    fileName = fileName + date;\n    FileSaver.saveAs(data, fileName + EXCEL_EXTENSION);\n  }\n\n  showDescription(description: string, title: any) {\n    if (description) {\n      this.title = title;\n      this.description = description;\n      this.viewDesModal.nativeElement.click();\n    }\n  }\n\n  closeDescModal() {\n    this.viewDesModalClose.nativeElement.click();\n  }\n\n\n  generateExcel() {\n    const title = 'Account Statement';\n    const header = [\"Year\", \"Month\", \"Make\", \"Model\", \"Quantity\", \"Pct\"]\n    const data = [\n      [2007, 1, \"Volkswagen \", \"Volkswagen Passat\", 1267, 10],\n      [2007, 1, \"Toyota \", \"Toyota Rav4\", 819, 6.5],\n      [2007, 1, \"Toyota \", \"Toyota Avensis\", 787, 6.2],\n      [2007, 1, \"Volkswagen \", \"Volkswagen Golf\", 720, 5.7],\n      [2007, 1, \"Toyota \", \"Toyota Corolla\", 691, 5.4],\n    ];\n\n\n    let workbook = new Workbook();\n    let worksheet = workbook.addWorksheet('Account Statement');\n\n    // Add new row\n    let titleRow = worksheet.addRow([title]);\n\n    // Set font, size and style in title row.\n    titleRow.font = { name: 'Comic Sans MS', family: 4, size: 16, underline: 'double', bold: true };\n\n    // Blank Row\n    worksheet.addRow([]);\n\n    //Add row with current date\n    // let subTitleRow = worksheet.addRow(['Date : ']);\n    // let subTitleRow = worksheet.addRow(['Date : ' + this.datePipe.transform(new Date(), 'medium')]);\n    worksheet.mergeCells('A2:D5');\n    worksheet.addRow([]);\n\n\n    // Add buyer info\n    worksheet.mergeCells('A7:A9');\n    worksheet.getCell('A5').value = 'Buyer Info';\n    worksheet.getCell('B4').value = 'Name';\n    worksheet.getCell('B5').value = 'Email';\n    worksheet.getCell('B6').value = 'PhoneBuyer Info';\n    worksheet.getCell('C4').value = '';\n    worksheet.getCell('C5').value = '';\n    worksheet.getCell('C6').value = '';\n\n    worksheet.mergeCells('D4:D6');\n    worksheet.getCell('D5').value = 'Seller Info';\n    worksheet.getCell('E4').value = 'Name Info';\n    worksheet.getCell('E5').value = 'Phone Info';\n    worksheet.getCell('E6').value = 'Email Info';\n\n\n    //Add Header Row\n    let headerRow = worksheet.addRow(header);\n\n    // Cell Style : Fill and Border\n    headerRow.eachCell((cell, number) => {\n      cell.fill = {\n        type: 'pattern',\n        pattern: 'solid',\n        fgColor: { argb: 'FFFFFF00' },\n        bgColor: { argb: 'FF0000FF' }\n      }\n      cell.border = { top: { style: 'thin' }, left: { style: 'thin' }, bottom: { style: 'thin' }, right: { style: 'thin' } }\n    });\n    // Add Data and Conditional Formatting\n    data.forEach(d => {\n      let row = worksheet.addRow(d);\n      let qty = row.getCell(5);\n      let color = 'FF99FF99';\n      if (+qty.value < 500) {\n        color = 'FF9999'\n      }\n\n      qty.fill = {\n        type: 'pattern',\n        pattern: 'solid',\n        fgColor: { argb: color }\n      }\n    }\n\n    );\n\n    workbook.xlsx.writeBuffer().then((data) => {\n      let blob = new Blob([data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n      fs.saveAs(blob, 'CarData.xlsx');\n    });\n  }\n\n\n  getDateWRTTimezone(date: any, format: any) {\n    const offset = new Date(date).getTimezoneOffset();\n    if (offset < 0) {\n      return moment(date).subtract(offset, 'minutes').format(format);\n    } else {\n      return moment(date).add(offset, 'minutes').format(format);\n    }\n  }\n\n  sortFunction(a, b) {\n    const dateA = new Date(a.created_at).getTime();\n    const dateB = new Date(b.created_at).getTime();\n    return dateA > dateB ? 1 : -1;\n  }\n}\n","module.exports = \".folder-box {\\n    /* background: #68abf4;\\n    border: 1px solid #4543437d; */\\n    background-image: url(/assets/img/ic_folder.svg);\\n    background-size: contain;\\n    height: auto;\\n    /* padding: 15px 6px; */\\n    margin: 15px;\\n    border-radius: 15px;\\n    background-size: cover;\\n}\\n.folder-box .form-group-3 {\\n    margin-bottom: 0px;\\n    height: 120px;\\n    padding-top: 60px;\\n}\\n.folder-box .form-group-3 p {\\n    text-align: center;\\n    font-size: 15px;\\n    word-break: break-word;\\n}\\n.folder-box button{\\n    padding: 4px 8px;\\n    border-radius: 4px;\\n    border-style: outset;\\n}\\n.folder-action-btn {\\n    text-align: right;\\n}\\n.folder-action-btn .fa{\\n    margin: 5px;\\n    font-size: 20px;\\n}\\n.is_commission_sale_enabled{\\n    width: 25px;\\n    height: 25px;\\n}\\n.edit{\\n    padding-right: 60px !important;\\n    color: rgba(0,0,0,0.5);\\n    font-size: 11px;\\n    position: absolute;\\n    right: -20px;\\n    top: 0;\\n  }\\n.model-body10P{\\n    padding: 10px !important;\\n  }\\n.my-modal-header{\\n    display: inline;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2NvbGxlY3Rpb25zL2FkZC1lZGl0LWNvbGxlY3Rpb24vYWRkLWVkaXQtY29sbGVjdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0k7bUNBQytCO0lBQy9CLGlEQUFpRDtJQUNqRCx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLHdCQUF3QjtJQUN4QixhQUFhO0lBQ2Isb0JBQW9CO0lBQ3BCLHVCQUF1QjtDQUMxQjtBQUNEO0lBQ0ksbUJBQW1CO0lBQ25CLGNBQWM7SUFDZCxrQkFBa0I7Q0FDckI7QUFDRDtJQUNJLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsdUJBQXVCO0NBQzFCO0FBQ0Q7SUFDSSxpQkFBaUI7SUFDakIsbUJBQW1CO0lBQ25CLHFCQUFxQjtDQUN4QjtBQUNEO0lBQ0ksa0JBQWtCO0NBQ3JCO0FBQ0Q7SUFDSSxZQUFZO0lBQ1osZ0JBQWdCO0NBQ25CO0FBQ0Q7SUFDSSxZQUFZO0lBQ1osYUFBYTtDQUNoQjtBQUVEO0lBQ0ksK0JBQStCO0lBQy9CLHVCQUF1QjtJQUN2QixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLGFBQWE7SUFDYixPQUFPO0dBQ1I7QUFFRDtJQUNFLHlCQUF5QjtHQUMxQjtBQUNEO0lBQ0UsZ0JBQWdCO0dBQ2pCIiwiZmlsZSI6InNyYy9hcHAvbGF5b3V0L2NvbGxlY3Rpb25zL2FkZC1lZGl0LWNvbGxlY3Rpb24vYWRkLWVkaXQtY29sbGVjdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvbGRlci1ib3gge1xuICAgIC8qIGJhY2tncm91bmQ6ICM2OGFiZjQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ1NDM0MzdkOyAqL1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgvYXNzZXRzL2ltZy9pY19mb2xkZXIuc3ZnKTtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIC8qIHBhZGRpbmc6IDE1cHggNnB4OyAqL1xuICAgIG1hcmdpbjogMTVweDtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG59XG4uZm9sZGVyLWJveCAuZm9ybS1ncm91cC0zIHtcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gICAgaGVpZ2h0OiAxMjBweDtcbiAgICBwYWRkaW5nLXRvcDogNjBweDtcbn1cbi5mb2xkZXItYm94IC5mb3JtLWdyb3VwLTMgcCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xufVxuLmZvbGRlci1ib3ggYnV0dG9ue1xuICAgIHBhZGRpbmc6IDRweCA4cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGJvcmRlci1zdHlsZTogb3V0c2V0O1xufVxuLmZvbGRlci1hY3Rpb24tYnRuIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbn1cbi5mb2xkZXItYWN0aW9uLWJ0biAuZmF7XG4gICAgbWFyZ2luOiA1cHg7XG4gICAgZm9udC1zaXplOiAyMHB4O1xufVxuLmlzX2NvbW1pc3Npb25fc2FsZV9lbmFibGVke1xuICAgIHdpZHRoOiAyNXB4O1xuICAgIGhlaWdodDogMjVweDtcbn1cblxuLmVkaXR7XG4gICAgcGFkZGluZy1yaWdodDogNjBweCAhaW1wb3J0YW50O1xuICAgIGNvbG9yOiByZ2JhKDAsMCwwLDAuNSk7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogLTIwcHg7XG4gICAgdG9wOiAwO1xuICB9XG4gIFxuICAubW9kZWwtYm9keTEwUHtcbiAgICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG4gIH1cbiAgLm15LW1vZGFsLWhlYWRlcntcbiAgICBkaXNwbGF5OiBpbmxpbmU7XG4gIH0iXX0= */\"","module.exports = \"\\n<div class=\\\"white-bg padding15\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-6\\\">\\n      <div class=\\\"title-group\\\">\\n        <h5 *ngIf=\\\"!editMode\\\"><a routerLink=\\\"/dashboard/collections/view-collections\\\" href=\\\"javascript://\\\"><i\\n              class=\\\"fa fa-angle-double-left\\\"></i> </a> &nbsp;&nbsp;{{'addCollection.addLabel' | translate}}</h5>\\n        <h5 *ngIf=\\\"editMode\\\"> <a routerLink=\\\"/dashboard/collections/view-collections\\\" href=\\\"javascript://\\\"><i\\n              class=\\\"fa fa-angle-double-left\\\"></i> </a> &nbsp;&nbsp;{{'addCollection.editLabel' | translate}}: {{model?.name}}</h5>\\n      </div>\\n    </div>\\n    <div class=\\\"col-md-6 btn-cont\\\">\\n      <!-- <app-add-lead *ngIf=\\\"this.parameter?.property_id && editMode\\\"  [property_id]=\\\"parameter.property_id\\\"></app-add-lead> -->\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"spacer10\\\"></div>\\n<div class=\\\"white-bg add-property padding20\\\">\\n  <div class=\\\"steps\\\">\\n    <ul class=\\\"d-flex\\\">\\n      <li [ngClass]=\\\"{'current': tab == 1}\\\"><span></span><a (click)=\\\"setTab(1)\\\">{{'addCollection.tabs.property' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 2}\\\"><span></span><a (click)=\\\"setTab(2)\\\">{{'addCollection.tabs.seller' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 3}\\\"><span></span><a (click)=\\\"setTab(3)\\\">{{'addCollection.tabs.buyer' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 4}\\\"><span></span><a (click)=\\\"setTab(4)\\\">{{'addCollection.tabs.deal' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 5}\\\"><span></span><a (click)=\\\"setTab(5)\\\">{{'addCollection.tabs.commission' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 6}\\\"><span></span><a (click)=\\\"setTab(6)\\\">{{'addCollection.tabs.uploadDocuments' | translate}}</a></li>\\n    </ul>\\n    <!-- <ul class=\\\"d-flex\\\">\\n      <li [ngClass]=\\\"{'current': tab == 1}\\\"><span></span><a>{{'addCollection.tabs.property' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 2}\\\"><span></span><a>{{'addCollection.tabs.seller' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 3}\\\"><span></span><a>{{'addCollection.tabs.buyer' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 4}\\\"><span></span><a>{{'addCollection.tabs.deal' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 5}\\\"><span></span><a>{{'addCollection.tabs.commission' | translate}}</a></li>\\n      <li [ngClass]=\\\"{'current': tab == 6}\\\"><span></span><a>{{'addCollection.tabs.uploadDocuments' | translate}}</a></li>\\n    </ul> -->\\n  </div>\\n</div>\\n\\n<div class=\\\"spacer10\\\"></div>\\n\\n\\n\\n<!-- Tag a building start -->\\n<div class=\\\"white-bg\\\" *ngIf=\\\"tab==1\\\">\\n  <div class=\\\"page-title\\\">\\n    <h3>{{'addCollection.chooseYourProperty' | translate}}</h3>\\n  </div>\\n\\n  <div class=\\\"padding40\\\" *ngIf=\\\"model?.building?.id && showSearch==false\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-sm-9 col-lg-9\\\">\\n        <p class=\\\"p16\\\">{{'addCollection.taggedBuildingName' | translate}}</p>\\n      </div>\\n      <div class=\\\"col-sm-3 col-lg-3 btn-cont text-right\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"showSearchBox()\\\">{{'addCollection.change' | translate}}</button>\\n      </div>\\n    </div>\\n    <p><b>{{model?.building?.name}}</b></p>\\n\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-sm-9 col-lg-9\\\">\\n        <p class=\\\"p16\\\">{{'addCollection.taggedTowerName' | translate}}</p>\\n      </div>\\n    </div>\\n    <p><b>{{model?.building_towers?.tower_name ? model?.building_towers?.tower_name : ('table.tr.td.NA' | translate)}}</b></p>\\n\\n    <div class=\\\"row\\\" *ngIf=\\\"model?.building_towers\\\">\\n      <div class=\\\"col-sm-9 col-lg-9\\\">\\n        <p class=\\\"p16\\\">{{'addCollection.taggedFloor' | translate}}</p>\\n      </div>\\n    </div>\\n    <p><b>\\n      {{model?.building_towers?.tower_name ? (model?.floor_num == 0 ? ('addCollection.groundFloor' | translate) : ('addCollection.floor' | translate) + ' ' + model?.floor_num) : 'NA'}}\\n    </b></p>\\n    \\n    <div class=\\\"row\\\" *ngIf=\\\"model?.name\\\">\\n      <div class=\\\"col-sm-9 col-lg-9\\\">\\n        <p class=\\\"p16\\\">{{'addCollection.taggedApartmentName' | translate}}</p>\\n      </div>\\n    </div>\\n    <p><b>{{model?.name ? model?.name : ('table.tr.td.NA' | translate)}}</b></p>\\n  \\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-sm-9 col-lg-9\\\">\\n        <p class=\\\"p16\\\">{{'addCollection.selectedDealType' | translate}}</p>\\n      </div>\\n    </div>\\n    <p><b>{{model?.availabilityStatusId == 1 ? availabilityStatus[0].name : availabilityStatus[1].name}}</b></p>\\n      \\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-sm-9 col-lg-9\\\">\\n        <p class=\\\"p16\\\">{{'addCollection.selectedModal' | translate}}</p>\\n      </div>\\n    </div>\\n    <p><b>{{model?.building_configuration?.name}}</b></p>\\n      \\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-12\\\">\\n        <div class=\\\"btn-cont text-right\\\">\\n          <button type=\\\"button\\\" (click)=\\\"tab=2\\\" class=\\\"btn btn-primary\\\">{{'addCollection.next' | translate}}</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"padding40\\\" *ngIf=\\\"showSearch\\\">\\n    <h5 class=\\\"p16-two\\\">{{'addCollection.SearchYourBuildingInOurDatabase' | translate}}</h5>\\n    <div class=\\\"searh d-flex\\\">\\n      <input autocomplete=\\\"off\\\" class=\\\"border-right-0\\\" autocomplete=\\\"off\\\" type=\\\"text\\\" #buildingname\\n        (keyup.enter)=\\\"searchBuilding(buildingname.value)\\\" name=\\\"buildingName\\\" [(ngModel)]=\\\"buildingName\\\">\\n      <button type=\\\"button\\\" class=\\\"btn\\\" type=\\\"button\\\" (click)=\\\"searchBuilding(buildingname.value)\\\">{{'addCollection.search' | translate}}</button>\\n    </div>\\n    <div class=\\\"spacer50\\\"></div>\\n    <div *ngIf=\\\"buildingLoading\\\">\\n      <img src=\\\"assets/img/loading_content.gif\\\" />\\n    </div>\\n    <div *ngIf=\\\"!buildingLoading && parameter.buildingCount != 0\\\" class=\\\"white-bg\\\">\\n\\n      <form autocomplete=\\\"off\\\" [formGroup]=\\\"addFormStep1\\\"  (ngSubmit)=\\\"createCollection(addFormStep1.value, 1)\\\">\\n        \\n        <!-- buildings listing -->\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-lg-6 col-md-12 col-sm-12 col-12\\\" \\n          *ngFor=\\\"let item of searchedBuildings| paginate: { itemsPerPage: parameter.itemsPerPage, currentPage: parameter.page, totalItems: parameter.buildingCount }; let i = index\\\">\\n            <app-project-block (setBuilding)=\\\"setBuildingId($event)\\\" (buildingIndex)=\\\"getBuildingIndex($event)\\\" [data]=\\\"item\\\" [index]=\\\"i\\\"></app-project-block>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"showError  &&  (addFormStep1.controls.building_id.invalid)\\\">\\n          <div *ngIf=\\\"addFormStep1.controls.building_id.errors?.required \\\" class=\\\"show-error\\\">\\n              {{'addCollectionValidations.thisIsRequired' | translate}}\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\" *ngIf=\\\"searchedBuildings?.length>0\\\">\\n          <div class=\\\"col-lg-6 col-md-12 col-sm-12 col-12\\\"></div>\\n          <div class=\\\"col-lg-6 col-md-12 col-sm-12 col-12 btn-cont text-right marginT15\\\">\\n            <pagination-controls class=\\\"my-pagination\\\" (pageChange)=\\\"getPage($event)\\\"></pagination-controls>\\n          </div>\\n        </div>\\n\\n        <!-- towers listing wrt building id -->\\n        <div class=\\\"row marginT20\\\" *ngIf=\\\"building.id\\\">\\n            <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-12\\\">\\n            <div class=\\\"form-group-3\\\">\\n              <label class=\\\"p16-two\\\">{{'addCollection.selectTowerIn' | translate}} {{selectedBuilding?.name}} <span class=\\\"color-red\\\">*</span></label>\\n              <select name=\\\"tower\\\" *ngIf=\\\"selectedBuilding\\\" formControlName=\\\"building_towers_id\\\" required class=\\\"form-control\\\" (change)=\\\"setTower($event.target.value)\\\">\\n                <option value=\\\"\\\">{{'addCollection.selectTower' | translate}}</option>\\n                <option *ngFor=\\\"let bt of selectedBuilding?.building_towers\\\" [value]=\\\"bt.id\\\">\\n                  {{bt.tower_name}}</option>\\n              </select>\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep1.controls.building_towers_id.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep1.controls.building_towers_id.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n            </div>\\n          </div>  \\n        </div>\\n\\n        <!-- floor listing wrt tower id -->\\n        <div class=\\\"row marginT20\\\" *ngIf=\\\"building.id && model.building_towers\\\">\\n          <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-12\\\">\\n            <div class=\\\"form-group-3\\\">\\n              <label class=\\\"p16-two\\\">{{'addCollection.selectFloorIn' | translate}} {{model.building_towers?.tower_name}} <span class=\\\"color-red\\\">*</span></label>\\n              <select required class=\\\"form-control\\\" name=\\\"floor_num\\\" formControlName=\\\"floor_num\\\" (change)=\\\"getProperties($event)\\\">\\n                <option value=\\\"\\\">{{'addCollection.selectFloor' | translate}}</option>\\n                <option *ngFor=\\\"let fa of model.building_towers?.unique_floors; let j=index\\\" [value]=\\\"fa\\\">\\n                  {{fa == 0 ? ('addCollection.groundFloor' | translate): ('addCollection.floor' | translate) + ' '+fa}}</option>\\n              </select>\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep1.controls.floor_num.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep1.controls.floor_num.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n            </div>\\n          </div>  \\n        </div>\\n\\n        <!-- properties listing wrt building id -->\\n        <div class=\\\"row marginT20\\\" *ngIf=\\\"building.id && model.building_towers && model.floor_num\\\">\\n            <div class=\\\"col-lg-6 col-md-6 col-sm-12 col-6\\\">\\n            <div class=\\\"form-group form-group-3\\\">\\n              <label class=\\\"p16-two\\\">{{'addCollection.selectYourApartment' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n\\n              <p-dropdown class=\\\"search-dropdown\\\"\\n                [options]=\\\"properties\\\" [style]=\\\"{'width':'100%'}\\\" formControlName=\\\"property_id\\\"\\n                [filter]=\\\"true\\\" optionLabel=\\\"name\\\" (onChange)=\\\"setPropertyId(property_id)\\\">\\n              </p-dropdown>\\n             \\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep1.controls.property_id.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep1.controls.property_id.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n            </div>\\n          </div>  \\n          <div class=\\\"col-lg-6 col-md-6 col-sm-12 col-6\\\">\\n            <div class=\\\"form-group-3\\\">\\n              <label class=\\\"p16-two\\\">{{'addCollection.selectDealType' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <label class=\\\"cust-radio\\\" *ngFor=\\\"let astatus of availabilityStatus; let a=index\\\">\\n                <input disabled type=\\\"radio\\\" (change)=\\\"setAvailableStatus(a)\\\" value=\\\"{{astatus.id}}\\\"\\n                  [checked]=\\\"model?.availabilityStatusId == astatus.id ? 'checked' : ''\\\" name=\\\"availabilityStatusId\\\">\\n                <span class=\\\"checkmark\\\">{{astatus.name}}</span>\\n              </label>      \\n              <div class=\\\"clearfix\\\"></div>\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep1.controls.for_sale.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep1.controls.for_sale.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n            </div>\\n          </div>  \\n        </div>\\n\\n        <div class=\\\"spacer15\\\"></div>\\n        <div class=\\\"row\\\" *ngIf=\\\"building.id && model.building_towers && model.floor_num\\\">\\n          <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-12\\\">\\n            <div class=\\\"form-group-3\\\">\\n              <label class=\\\"p16-two\\\">{{'addForm.selectModal' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <label class=\\\"cust-radio\\\" *ngFor=\\\"let configuration of configurations\\\">\\n                <input disabled type=\\\"radio\\\" required (change)=\\\"setConfiguration(configuration)\\\"\\n                  value=\\\"{{configuration.id}}\\\" [checked]=\\\"model.building_configuration_id == configuration.id ? 'checked' : ''\\\"\\n                  name=\\\"configuration_id\\\">\\n                <span class=\\\"checkmark\\\">{{configuration.name ? configuration.name : configuration.config.name}}</span>\\n              </label>\\n              <div class=\\\"clearfix\\\"></div>\\n            </div>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"showError  &&  (addFormStep1.controls.building_configuration_id.invalid)\\\">\\n          <div *ngIf=\\\"addFormStep1.controls.building_configuration_id.errors?.required \\\" class=\\\"show-error\\\">\\n              {{'addCollectionValidations.thisIsRequired' | translate}}\\n          </div>\\n        </div>\\n        <div class=\\\"spacer15\\\"></div>\\n        \\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-12\\\">\\n            <div class=\\\"btn-cont text-right\\\">\\n              <button type=\\\"submit\\\"  class=\\\"btn btn-primary\\\">{{'addCollection.next' | translate}}</button>\\n            </div>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n\\n    <p *ngIf=\\\"parameter.buildingCount == 0 && showText\\\" class=\\\"p18\\\">\\n      <!-- {{'addCollection.didntFoundyourBuilding' | translate}}  -->\\n      <strong>\\n        <!-- <span (click)=\\\"showBuildingDetails(true)\\\" class=\\\"green-color cursor-pointer\\\">\\n          {{'addCollection.GenerateARequesttoAddABuildingByOurDataCollectors' | translate}}\\n        </span> -->\\n        <span class=\\\"green-color\\\">\\n          {{'addCollection.buildingYouAreSearchingNotFound' | translate}}\\n        </span>\\n      </strong>\\n    </p>\\n    <div *ngIf=\\\"showBuilding\\\" class=\\\"spacer50\\\"></div>\\n\\n    <form autocomplete=\\\"off\\\" ngNativeValidate #buildingRequestForm=\\\"ngForm\\\" (ngSubmit)=\\\"buildingRequest()\\\">\\n      <div *ngIf=\\\"showBuilding\\\" class=\\\"row\\\">\\n        <div class=\\\"col-lg-7 col-md-12 col-sm-12 col-12\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.nameBuilding' | translate}}</label>\\n                <input autocomplete=\\\"off\\\" required class=\\\"form-control\\\" [pattern]=\\\"constant.onlyWhiteSpaces\\\" type=\\\"text\\\" name=\\\"name\\\"\\n                  [(ngModel)]=\\\"building.name\\\" placeholder=\\\"{{'addForm.placeholder.nameOfBuilding' | translate}}\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.whereItIsLocated' | translate}}</label>\\n                <input required placeholder=\\\"{{'addForm.placeholder.searchForLocation' | translate}}\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\"\\n                  spellcheck=\\\"off\\\" type=\\\"text\\\" class=\\\"form-control\\\" #search (input)=\\\"loadPlaces()\\\"\\n                  [formControl]=\\\"searchControl\\\" [(ngModel)]=\\\"building.address\\\" name=\\\"address\\\">\\n              </div>\\n            </div>\\n          </div>\\n          <label class=\\\"label-optional\\\">{{'addCollection.developerDetails' | translate}}</label>\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.nameOfDeveloper' | translate}}</label>\\n                <input autocomplete=\\\"off\\\" class=\\\"form-control\\\" [pattern]=\\\"constant.onlyWhiteSpaces\\\" type=\\\"text\\\" name=\\\"dev_name\\\"\\n                  [(ngModel)]=\\\"building.dev_name\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.contactNumber' | translate}}</label>\\n                <input (keydown.space)=\\\"$event.preventDefault();\\\" autocomplete=\\\"off\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"dev_phone\\\"\\n                  [(ngModel)]=\\\"building.dev_phone\\\" name=\\\"dev_phone\\\" ng2TelInput [ng2TelInputOptions]=\\\"initialCountry\\\"\\n                  (countryChange)=\\\"onCountryChange($event)\\\" />\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-sm-12 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.emailId' | translate}}</label>\\n                <input (keydown.space)=\\\"$event.preventDefault();\\\" autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"email\\\" name=\\\"dev_email\\\"\\n                  [(ngModel)]=\\\"building.dev_email\\\">\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-5 col-md-12 col-sm-12 col-12\\\">\\n          <div class=\\\"form-group-3 mark-pin-map\\\">\\n            <label>{{'addCollection.markPinonMap' | translate}}</label>\\n          </div>\\n          <div>\\n            <agm-map [latitude]=\\\"latitude\\\" [longitude]=\\\"longitude\\\" [scrollwheel]=\\\"false\\\"\\n              (mapClick)=\\\"placeMarker($event)\\\" [zoom]=\\\"zoom\\\">\\n              <agm-marker [latitude]=\\\"latitude\\\" [longitude]=\\\"longitude\\\"></agm-marker>\\n            </agm-map>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\" *ngIf=\\\"showBuilding\\\">\\n        <div class=\\\"col-md-12\\\">\\n          <div class=\\\"btn-cont text-right\\\">\\n            <button type=\\\"submit\\\" [disabled]=\\\"buildingRequestForm.invalid\\\" class=\\\"btn btn-primary\\\">{{'addCollection.submitRequest' | translate}}</button>\\n          </div>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n<!-- Tag a building end -->\\n\\n\\n<form autocomplete=\\\"off\\\" [formGroup]=\\\"addFormStep2\\\" (ngSubmit)=\\\"createCollection(addFormStep2.value, 2)\\\">\\n  <div class=\\\"white-bg\\\" *ngIf=\\\"tab==2\\\">\\n    <div class=\\\"page-title\\\">\\n      <h3>{{'addCollection.chooseTheSeller' | translate}}</h3>\\n    </div>\\n\\n    <div style=\\\"padding: 0px 40px;\\\">\\n        \\n      <div class=\\\"form-group-3 row\\\">\\n          <h5 class=\\\"col-sm-3 p16-two\\\">{{'addCollection.chooseSellerType' | translate}}:</h5>\\n          <div class=\\\"col-sm-9\\\">\\n              <div class=\\\"clearfix\\\"></div>\\n              <label class=\\\"cust-radio\\\">\\n                <input disabled type=\\\"radio\\\" formControlName=\\\"seller_type\\\" (change)=\\\"setValue('seller_type', 1)\\\" value=\\\"1\\\" [checked]=\\\"model.seller_type == 1 ? 'checked' : ''\\\" name=\\\"seller_type\\\">\\n                <span class=\\\"checkmark\\\">{{'addCollection.person' | translate}}</span>\\n              </label>\\n              <label class=\\\"cust-radio\\\">\\n                <input disabled type=\\\"radio\\\" formControlName=\\\"seller_type\\\" (change)=\\\"setValue('seller_type', 2)\\\" value=\\\"2\\\" [checked]=\\\"model.seller_type == 2 ? 'checked' : ''\\\" name=\\\"seller_type\\\">\\n                <span class=\\\"checkmark\\\">{{'addCollection.legalEntity' | translate}}</span>\\n              </label>\\n              <label class=\\\"cust-radio\\\">\\n                <input disabled type=\\\"radio\\\" formControlName=\\\"seller_type\\\" (change)=\\\"setValue('seller_type', 3)\\\" value=\\\"3\\\" [checked]=\\\"model.seller_type == 3 ? 'checked' : ''\\\" name=\\\"seller_type\\\">\\n                <span class=\\\"checkmark\\\">{{'addCollection.developer' | translate}}</span>\\n              </label>\\n              <div class=\\\"clearfix\\\"></div>\\n          </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"paddingT0 padding40\\\">\\n\\n      <!-- search seller -->\\n        <h5 class=\\\"p16-two\\\">{{'addCollection.SearchASellerInOurDatabase' | translate}}</h5>\\n        <div class=\\\"searh d-flex\\\" >\\n          <!-- (click)=\\\"getAllSellers('')\\\" -->\\n          <input readonly class=\\\"border-right-0\\\" autocomplete=\\\"off\\\" type=\\\"text\\\" readonly name=\\\"ss\\\">\\n          <button disabled class=\\\"btn\\\" type=\\\"button\\\">{{'addCollection.search' | translate}}</button>\\n        </div>\\n        <div class=\\\"spacer50\\\"></div>\\n\\n        <!-- complete seller details -->\\n        <h5 class=\\\"p16-two\\\">{{'addCollection.completeTheSellerInfo' | translate}}</h5>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n            <div class=\\\"form-group-3\\\">\\n              <label>{{ model.seller_type == 1 ? ('addCollection.name' | translate) : ('addCollection.commercialName' | translate)}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" type=\\\"text\\\" name=\\\"seller_name\\\" class=\\\"form-control\\\" formControlName=\\\"seller_name\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_name.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep2.controls.seller_name.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMin1Limit' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMax50Limit' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\" *ngIf=\\\"model.seller_type !=2 \\\">\\n            <div class=\\\"form-group-3\\\">\\n              <label>{{ model.seller_type == 1 ? ('addCollection.firstSurname' | translate) : ('addCollection.firstSurname' | translate)}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" type=\\\"text\\\" name=\\\"seller_first_surname\\\" class=\\\"form-control\\\" formControlName=\\\"seller_first_surname\\\">\\n            </div>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\" *ngIf=\\\"model.seller_type !=2 \\\">\\n            <div class=\\\"form-group-3\\\">\\n              <label>{{ model.seller_type == 1 ? ('addCollection.secondSurname' | translate) : ('addCollection.secondSurname' | translate)}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" type=\\\"text\\\" name=\\\"seller_second_surname\\\" class=\\\"form-control\\\" formControlName=\\\"seller_second_surname\\\">\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"model.seller_type !=1 \\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n            <div class=\\\"form-group-3\\\">\\n              <label>{{ 'addCollection.legalName' | translate }}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" type=\\\"text\\\" name=\\\"seller_legal_name\\\" class=\\\"form-control\\\" formControlName=\\\"seller_legal_name\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_legal_name.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep2.controls.seller_legal_name.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_legal_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMin1Limit' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_legal_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMax30Limit' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.phonenumber' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly (keydown.space)=\\\"$event.preventDefault();\\\"\\n                class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"seller_phone\\\" formControlName=\\\"seller_phone\\\" autocomplete=\\\"off\\\" >\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_phone.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep2.controls.seller_phone.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_phone.errors?.pattern \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.phonePatternCheck' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_phone.errors?.minlength && !addFormStep2.controls.seller_phone.errors?.pattern\\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.phoneMin8Limit' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_phone.errors?.maxlength && !addFormStep2.controls.seller_phone.errors?.pattern\\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.phoneMax15Limit' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"model.seller_type !=1\\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.address' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"seller_address\\\" formControlName=\\\"seller_address\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_address.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep2.controls.seller_address.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_address.errors?.minlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMin1Limit' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"model.seller_type==1\\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.email' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" (keydown.space)=\\\"$event.preventDefault();\\\" \\n                class=\\\"form-control\\\" type=\\\"email\\\" name=\\\"seller_email\\\" formControlName=\\\"seller_email\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_email.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep2.controls.seller_email.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n             <div *ngIf=\\\"addFormStep2.controls.seller_email.errors?.email \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.emailInvalid' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"model.seller_type==1\\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.companyName' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"seller_company_name\\\" formControlName=\\\"seller_company_name\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_company_name.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep2.controls.seller_company_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMin1Limit' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_company_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMax30Limit' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.fedralTaxPayerRegistry' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"seller_fed_tax\\\" formControlName=\\\"seller_fed_tax\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_fed_tax.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep2.controls.seller_fed_tax.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.fedTaxMin12Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep2.controls.seller_fed_tax.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.fedTaxMax13Limit' | translate}}\\n                </div>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"spacer50\\\"></div>\\n        <!-- bank account -->\\n        <h5 class=\\\"p16-two\\\">{{'addCollection.bankAccount' | translate}}\\n          <span [style.display]=\\\"'none'\\\" class=\\\"pull-right\\\"><a class=\\\"add\\\" (click)=\\\"addSellerBank($event)\\\" href=\\\"javascript://\\\">{{'addCollection.addNewBankAccount' | translate}}</a></span>\\n        </h5>\\n        <div formArrayName=\\\"collection_seller_banks\\\">\\n        <ng-container *ngFor=\\\"let seller_banks of addFormStep2.get('collection_seller_banks').controls; let i=index\\\">\\n            <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.bankName' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly required autocomplete=\\\"off\\\" class=\\\"form-control\\\" minlength=\\\"1\\\" maxlength=\\\"30\\\" type=\\\"text\\\" name=\\\"bank_name\\\" formControlName=\\\"bank_name\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep2.controls.collection_seller_banks.controls[i].controls.bank_name.invalid)\\\">\\n                  <div *ngIf=\\\"addFormStep2.controls.collection_seller_banks.controls[i].controls.bank_name.errors?.required \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.thisIsRequired' | translate}}\\n                  </div>  \\n                    <div *ngIf=\\\"addFormStep2.controls.collection_seller_banks.controls[i].controls.bank_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                    </div>\\n                    <div *ngIf=\\\"addFormStep2.controls.collection_seller_banks.controls[i].controls.bank_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                    </div>\\n                </div>\\n              </div> \\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.accountNumber' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" name=\\\"account_number\\\" formControlName=\\\"account_number\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep2.controls.collection_seller_banks.controls[i].controls.account_number.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep2.controls.collection_seller_banks.controls[i].controls.account_number.errors?.required \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.clabeSwift' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly required autocomplete=\\\"off\\\" (keydown.space)=\\\"$event.preventDefault();\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"swift\\\" formControlName=\\\"swift\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep2.controls.collection_seller_banks.controls[i].controls.swift.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep2.controls.collection_seller_banks.controls[i].controls.swift.errors?.required \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.currency' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <select readonly required name=\\\"currency_id\\\" formControlName=\\\"currency_id\\\" required class=\\\"form-control\\\">\\n                    <option value=\\\"\\\">{{'addCollection.currency' | translate}}</option>\\n                    <option value=\\\"{{c.id}}\\\" *ngFor=\\\"let c of currencies\\\">{{ c?.code }} | {{c?.currency}}</option>\\n                  </select>\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep2.controls.collection_seller_banks.controls[i].controls.currency_id.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep2.controls.collection_seller_banks.controls[i].controls.currency_id.errors?.required \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n              <div [style.display]=\\\"'none'\\\" class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.remove' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <button type=\\\"button\\\" (click)=\\\"removeSellerBank($event, seller_banks, i)\\\">{{'addCollection.remove' | translate}}</button>\\n                </div>\\n              </div>\\n            </div>\\n        </ng-container>\\n        </div>\\n\\n        <div class=\\\"spacer50\\\"></div>\\n        <!-- legal Representative Info -->\\n        <h5 class=\\\"p16-two\\\">{{'addCollection.legalRepresentativeInfo' | translate}}</h5>\\n        <div class=\\\"row\\\" *ngIf=\\\"model.seller_type\\\">\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.name' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"seller_leg_rep_name\\\" formControlName=\\\"seller_leg_rep_name\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_leg_rep_name.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_name.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMin1Limit' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMax30Limit' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.firstSurname' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"seller_leg_rep_first_surname\\\" formControlName=\\\"seller_leg_rep_first_surname\\\">\\n            </div>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.secondSurname' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"seller_leg_rep_second_surname\\\" formControlName=\\\"seller_leg_rep_second_surname\\\">\\n          </div>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.phonenumber' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" (keydown.space)=\\\"$event.preventDefault();\\\"\\n                type=\\\"text\\\" name=\\\"seller_leg_rep_phone\\\" formControlName=\\\"seller_leg_rep_phone\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_leg_rep_phone.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_phone.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_phone.errors?.pattern \\\" class=\\\"show-error\\\">\\n                {{'addCollectionValidations.phonePatternCheck' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_phone.errors?.minlength && !addFormStep2.controls.seller_leg_rep_phone.errors?.pattern\\\" class=\\\"show-error\\\">\\n                {{'addCollectionValidations.phoneMin8Limit' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_phone.errors?.maxlength && !addFormStep2.controls.seller_leg_rep_phone.errors?.pattern\\\" class=\\\"show-error\\\">\\n                {{'addCollectionValidations.phoneMax15Limit' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.email' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"email\\\" (keydown.space)=\\\"$event.preventDefault();\\\" name=\\\"seller_leg_rep_email\\\" formControlName=\\\"seller_leg_rep_email\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_leg_rep_email.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_email.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_email.errors?.email \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.emailInvalid' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"model.seller_type==1\\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.companyName' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"seller_leg_rep_comp\\\" formControlName=\\\"seller_leg_rep_comp\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_leg_rep_comp.invalid)\\\">\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_comp.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_comp.errors?.minlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMin1Limit' | translate}}\\n              </div>\\n              <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_comp.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.nameMax30Limit' | translate}}\\n              </div>\\n            </div>\\n          </div>\\n        <!-- </div> -->\\n        <!-- <div class=\\\"row\\\"> -->\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.fedralTaxPayerRegistry' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"seller_leg_rep_fed_tax\\\" formControlName=\\\"seller_leg_rep_fed_tax\\\">\\n            </div>\\n            <div *ngIf=\\\"showError  &&  (addFormStep2.controls.seller_leg_rep_fed_tax.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_fed_tax.errors?.required \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_fed_tax.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.fedTaxMin12Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep2.controls.seller_leg_rep_fed_tax.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.fedTaxMax13Limit' | translate}}\\n                </div>\\n            </div>\\n          </div>\\n        </div>\\n        \\n        \\n        <div class=\\\"spacer50\\\"></div>\\n        <!-- bank account -->\\n        <h5 class=\\\"p16-two\\\">{{'addCollection.bankAccount' | translate}}\\n          <span [style.display]=\\\"'none'\\\" class=\\\"pull-right\\\"><a class=\\\"add\\\" (click)=\\\"addSellerRepBank($event)\\\" href=\\\"javascript://\\\">{{'addCollection.addNewBankAccount' | translate}}</a></span>\\n        </h5>\\n        <div formArrayName=\\\"collection_seller_rep_banks\\\">\\n        <ng-container *ngFor=\\\"let seller_rep_banks of addFormStep2.get('collection_seller_rep_banks').controls; let i=index\\\">\\n            <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.bankName' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly required autocomplete=\\\"off\\\" minlength=\\\"1\\\" maxlength=\\\"30\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"bank_name\\\" formControlName=\\\"bank_name\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.bank_name.invalid)\\\">\\n                  <div *ngIf=\\\"addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.bank_name.errors?.required \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>  \\n                  <div *ngIf=\\\"addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.bank_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                    </div>\\n                    <div *ngIf=\\\"addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.bank_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                    </div>\\n                </div>\\n              </div> \\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.accountNumber' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" name=\\\"account_number\\\" formControlName=\\\"account_number\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.account_number.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.account_number.errors?.required \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.clabeSwift' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly required autocomplete=\\\"off\\\" class=\\\"form-control\\\" (keydown.space)=\\\"$event.preventDefault();\\\" type=\\\"text\\\" name=\\\"swift\\\" formControlName=\\\"swift\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.swift.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.swift.errors?.required \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.currency' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <select readonly required name=\\\"currency_id\\\" formControlName=\\\"currency_id\\\" required class=\\\"form-control\\\">\\n                    <option value=\\\"\\\">{{'addCollection.currency' | translate}}</option>\\n                    <option value=\\\"{{c.id}}\\\" *ngFor=\\\"let c of currencies\\\">{{ c?.code }} | {{c?.currency}}</option>\\n                  </select>\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.currency_id.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep2.controls.collection_seller_rep_banks.controls[i].controls.currency_id.errors?.required \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n              <div [style.display]=\\\"'none'\\\" class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.remove' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <button  type=\\\"button\\\" (click)=\\\"removeSellerRepBank($event, seller_rep_banks, i)\\\">{{'addCollection.remove' | translate}}</button>\\n                </div>\\n              </div>\\n            </div>\\n        </ng-container>\\n        </div>\\n\\n\\n      <div class=\\\"spacer15\\\"></div>\\n\\n      <div class=\\\"spacer15\\\"></div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12\\\">\\n          <div class=\\\"btn-cont text-right\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"setTab(1)\\\">{{'addCollection.previous' | translate}}</button>\\n            <button type=\\\"submit\\\" class=\\\"btn btn-primary marginL15\\\">{{'addCollection.next' | translate}}</button>\\n          </div>\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n</form>\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n<form autocomplete=\\\"off\\\" [formGroup]=\\\"addFormStep3\\\" (ngSubmit)=\\\"createCollection(addFormStep3.value, 3)\\\">\\n    <div class=\\\"white-bg\\\" *ngIf=\\\"tab==3\\\">\\n      <div class=\\\"page-title\\\">\\n        <h3>{{'addCollection.chooseTheBuyer' | translate}}</h3>\\n      </div>\\n\\n      \\n      <div style=\\\"padding: 0px 40px;\\\">      \\n        <div class=\\\"form-group-3 row\\\">\\n            <h5 class=\\\"col-sm-3 p16-two\\\">{{'addCollection.chooseBuyerType' | translate}}:</h5>\\n            <div class=\\\"col-sm-9\\\">\\n                <div class=\\\"clearfix\\\"></div>\\n                <label class=\\\"cust-radio\\\">\\n                  <input disabled type=\\\"radio\\\" formControlName=\\\"buyer_type\\\" (change)=\\\"setValue('buyer_type', 1)\\\" value=\\\"1\\\" [checked]=\\\"model.buyer_type == 1 ? 'checked' : ''\\\" name=\\\"buyer_type\\\">\\n                  <span class=\\\"checkmark\\\">{{'addCollection.person' | translate}}</span>\\n                </label>\\n                <label class=\\\"cust-radio\\\">\\n                  <input disabled type=\\\"radio\\\" formControlName=\\\"buyer_type\\\" (change)=\\\"setValue('buyer_type', 2)\\\" value=\\\"2\\\" [checked]=\\\"model.buyer_type == 2 ? 'checked' : ''\\\" name=\\\"buyer_type\\\">\\n                  <span class=\\\"checkmark\\\">{{'addCollection.legalEntity' | translate}}</span>\\n                </label>\\n                <label class=\\\"cust-radio\\\">\\n                  <input disabled type=\\\"radio\\\" formControlName=\\\"buyer_type\\\" (change)=\\\"setValue('buyer_type', 3)\\\" value=\\\"3\\\" [checked]=\\\"model.buyer_type == 3 ? 'checked' : ''\\\" name=\\\"buyer_type\\\">\\n                  <span class=\\\"checkmark\\\">{{'addCollection.developer' | translate}}</span>\\n                </label>\\n                <div class=\\\"clearfix\\\"></div>\\n            </div>\\n        </div>\\n      </div>\\n  \\n\\n      <div class=\\\"paddingT0 padding40\\\">\\n  \\n        <!-- search -->\\n          <h5 class=\\\"p16-two\\\">{{'addCollection.SearchABuyerInOurDatabase' | translate}}</h5>\\n          <div class=\\\"searh d-flex\\\">\\n            <!-- (click)=\\\"getAllSellers('')\\\" -->\\n            <input readonly class=\\\"border-right-0\\\" autocomplete=\\\"off\\\" type=\\\"text\\\" readonly name=\\\"bb\\\">\\n            <button disabled class=\\\"btn\\\" type=\\\"button\\\">{{'addCollection.search' | translate}}</button>\\n          </div>\\n          <div class=\\\"spacer50\\\"></div>\\n  \\n          <!-- complete details -->\\n          <h5 class=\\\"p16-two\\\">{{'addCollection.completeTheBuyerInfo' | translate}}</h5>\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{ model.buyer_type == 1 ? ('addCollection.name' | translate) : ('addCollection.commercialName' | translate)}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" type=\\\"text\\\" name=\\\"buyer_name\\\" class=\\\"form-control\\\" formControlName=\\\"buyer_name\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_name.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_name.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMax50Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\" *ngIf=\\\"model.buyer_type !=2 \\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{ model.buyer_type == 1 ? ('addCollection.firstSurname' | translate) : ('addCollection.firstSurname' | translate)}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" type=\\\"text\\\" name=\\\"buyer_first_surname\\\" class=\\\"form-control\\\" formControlName=\\\"buyer_first_surname\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\" *ngIf=\\\"model.buyer_type !=2 \\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{ model.buyer_type == 1 ? ('addCollection.secondSurname' | translate) : ('addCollection.secondSurname' | translate)}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" type=\\\"text\\\" name=\\\"buyer_second_surname\\\" class=\\\"form-control\\\" formControlName=\\\"buyer_second_surname\\\">\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"model.buyer_type !=1 \\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <div class=\\\"form-group-3\\\">\\n                <label>{{ 'addCollection.legalName' | translate }}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" type=\\\"text\\\" name=\\\"buyer_legal_name\\\" class=\\\"form-control\\\" formControlName=\\\"buyer_legal_name\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_legal_name.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_legal_name.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_legal_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_legal_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.phonenumber' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input  readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\"\\n                pattern=\\\"{{constant.phonePattern}}\\\" (keydown.space)=\\\"$event.preventDefault();\\\"\\n                name=\\\"buyer_phone\\\" formControlName=\\\"buyer_phone\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_phone.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_phone.errors?.required \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_phone.errors?.pattern \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.phonePatternCheck' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_phone.errors?.minlength && !addFormStep3.controls.buyer_phone.errors?.pattern\\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.phoneMin8Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_phone.errors?.maxlength && !addFormStep3.controls.buyer_phone.errors?.pattern\\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.phoneMax15Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"model.buyer_type !=1\\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.address' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"buyer_address\\\" formControlName=\\\"buyer_address\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_address.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_address.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_address.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_address.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"model.buyer_type==1\\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.email' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" (keydown.space)=\\\"$event.preventDefault();\\\" class=\\\"form-control\\\" type=\\\"email\\\" name=\\\"buyer_email\\\" formControlName=\\\"buyer_email\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_email.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_email.errors?.required \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_email.errors?.email \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.emailInvalid' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"model.buyer_type==1\\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.companyName' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"buyer_company_name\\\" formControlName=\\\"buyer_company_name\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_company_name.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_company_name.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_company_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_company_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"row\\\">\\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.fedralTaxPayerRegistry' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"buyer_fed_tax\\\" formControlName=\\\"buyer_fed_tax\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_fed_tax.invalid)\\\">\\n               <div *ngIf=\\\"addFormStep3.controls.buyer_fed_tax.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.fedTaxMin12Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_fed_tax.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.fedTaxMax13Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n\\n\\n          <div class=\\\"spacer50\\\"></div>\\n          <!-- bank account -->\\n          <h5 class=\\\"p16-two\\\">{{'addCollection.bankAccount' | translate}}\\n            <span [style.display]=\\\"'none'\\\" class=\\\"pull-right\\\"><a class=\\\"add\\\" (click)=\\\"addBuyerBank($event)\\\" href=\\\"javascript://\\\">{{'addCollection.addNewBankAccount' | translate}}</a></span>\\n          </h5>\\n          <div formArrayName=\\\"collection_buyer_banks\\\">\\n            <ng-container *ngFor=\\\"let buyer_banks of addFormStep3.get('collection_buyer_banks').controls; let i=index\\\">\\n              <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\n                <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.bankName' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"bank_name\\\" formControlName=\\\"bank_name\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep3.controls.collection_buyer_banks.controls[i].controls.bank_name.invalid)\\\">\\n                  <div *ngIf=\\\"addFormStep3.controls.collection_buyer_banks.controls[i].controls.bank_name.errors?.required \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>  \\n                  <div *ngIf=\\\"addFormStep3.controls.collection_buyer_banks.controls[i].controls.bank_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                    </div>\\n                    <div *ngIf=\\\"addFormStep3.controls.collection_buyer_banks.controls[i].controls.bank_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                    </div>\\n                </div>\\n              </div> \\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.accountNumber' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" name=\\\"account_number\\\" formControlName=\\\"account_number\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep3.controls.collection_buyer_banks.controls[i].controls.account_number.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep3.controls.collection_buyer_banks.controls[i].controls.account_number.errors?.required \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.clabeSwift' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly required autocomplete=\\\"off\\\" class=\\\"form-control\\\" (keydown.space)=\\\"$event.preventDefault();\\\" type=\\\"text\\\" name=\\\"swift\\\" formControlName=\\\"swift\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep3.controls.collection_buyer_banks.controls[i].controls.swift.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep3.controls.collection_buyer_banks.controls[i].controls.swift.errors?.required \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.currency' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <select disabled required name=\\\"currency_id\\\" formControlName=\\\"currency_id\\\" required class=\\\"form-control\\\">\\n                    <option value=\\\"\\\">{{'addCollection.currency' | translate}}</option>\\n                    <option value=\\\"{{c.id}}\\\" *ngFor=\\\"let c of currencies\\\">{{ c?.code }} | {{c?.currency}}</option>\\n                  </select>\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep3.controls.collection_buyer_banks.controls[i].controls.currency_id.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep3.controls.collection_buyer_banks.controls[i].controls.currency_id.errors?.required \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n              <div [style.display]=\\\"'none'\\\" class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                  <label>{{'addCollection.remove' | translate}}</label>\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <button type=\\\"button\\\" (click)=\\\"removeBuyerBank($event, buyer_banks, i)\\\">{{'addCollection.remove' | translate}}</button>\\n                </div>\\n              </div>\\n            </div>\\n        </ng-container>\\n        </div>\\n\\n        \\n          <div class=\\\"spacer50\\\"></div>\\n          <!-- legal Representative Info -->\\n          <h5 class=\\\"p16-two\\\">{{'addCollection.legalRepresentativeInfo' | translate}}</h5>\\n          <div class=\\\"row\\\">\\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.name' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"buyer_leg_rep_name\\\" formControlName=\\\"buyer_leg_rep_name\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_leg_rep_name.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_name.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.firstSurname' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"buyer_leg_rep_first_surname\\\" formControlName=\\\"buyer_leg_rep_first_surname\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n              <label>{{'addCollection.secondSurname' | translate}}</label>\\n              <div class=\\\"clearfix\\\"></div>\\n              <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"buyer_leg_rep_second_surname\\\" formControlName=\\\"buyer_leg_rep_second_surname\\\">\\n            </div>\\n            </div>\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.phonenumber' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" \\n                pattern=\\\"{{constant.phonePattern}}\\\" (keydown.space)=\\\"$event.preventDefault();\\\"  \\n                name=\\\"buyer_leg_rep_phone\\\" formControlName=\\\"buyer_leg_rep_phone\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_leg_rep_phone.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_phone.errors?.required \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_phone.errors?.pattern \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.phonePatternCheck' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_phone.errors?.minlength && !addFormStep3.controls.buyer_leg_rep_phone.errors?.pattern\\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.phoneMin8Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_phone.errors?.maxlength && !addFormStep3.controls.buyer_leg_rep_phone.errors?.pattern\\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.phoneMax15Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.email' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" (keydown.space)=\\\"$event.preventDefault();\\\" type=\\\"email\\\" name=\\\"buyer_leg_rep_email\\\" formControlName=\\\"buyer_leg_rep_email\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_leg_rep_email.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_email.errors?.required \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_email.errors?.email \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.emailInvalid' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"model.buyer_type==1\\\" class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.companyName' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"buyer_leg_rep_comp\\\" formControlName=\\\"buyer_leg_rep_comp\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_leg_rep_comp.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_comp.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_comp.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_comp.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.fedralTaxPayerRegistry' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input readonly autocomplete=\\\"off\\\" class=\\\"form-control\\\"  type=\\\"text\\\" name=\\\"buyer_leg_rep_fed_tax\\\" formControlName=\\\"buyer_leg_rep_fed_tax\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep3.controls.buyer_leg_rep_fed_tax.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_fed_tax.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_fed_tax.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.fedTaxMin12Limit' | translate}}\\n                </div>\\n                <div *ngIf=\\\"addFormStep3.controls.buyer_leg_rep_fed_tax.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.fedTaxMax13Limit' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        \\n        \\n          <div class=\\\"spacer50\\\"></div>\\n          <!-- bank account -->\\n          <h5 class=\\\"p16-two\\\">{{'addCollection.bankAccount' | translate}}\\n            <span [style.display]=\\\"'none'\\\" class=\\\"pull-right\\\"><a class=\\\"add\\\" (click)=\\\"addBuyerRepBank($event)\\\" href=\\\"javascript://\\\">{{'addCollection.addNewBankAccount' | translate}}</a></span>\\n          </h5>\\n          <div formArrayName=\\\"collection_buyer_rep_banks\\\">\\n          <ng-container *ngFor=\\\"let buyer_rep_banks of addFormStep3.get('collection_buyer_rep_banks').controls; let i=index\\\">\\n              <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\n                <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                    <div class=\\\"form-group-3\\\">\\n                    <label>{{'addCollection.bankName' | translate}}</label>\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <input readonly required minlength=\\\"1\\\" maxlength=\\\"30\\\" autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"bank_name\\\" formControlName=\\\"bank_name\\\">\\n                  </div>\\n                  <div *ngIf=\\\"showError  &&  (addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.bank_name.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.bank_name.errors?.required \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.thisIsRequired' | translate}}\\n                  </div>  \\n                    <div *ngIf=\\\"addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.bank_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                      </div>\\n                      <div *ngIf=\\\"addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.bank_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                      </div>\\n                  </div>\\n                </div> \\n                <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                    <div class=\\\"form-group-3\\\">\\n                    <label>{{'addCollection.accountNumber' | translate}}</label>\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <input readonly required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" name=\\\"account_number\\\" formControlName=\\\"account_number\\\">\\n                  </div>\\n                  <div *ngIf=\\\"showError  &&  (addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.account_number.invalid)\\\">\\n                      <div *ngIf=\\\"addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.account_number.errors?.required \\\" class=\\\"show-error\\\">\\n                            {{'addCollectionValidations.thisIsRequired' | translate}}\\n                      </div>\\n                      <!-- <div *ngIf=\\\"addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.account_number.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                      </div> -->\\n                  </div>\\n                </div>\\n                <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                    <div class=\\\"form-group-3\\\">\\n                    <label>{{'addCollection.clabeSwift' | translate}}</label>\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <input readonly required autocomplete=\\\"off\\\" class=\\\"form-control\\\" (keydown.space)=\\\"$event.preventDefault();\\\" type=\\\"text\\\" name=\\\"swift\\\" formControlName=\\\"swift\\\">\\n                  </div>\\n                  <div *ngIf=\\\"showError  &&  (addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.swift.invalid)\\\">\\n                      <div *ngIf=\\\"addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.swift.errors?.required \\\" class=\\\"show-error\\\">\\n                            {{'addCollectionValidations.thisIsRequired' | translate}}\\n                      </div>\\n                      <!-- <div *ngIf=\\\"addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.account_number.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                      </div> -->\\n                  </div>\\n                </div>\\n                <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                    <div class=\\\"form-group-3\\\">\\n                    <label>{{'addCollection.currency' | translate}}</label>\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <select disabled required name=\\\"currency_id\\\" formControlName=\\\"currency_id\\\" required class=\\\"form-control\\\">\\n                      <option value=\\\"\\\">{{'addCollection.currency' | translate}}</option>\\n                      <option value=\\\"{{c.id}}\\\" *ngFor=\\\"let c of currencies\\\">{{ c?.code }} | {{c?.currency}}</option>\\n                    </select>\\n                  </div>\\n                  <div *ngIf=\\\"showError  &&  (addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.currency_id.invalid)\\\">\\n                      <div *ngIf=\\\"addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.currency_id.errors?.required \\\" class=\\\"show-error\\\">\\n                            {{'addCollectionValidations.thisIsRequired' | translate}}\\n                      </div>\\n                      <!-- <div *ngIf=\\\"addFormStep3.controls.collection_buyer_rep_banks.controls[i].controls.account_number.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                      </div> -->\\n                  </div>\\n                </div>\\n                <div [style.display]=\\\"'none'\\\" class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                    <div class=\\\"form-group-3\\\">\\n                    <label>{{'addCollection.remove' | translate}}</label>\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <button type=\\\"button\\\" (click)=\\\"removeBuyerRepBank($event, buyer_rep_banks, i)\\\">{{'addCollection.remove' | translate}}</button>\\n                  </div>\\n                </div>\\n              </div>\\n          </ng-container>\\n          </div>\\n          \\n          \\n        <div class=\\\"spacer15\\\"></div>\\n  \\n        <div class=\\\"spacer15\\\"></div>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-12\\\">\\n            <div class=\\\"btn-cont text-right\\\">\\n              <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"setTab(2)\\\">{{'addCollection.previous' | translate}}</button>\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary marginL15\\\">{{'addCollection.next' | translate}}</button>\\n            </div>\\n          </div>\\n        </div>\\n  \\n      </div>\\n    </div>\\n  </form>\\n\\n\\n\\n<form autocomplete=\\\"off\\\" [formGroup]=\\\"addFormStep4\\\" (ngSubmit)=\\\"createCollection(addFormStep4.value, 4)\\\">\\n  <!-- tab-4 -->\\n  <div class=\\\"white-bg\\\" *ngIf=\\\"tab==4\\\">\\n    <div class=\\\"page-title\\\">\\n      <h3>{{'addCollection.deal' | translate}}</h3>\\n    </div>\\n    <div class=\\\"padding40\\\">\\n      <h5>{{'addCollection.completeTheDealInfo' | translate}}</h5>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.purchaseDate' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <p-calendar dateFormat=\\\"dd/M/yy\\\" [style]=\\\"{'width':'100%'}\\\" formControlName=\\\"deal_purchase_date\\\" class=\\\"sz-calendar\\\" \\n              [locale]=\\\"locale\\\" showIcon=\\\"true\\\" (onSelect)=\\\"onSelect($event)\\\"\\n              showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n          </div>\\n          <div *ngIf=\\\"showError  &&  (addFormStep4.controls.deal_purchase_date.invalid)\\\">\\n            <div *ngIf=\\\"addFormStep4.controls.deal_purchase_date.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n            <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.currency' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <select required name=\\\"currency_id\\\" formControlName=\\\"currency_id\\\" required class=\\\"form-control\\\">\\n              <option value=\\\"\\\">{{'addCollection.currency' | translate}}</option>\\n              <option value=\\\"{{c.id}}\\\" *ngFor=\\\"let c of currencies\\\">{{ c?.code }} | {{c?.currency}}</option>\\n            </select>\\n          </div>\\n          <div *ngIf=\\\"showError  &&  (addFormStep4.controls.currency_id.invalid)\\\">\\n            <div *ngIf=\\\"addFormStep4.controls.currency_id.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n            </div>\\n          </div>\\n        </div>\\n        \\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.price' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <div class=\\\"input-group-append\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">$</span>\\n              <input autocomplete=\\\"off\\\" class=\\\"form-control\\\" step=\\\"0.01\\\" type=\\\"number\\\" placeholder=\\\"{{'addForm.placeholder.enter' | translate}}\\\" formControlName=\\\"deal_price\\\" min=\\\"0\\\"\\n                  name=\\\"deal_price\\\" appUptoTwoDigitDecimalNumber>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"showError  &&  (addFormStep4.controls.deal_price.invalid)\\\">\\n            <div *ngIf=\\\"addFormStep4.controls.deal_price.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n            </div>\\n          </div>\\n        </div>\\n        \\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.sumOfPaymentConcept' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <div class=\\\"input-group-append\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">$</span>\\n              <input autocomplete=\\\"off\\\" class=\\\"form-control\\\" step=\\\"0.01\\\" type=\\\"number\\\" placeholder=\\\"{{'addForm.placeholder.enter' | translate}}\\\" formControlName=\\\"sum_of_concepts\\\" min=\\\"0\\\"\\n                  name=\\\"sum_of_concepts\\\" appUptoTwoDigitDecimalNumber>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"showError  &&  (addFormStep4.controls.deal_price.invalid)\\\">\\n            <div *ngIf=\\\"addFormStep4.controls.deal_price.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\" title=\\\"{{'addCollection.choosePaymentType' | translate}}\\\">\\n          <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.paymentChoice' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <select #selectedPaymentChoice name=\\\"paymentchoice\\\" formControlName=\\\"paymentchoice\\\" (change)=\\\"addPaymentChoice($event)\\\" class=\\\"form-control\\\">\\n              <!-- <option value=\\\"\\\">Payment Choice</option> -->\\n              <option value=\\\"{{c.id}}\\\" *ngFor=\\\"let c of paymentChoices\\\">{{ c.name }}</option>\\n            </select>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"spacer15\\\"></div>\\n      <div formArrayName=\\\"payment_choices\\\">\\n        <ng-container *ngFor=\\\"let payment_choice of addFormStep4.get('payment_choices').controls; let i=index\\\">\\n         \\n          <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n              <label *ngIf=\\\"i==0\\\">{{'addCollection.payments' | translate}}</label>\\n              <div class=\\\"form-group-3\\\">\\n                <div class=\\\"clearfix\\\"></div>\\n                <input required \\n                autocomplete=\\\"off\\\" class=\\\"form-control\\\" minlength=\\\"1\\\" type=\\\"text\\\" name=\\\"name\\\" formControlName=\\\"name\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep4.controls.payment_choices.controls[i].controls.name.invalid)\\\">\\n                  <div *ngIf=\\\"addFormStep4.controls.payment_choices.controls[i].controls.name.errors?.required \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.thisIsRequired' | translate}}\\n                  </div>\\n                  <div *ngIf=\\\"addFormStep4.controls.payment_choices.controls[i].controls.name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                  </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n              <label *ngIf=\\\"i==0\\\">{{'addCollection.category' | translate}}</label>\\n              <div class=\\\"form-group-3\\\">\\n                <div class=\\\"clearfix\\\"></div>\\n                <!-- value=\\\"{{addFormStep4.controls.payment_choices.controls[i].controls.calc_payment_amount ? addFormStep4.controls.payment_choices.controls[i].controls.calc_payment_amount.value : ''}}\\\"  -->\\n                <input readonly\\n                required autocomplete=\\\"off\\\" class=\\\"form-control\\\" minlength=\\\"1\\\" type=\\\"text\\\" name=\\\"name1\\\" formControlName=\\\"category_name\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n              <label *ngIf=\\\"i==0\\\">&nbsp;&nbsp;</label>\\n              <div class=\\\"form-group-3\\\">\\n                <div class=\\\"clearfix\\\"></div>\\n                <p-calendar dateFormat=\\\"dd/M/yy\\\" [style]=\\\"{'width':'100%'}\\\" formControlName=\\\"date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\" \\n                  (onSelect)=\\\"onSelect($event)\\\" \\n                  showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep4.controls.payment_choices.controls[i].controls.date.invalid)\\\">\\n                  <div *ngIf=\\\"addFormStep4.controls.payment_choices.controls[i].controls.date.errors?.required \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.thisIsRequired' | translate}}\\n                  </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\" title=\\\"{{'addCollection.enterPercentage' | translate}}\\\">\\n              <label *ngIf=\\\"i==0\\\">&nbsp;&nbsp;</label>\\n                <div class=\\\"input-group form-group-3\\\">\\n                <div class=\\\"clearfix\\\"></div>\\n                <input required \\n                readonly=\\\"{{addFormStep4.controls.payment_choices.controls[i].controls.calc_payment_amount && addFormStep4.controls.payment_choices.controls[i].controls.calc_payment_amount.value ? true : ''}}\\\" \\n                autocomplete=\\\"off\\\" class=\\\"form-control\\\" (input)=\\\"getAmount(i)\\\" type=\\\"number\\\" step=\\\"0.01\\\" \\n                placeholder=\\\"{{'addForm.placeholder.enter' | translate}}\\\" formControlName=\\\"percent\\\" min=\\\"0\\\"\\n                  max=\\\"100\\\"  name=\\\"percent\\\" appUptoTwoDigitDecimalNumber>\\n                <div class=\\\"input-group-append\\\">\\n                  <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">%</span>\\n                </div>\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep4.controls.payment_choices.controls[i].controls.percent.invalid)\\\">\\n                  <div *ngIf=\\\"addFormStep4.controls.payment_choices.controls[i].controls.percent.errors?.required \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.thisIsRequired' | translate}}\\n                  </div>\\n                  <div *ngIf=\\\"addFormStep4.controls.payment_choices.controls[i].controls.percent.errors?.max \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.percentMax100Limit' | translate}}\\n                 </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\" title=\\\"{{'addCollection.enterAmount' | translate}}\\\">\\n             <label *ngIf=\\\"i==0\\\">&nbsp;&nbsp;</label>\\n              <div class=\\\"input-group form-group-3\\\">\\n                <div class=\\\"clearfix\\\"></div>\\n                <div class=\\\"input-group-append\\\">\\n                  <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">$</span>\\n                  <input required \\n                  readonly=\\\"{{addFormStep4.controls.payment_choices.controls[i].controls.calc_payment_amount && addFormStep4.controls.payment_choices.controls[i].controls.calc_payment_amount.value ? true : ''}}\\\"\\n                    autocomplete=\\\"off\\\" class=\\\"form-control\\\" (input)=\\\"getPercentage(i)\\\" \\n                    type=\\\"number\\\" step=\\\"0.01\\\" formControlName=\\\"amount\\\" min=\\\"0\\\" name=\\\"amount\\\" appUptoTwoDigitDecimalNumber>\\n                </div>\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep4.controls.payment_choices.controls[i].controls.amount.invalid)\\\">\\n                  <div *ngIf=\\\"addFormStep4.controls.payment_choices.controls[i].controls.amount.errors?.required \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.thisIsRequired' | translate}}\\n                  </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-1 col-md-6 col-sm-6 col-12\\\">\\n              <label *ngIf=\\\"i==0\\\">&nbsp;&nbsp;</label>\\n              <div class=\\\"form-group-3\\\">\\n                <div class=\\\"clearfix\\\"></div>\\n                <button type=\\\"button\\\" (click)=\\\"removePaymentChoicePopup(payment_choice, i)\\\">\\n                  <img src=\\\"assets/img/ic_delete.png\\\" alt=\\\"img\\\">\\n                  <!-- {{'addCollection.remove' | translate}} -->\\n                </button>\\n              </div>\\n            </div>\\n          </div>\\n        </ng-container>\\n      </div>\\n\\n      <div class=\\\"spacer15\\\"></div>\\n      <div class=\\\"row\\\" *ngIf=\\\"showMonthlyInput\\\">\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.noOfMonthlyInstallments' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <input autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" placeholder=\\\"{{'addForm.placeholder.enter' | translate}}\\\" formControlName=\\\"num_of_months\\\" min=\\\"0\\\"\\n                  name=\\\"num_of_months\\\">\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.chooseMonthlyInstallmentDate' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n              <p-calendar dateFormat=\\\"dd/M/yy\\\" [style]=\\\"{'width':'100%'}\\\" formControlName=\\\"monthly_date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\" \\n              (onSelect)=\\\"onSelect($event)\\\" \\n              showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n           </div>\\n        </div>\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <div class=\\\"input-group form-group-3\\\">\\n            <label>{{'addCollection.enterMonthlyAmount' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <div class=\\\"input-group-append\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">$</span>\\n              <input autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" step=\\\"0.01\\\" placeholder=\\\"{{'addForm.placeholder.enter' | translate}}\\\" formControlName=\\\"monthly_amount\\\" min=\\\"0\\\"\\n                  name=\\\"monthly_amount\\\" appUptoTwoDigitDecimalNumber>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.done' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <button type=\\\"button\\\" (click)=\\\"findMonthlyInstallments()\\\">{{'addCollection.done' | translate}}</button>\\n          </div>\\n        </div>\\n      </div>\\n  \\n      <!-- <div class=\\\"row\\\">\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.interestRate' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <input autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" formControlName=\\\"deal_interest_rate\\\" min=\\\"0\\\" max=\\\"100\\\" name=\\\"deal_interest_rate\\\">\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <div class=\\\"form-group-3\\\">\\n            <label>{{'addCollection.penalityForLatePayment' | translate}}</label>\\n            <div class=\\\"clearfix\\\"></div>\\n            <input autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" formControlName=\\\"deal_penality\\\" min=\\\"0\\\" name=\\\"deal_penality\\\">\\n          </div>\\n        </div>\\n      </div> -->\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12\\\">\\n          <div class=\\\"btn-cont text-right\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"setTab(3)\\\">{{'addForm.previous' | translate}}</button>\\n            <button type=\\\"submit\\\" class=\\\"btn btn-primary marginL15\\\">{{'addForm.next' | translate}}</button>\\n          </div>\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n</form>\\n\\n\\n<form autocomplete=\\\"off\\\" [formGroup]=\\\"addFormStep5\\\" (ngSubmit)=\\\"createCollection(addFormStep5.value, 5)\\\">\\n  <!-- tab-5 -->\\n  <div class=\\\"white-bg\\\" *ngIf=\\\"tab==5\\\">\\n    <div class=\\\"page-title\\\">\\n      <h3>{{'addCollection.commissionDetails' | translate}}</h3>\\n    </div>\\n    <div class=\\\"padding40\\\">\\n      <h5 class=\\\"marginB30\\\">{{'addCollection.completeCommissionInfo' | translate}}</h5>\\n\\n      <div class=\\\"row\\\">\\n          <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <label class=\\\"p16-two\\\">{{'addCollection.sozuCommission' | translate}}</label>\\n          <div class=\\\"input-group form-group-3\\\">\\n            <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" appUptoThreeDecimal (input)=\\\"getSozuAmount($event.target.value)\\\" step=\\\"0.001\\\" min=\\\"0\\\" max=\\\"100\\\" name=\\\"comm_total_commission\\\" formControlName=\\\"comm_total_commission\\\">\\n            <div class=\\\"input-group-append\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">%</span>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"showError  &&  (addFormStep5.controls.comm_total_commission.invalid)\\\">\\n            <div *ngIf=\\\"addFormStep5.controls.comm_total_commission.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n            </div>\\n            <div *ngIf=\\\"addFormStep5.controls.comm_total_commission.errors?.max \\\" class=\\\"show-error\\\">\\n                {{'addCollectionValidations.percentMax100Limit' | translate}}\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <label class=\\\"p16-two\\\">{{'addCollection.sozuCommissionAmount' | translate}}</label>\\n          <div class=\\\"input-group form-group-3\\\">\\n              <div class=\\\"input-group-append\\\">\\n                <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">$</span>\\n              </div>\\n              <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" appUptoTwoDigitDecimalNumber step=\\\"0.01\\\" min=\\\"0\\\" max=\\\"100\\\" name=\\\"comm_total_commission_amount\\\" formControlName=\\\"comm_total_commission_amount\\\">\\n          </div>\\n          <div *ngIf=\\\"showError  &&  (addFormStep5.controls.comm_total_commission_amount.invalid)\\\">\\n            <div *ngIf=\\\"addFormStep5.controls.comm_total_commission_amount.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n        <label class=\\\"p16-two\\\">{{'addCollection.sozuIVACommission' | translate}}</label>\\n        <div class=\\\"input-group form-group-3\\\">\\n          <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" appUptoThreeDecimal \\n            (input)=\\\"getIVAAmount($event.target.value, 'comm_total_commission_amount', 'sozu_iva_amt')\\\" step=\\\"0.001\\\" min=\\\"0\\\" max=\\\"100\\\" name=\\\"sozu_iva_percent\\\" formControlName=\\\"sozu_iva_percent\\\">\\n          <div class=\\\"input-group-append\\\">\\n            <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">%</span>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"showError  &&  (addFormStep5.controls.sozu_iva_percent.invalid)\\\">\\n          <div *ngIf=\\\"addFormStep5.controls.sozu_iva_percent.errors?.required \\\" class=\\\"show-error\\\">\\n                {{'addCollectionValidations.thisIsRequired' | translate}}\\n          </div>\\n          <div *ngIf=\\\"addFormStep5.controls.sozu_iva_percent.errors?.max \\\" class=\\\"show-error\\\">\\n              {{'addCollectionValidations.percentMax100Limit' | translate}}\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n        <label class=\\\"p16-two\\\">{{'addCollection.sozuIVACommissionAmount' | translate}}</label>\\n        <div class=\\\"input-group form-group-3\\\">\\n            <div class=\\\"input-group-append\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">$</span>\\n            </div>\\n            <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" appUptoTwoDigitDecimalNumber step=\\\"0.01\\\" min=\\\"0\\\" max=\\\"100\\\" name=\\\"sozu_iva_amt\\\" formControlName=\\\"sozu_iva_amt\\\">\\n        </div>\\n        <div *ngIf=\\\"showError  &&  (addFormStep5.controls.sozu_iva_amt.invalid)\\\">\\n          <div *ngIf=\\\"addFormStep5.controls.sozu_iva_amt.errors?.required \\\" class=\\\"show-error\\\">\\n                {{'addCollectionValidations.thisIsRequired' | translate}}\\n          </div>\\n        </div>\\n      </div>\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <label class=\\\"p16-two\\\">{{'addCollection.agentCommission' | translate}}</label>\\n          <div class=\\\"input-group form-group-3\\\">\\n            <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" appUptoThreeDecimal (input)=\\\"getAgentAmount($event.target.value)\\\" step=\\\"0.001\\\" min=\\\"0\\\" max=\\\"100\\\" name=\\\"comm_shared_commission\\\" formControlName=\\\"comm_shared_commission\\\">\\n            <div class=\\\"input-group-append\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">%</span>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"showError  &&  (addFormStep5.controls.comm_shared_commission.invalid)\\\">\\n            <div *ngIf=\\\"addFormStep5.controls.comm_shared_commission.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n            </div>\\n            <div *ngIf=\\\"addFormStep5.controls.comm_shared_commission.errors?.max \\\" class=\\\"show-error\\\">\\n                {{'addCollectionValidations.percentMax100Limit' | translate}}\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n          <label class=\\\"p16-two\\\">{{'addCollection.agentCommissionAmount' | translate}}</label>\\n          <div class=\\\"input-group form-group-3\\\">\\n            <div class=\\\"input-group-append\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">$</span>\\n            </div>\\n            <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" appUptoTwoDigitDecimalNumber step=\\\"0.01\\\" min=\\\"0\\\" max=\\\"100\\\" name=\\\"comm_shared_commission_amount\\\" formControlName=\\\"comm_shared_commission_amount\\\">\\n          </div>\\n          <div *ngIf=\\\"showError  &&  (addFormStep5.controls.comm_shared_commission_amount.invalid)\\\">\\n            <div *ngIf=\\\"addFormStep5.controls.comm_shared_commission_amount.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n        <label class=\\\"p16-two\\\">{{'addCollection.agentIVACommission' | translate}}</label>\\n        <div class=\\\"input-group form-group-3\\\">\\n          <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" appUptoThreeDecimal \\n          (input)=\\\"getIVAAmount($event.target.value, 'comm_shared_commission_amount', 'agent_iva_amt')\\\" step=\\\"0.001\\\" min=\\\"0\\\" max=\\\"100\\\" name=\\\"agent_iva_percent\\\" formControlName=\\\"agent_iva_percent\\\">\\n          <div class=\\\"input-group-append\\\">\\n            <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">%</span>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"showError  &&  (addFormStep5.controls.agent_iva_percent.invalid)\\\">\\n          <div *ngIf=\\\"addFormStep5.controls.agent_iva_percent.errors?.required \\\" class=\\\"show-error\\\">\\n                {{'addCollectionValidations.thisIsRequired' | translate}}\\n          </div>\\n          <div *ngIf=\\\"addFormStep5.controls.agent_iva_percent.errors?.max \\\" class=\\\"show-error\\\">\\n              {{'addCollectionValidations.percentMax100Limit' | translate}}\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n        <label class=\\\"p16-two\\\">{{'addCollection.agentIVACommissionAmount' | translate}}</label>\\n        <div class=\\\"input-group form-group-3\\\">\\n            <div class=\\\"input-group-append\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\">$</span>\\n            </div>\\n            <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" \\n            appUptoTwoDigitDecimalNumber step=\\\"0.01\\\" min=\\\"0\\\" max=\\\"100\\\" name=\\\"agent_iva_amt\\\" formControlName=\\\"agent_iva_amt\\\">\\n        </div>\\n        <div *ngIf=\\\"showError  &&  (addFormStep5.controls.agent_iva_amt.invalid)\\\">\\n          <div *ngIf=\\\"addFormStep5.controls.agent_iva_amt.errors?.required \\\" class=\\\"show-error\\\">\\n                {{'addCollectionValidations.thisIsRequired' | translate}}\\n          </div>\\n        </div>\\n      </div>\\n      </div>\\n\\n      <div formArrayName=\\\"deal_commission_agents\\\">\\n        <ng-container *ngFor=\\\"let deal_commission_agent of addFormStep5.get('deal_commission_agents').controls; let i=index\\\">\\n            <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\n                <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                    <label>{{'addCollection.agentName' | translate}}</label>\\n                    <div class=\\\"form-group-3\\\" >\\n                      <!-- (click)=\\\"getBothBroker('')\\\" -->\\n                      <div class=\\\"clearfix\\\"></div>\\n                      <input readonly disabled required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"name\\\" readonly formControlName=\\\"name\\\">\\n                    </div>\\n                    <div *ngIf=\\\"showError  &&  (addFormStep5.controls.deal_commission_agents.controls[i].controls.name.invalid)\\\">\\n                        <div *ngIf=\\\"addFormStep5.controls.deal_commission_agents.controls[i].controls.name.errors?.required \\\" class=\\\"show-error\\\">\\n                              {{'addCollectionValidations.thisIsRequired' | translate}}\\n                        </div>\\n                    </div>\\n              </div>\\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <label>{{'addCollection.agentFirstSurName' | translate}}</label>\\n                  <div class=\\\"form-group-3\\\" >\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <input readonly disabled autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"first_surname\\\" readonly formControlName=\\\"first_surname\\\">\\n                  </div>\\n                  <div *ngIf=\\\"showError  &&  (addFormStep5.controls.deal_commission_agents.controls[i].controls.first_surname.invalid)\\\">\\n                      <div *ngIf=\\\"addFormStep5.controls.deal_commission_agents.controls[i].controls.first_surname.errors?.required \\\" class=\\\"show-error\\\">\\n                            {{'addCollectionValidations.thisIsRequired' | translate}}\\n                      </div>\\n                  </div>\\n            </div>\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <label>{{'addCollection.agentSecondSurName' | translate}}</label>\\n                <div class=\\\"form-group-3\\\" >\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly disabled autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"second_surname\\\" readonly formControlName=\\\"second_surname\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep5.controls.deal_commission_agents.controls[i].controls.second_surname.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep5.controls.deal_commission_agents.controls[i].controls.second_surname.errors?.required \\\" class=\\\"show-error\\\">\\n                          {{'addCollectionValidations.thisIsRequired' | translate}}\\n                    </div>\\n                </div>\\n          </div>\\n              <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                  <label>{{'addCollection.fedralTaxPayerRegistry' | translate}}</label>\\n                  <div class=\\\"form-group-3\\\">\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <input readonly disabled autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"text\\\" minlength=\\\"12\\\" maxlength=\\\"13\\\" name=\\\"fed_tax_payer_reg\\\" formControlName=\\\"fed_tax_payer_reg\\\">\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (addFormStep5.controls.deal_commission_agents.controls[i].controls.fed_tax_payer_reg.invalid)\\\">\\n                    <div *ngIf=\\\"addFormStep5.controls.deal_commission_agents.controls[i].controls.fed_tax_payer_reg.errors?.minlength \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.fedTaxMin12Limit' | translate}}\\n                    </div>\\n                    <div *ngIf=\\\"addFormStep5.controls.deal_commission_agents.controls[i].controls.fed_tax_payer_reg.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                        {{'addCollectionValidations.fedTaxMax13Limit' | translate}}\\n                    </div>\\n                </div>\\n              </div>\\n            </div>\\n        </ng-container>\\n      </div>\\n\\n      \\n      <div class=\\\"spacer50\\\"></div>\\n      <h5 class=\\\"p16-two\\\">{{'addCollection.bankAccount' | translate}}\\n        <span class=\\\"pull-right\\\"><a class=\\\"add\\\" (click)=\\\"addAgentBank($event)\\\" href=\\\"javascript://\\\">{{'addCollection.addNewBankAccount' | translate}}</a></span>\\n      </h5>\\n      <div formArrayName=\\\"collection_agent_banks\\\">\\n      <ng-container *ngFor=\\\"let agent_banks of addFormStep5.get('collection_agent_banks').controls; let i=index\\\">\\n          <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.bankName' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" minlength=\\\"1\\\" maxlength=\\\"30\\\" type=\\\"text\\\" name=\\\"bank_name\\\" formControlName=\\\"bank_name\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep5.controls.collection_agent_banks.controls[i].controls.bank_name.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep5.controls.collection_agent_banks.controls[i].controls.bank_name.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>  \\n                  <div *ngIf=\\\"addFormStep5.controls.collection_agent_banks.controls[i].controls.bank_name.errors?.minlength \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.nameMin1Limit' | translate}}\\n                  </div>\\n                  <div *ngIf=\\\"addFormStep5.controls.collection_agent_banks.controls[i].controls.bank_name.errors?.maxlength \\\" class=\\\"show-error\\\">\\n                      {{'addCollectionValidations.nameMax30Limit' | translate}}\\n                  </div>\\n              </div>\\n            </div> \\n            <div class=\\\"col-lg-3 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.accountNumber' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" name=\\\"account_number\\\" formControlName=\\\"account_number\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep5.controls.collection_agent_banks.controls[i].controls.account_number.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep5.controls.collection_agent_banks.controls[i].controls.account_number.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>  \\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.clabeSwift' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <input required autocomplete=\\\"off\\\" class=\\\"form-control\\\" (keydown.space)=\\\"$event.preventDefault();\\\" type=\\\"text\\\" name=\\\"swift\\\" formControlName=\\\"swift\\\">\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep5.controls.collection_agent_banks.controls[i].controls.swift.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep5.controls.collection_agent_banks.controls[i].controls.swift.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>  \\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.currency' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <select required name=\\\"currency_id\\\" formControlName=\\\"currency_id\\\" required class=\\\"form-control\\\">\\n                  <option value=\\\"\\\">{{'addCollection.currency' | translate}}</option>\\n                  <option value=\\\"{{c.id}}\\\" *ngFor=\\\"let c of currencies\\\">{{ c?.code }} | {{c?.currency}}</option>\\n                </select>\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (addFormStep5.controls.collection_agent_banks.controls[i].controls.currency_id.invalid)\\\">\\n                <div *ngIf=\\\"addFormStep5.controls.collection_agent_banks.controls[i].controls.currency_id.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>  \\n              </div>\\n            </div>\\n            <div class=\\\"col-lg-2 col-md-6 col-sm-6 col-12\\\">\\n                <div class=\\\"form-group-3\\\">\\n                <label>{{'addCollection.remove' | translate}}</label>\\n                <div class=\\\"clearfix\\\"></div>\\n                <button type=\\\"button\\\" (click)=\\\"removeAgentBank($event, agent_banks, i)\\\">{{'addCollection.remove' | translate}}</button>\\n              </div>\\n            </div>\\n          </div>\\n      </ng-container>\\n      </div>\\n      \\n      \\n      <div class=\\\"spacer15\\\"></div>\\n      <h5 class=\\\"p16-two\\\">{{'addCollection.collectionCommission' | translate}}</h5>\\n\\n      <div class=\\\"spacer15\\\"></div>\\n      <div class=\\\"row\\\">\\n        \\n        <div class=\\\"col-lg-6 col-md-12 col-sm-6 col-12\\\">\\n          <label class=\\\"p16-two\\\">\\n            <input class=\\\"form-control\\\" class=\\\"is_commission_sale_enabled\\\" type=\\\"checkbox\\\" \\n            name=\\\"is_commission_sale_enabled\\\" formControlName=\\\"is_commission_sale_enabled\\\">\\n            <span style=\\\"margin-left: 10px;    vertical-align: super;\\\">{{'addCollection.salecommissionCheck' | translate}}</span>\\n          </label>\\n        </div>\\n      </div>\\n      <div class=\\\"spacer15\\\"></div>\\n\\n      <div class=\\\"form-group-3 row\\\">\\n        <h5 class=\\\"col-sm-3 p16-two\\\">{{'addCollection.whoWillReceivePaymentDirectly' | translate}}</h5>\\n        <div class=\\\"col-sm-9\\\">\\n            <div class=\\\"clearfix\\\"></div>\\n            <label class=\\\"cust-radio\\\">\\n              <input class=\\\"form-control\\\" type=\\\"radio\\\" formControlName=\\\"payment_received_by\\\" \\n              value=\\\"1\\\" \\n              name=\\\"payment_received_by\\\">\\n              <span class=\\\"checkmark\\\">{{'addCollection.Sozu' | translate}}</span>\\n            </label>\\n            <label class=\\\"cust-radio\\\">\\n              <input class=\\\"form-control\\\" type=\\\"radio\\\" formControlName=\\\"payment_received_by\\\" \\n              value=\\\"0\\\" \\n              name=\\\"payment_received_by\\\">\\n              <span class=\\\"checkmark\\\">{{'addCollection.Seller' | translate}}</span>\\n            </label>\\n            <div class=\\\"clearfix\\\"></div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"form-group-3 row\\\">\\n          <h5 class=\\\"col-sm-5 p16-two\\\">\\n            {{'addCollection.defineIVA' | translate}}\\n          </h5>\\n          <span class=\\\"col-sm-1\\\"><input type=\\\"number\\\" class=\\\"form-control\\\" formControlName=\\\"iva_percent\\\"></span>\\n          <div class=\\\"col-sm-12\\\">\\n              <label class=\\\"p16-two\\\">\\n                <input class=\\\"form-control\\\" class=\\\"is_commission_sale_enabled\\\" type=\\\"checkbox\\\" \\n                name=\\\"add_iva_to_cc\\\" formControlName=\\\"add_iva_to_cc\\\">\\n                <span style=\\\"margin-left: 10px;    vertical-align: super;\\\">{{'addCollection.adddIVAToColCommission' | translate}}</span>\\n              </label>\\n          </div>\\n          <div class=\\\"col-sm-12\\\">\\n              <div class=\\\"clearfix\\\"></div>\\n              <label class=\\\"p16-two\\\">\\n                <input class=\\\"form-control\\\" class=\\\"is_commission_sale_enabled\\\" type=\\\"checkbox\\\" \\n                name=\\\"add_iva_to_pc\\\" formControlName=\\\"add_iva_to_pc\\\">\\n                <span style=\\\"margin-left: 10px;    vertical-align: super;\\\">{{'addCollection.adddIVAToPurCommission' | translate}}</span>\\n              </label>\\n              <div class=\\\"clearfix\\\"></div>\\n          </div>\\n          <div class=\\\"col-sm-12\\\">\\n              <div class=\\\"clearfix\\\"></div>\\n              <label class=\\\"p16-two\\\">\\n                <input class=\\\"form-control\\\" class=\\\"is_commission_sale_enabled\\\" type=\\\"checkbox\\\" \\n                name=\\\"add_iva_to_ac\\\" formControlName=\\\"add_iva_to_ac\\\">\\n                <span style=\\\"margin-left: 10px;    vertical-align: super;\\\">{{'addCollection.adddIVAToAgentCommission' | translate}}</span>\\n              </label>\\n              <div class=\\\"clearfix\\\"></div>\\n          </div>\\n      </div>\\n\\n\\n      <div formArrayName=\\\"collection_commissions\\\">\\n        \\n      <table class=\\\"table table-bordered table-striped\\\">\\n          <thead>\\n              <tr>\\n                <th rowspan=\\\"2\\\"><b>{{'addCollection.concept' | translate}}</b></th>\\n                <th rowspan=\\\"2\\\"><b>{{'addCollection.establishedDate' | translate}}</b></th>\\n                <th rowspan=\\\"2\\\"><b>{{'addCollection.amount' | translate}}</b></th>\\n                <th rowspan=\\\"2\\\"><b>{{'addCollection.addCollectionCommission' | translate}}</b></th>\\n                <th colspan=\\\"2\\\"><b>{{'addCollection.enterCollectionCommission' | translate}}</b></th>\\n                <th rowspan=\\\"2\\\"><b>{{'addCollection.addPurchaseCommission' | translate}}</b></th>\\n                <th rowspan=\\\"2\\\"><b>{{'addCollection.enterPCAmount' | translate}}</b></th>\\n                <th rowspan=\\\"2\\\"><b>{{'addCollection.addAgentCommission' | translate}}</b></th>\\n                <th rowspan=\\\"2\\\"><b>{{'addCollection.enterPCAmount' | translate}}</b></th>\\n              </tr>\\n              <tr>\\n                <th colspan=\\\"1\\\"><b>{{'addCollection.percent' | translate}}</b></th>\\n                <th colspan=\\\"1\\\"><b>{{'addCollection.amount' | translate}}</b></th>\\n              </tr>\\n          </thead>\\n          <tbody>\\n          \\n          <ng-container *ngFor=\\\"let collection_commission of addFormStep5.get('collection_commissions').controls; let i=index\\\">\\n            <tr [formGroupName]=\\\"i\\\">\\n              <td>{{model.collection_commissions[i]?.name}}</td>\\n              <td>{{model.collection_commissions[i]?.date | date:'dd/MMM/yyyy'}}</td>\\n              <td>{{model.collection_commissions[i]?.payment_amount}}</td>\\n              <td>\\n                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" formControlName=\\\"add_collection_commission\\\" name=\\\"add_collection_commission\\\" \\n                  (change)=\\\"setCollectionComm(addFormStep5.controls.collection_commissions.controls[i].controls.add_collection_commission.value, i)\\\">\\n              </td>\\n              <td>\\n               <input type=\\\"number\\\" class=\\\"form-control\\\" appUptoThreeDecimal formControlName=\\\"percent\\\" step=\\\"0.001\\\" name=\\\"percent{{i}}\\\" (input)=\\\"getCollAmount($event.target.value, i, model.collection_commissions[i].payment_amount)\\\">\\n              </td>\\n              <td>\\n                <input type=\\\"number\\\" step=\\\"0.01\\\" appUptoTwoDigitDecimalNumber class=\\\"form-control\\\" \\n                formControlName=\\\"amount\\\" name=\\\"amount{{i}}\\\" (input)=\\\"getCollPercentage($event.target.value, i, model.collection_commissions[i].payment_amount)\\\">\\n              </td>\\n              <td>\\n                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" formControlName=\\\"add_purchase_commission\\\" name=\\\"add_purchase_commission\\\">\\n              </td>\\n              <td>\\n                <input type=\\\"number\\\" step=\\\"0.01\\\" appUptoTwoDigitDecimalNumber class=\\\"form-control\\\" \\n                (input)=\\\"getPurcAmount($event.target.value, i)\\\"\\n                formControlName=\\\"purchase_comm_amount\\\" name=\\\"purchase_comm_amount{{i}}\\\">\\n              </td>\\n              <td>\\n                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" formControlName=\\\"add_agent_commission\\\" name=\\\"add_agent_commission\\\">\\n              </td>\\n              <td>\\n                <input type=\\\"number\\\" step=\\\"0.01\\\" appUptoTwoDigitDecimalNumber class=\\\"form-control\\\" \\n                (input)=\\\"getAgentCommAmount($event.target.value, i)\\\"\\n                formControlName=\\\"agent_comm_amount\\\" name=\\\"agent_comm_amount{{i}}\\\">\\n              </td>\\n            </tr>\\n          </ng-container>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\\\"spacer50\\\"></div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-lg-3 col-md-3 col-12\\\"></div>\\n        <div class=\\\"col-lg-6 col-md-6 col-12\\\">\\n          <table class=\\\"table table-bordered table-striped\\\">\\n            <tbody>\\n              <tr>\\n                <td><b>{{'addCollection.sumCC' | translate}}</b></td>\\n                <td>{{ccsum | currency}}</td>\\n                <td><b>{{'addCollection.sumPC' | translate}}</b></td>\\n                <td>{{pcsum | currency}}</td>\\n              </tr>\\n              <tr>\\n                <td><b>{{'addCollection.IVACC' | translate}}</b></td>\\n                <td *ngIf=\\\"addFormStep5.controls.add_iva_to_cc.value\\\">{{(((addFormStep5.controls.iva_percent.value || 0)*ccsum)/100 || 0) | currency}}</td>\\n                <td *ngIf=\\\"!addFormStep5.controls.add_iva_to_cc.value\\\">$0</td>\\n                <td><b>{{'addCollection.IVAPC' | translate}}</b></td>\\n                <td *ngIf=\\\"addFormStep5.controls.add_iva_to_pc.value\\\">{{(((addFormStep5.controls.iva_percent.value || 0)*pcsum)/100 || 0) | currency}}</td>\\n                <td *ngIf=\\\"!addFormStep5.controls.add_iva_to_pc.value\\\">$0</td>\\n                <!-- <td>{{(((addFormStep5.controls.iva_percent.value || 0)*pcsum)/100 || 0) | currency}}</td> -->\\n              </tr>\\n              <tr>\\n                <td><b>{{'addCollection.TotalCC' | translate}}</b></td>\\n                <td *ngIf=\\\"addFormStep5.controls.add_iva_to_cc.value\\\">{{((((addFormStep5.controls.iva_percent.value || 0)*ccsum)/100)+ccsum || 0) | currency}}</td>\\n                <td *ngIf=\\\"!addFormStep5.controls.add_iva_to_cc.value\\\">{{ccsum | currency}}</td>\\n                <!-- <td>{{((((addFormStep5.controls.iva_percent.value || 0)*ccsum)/100)+ccsum || 0) | currency}}</td> -->\\n                <td><b>{{'addCollection.TotalPC' | translate}}</b></td>\\n                <td *ngIf=\\\"addFormStep5.controls.add_iva_to_pc.value\\\">{{((((addFormStep5.controls.iva_percent.value || 0)*pcsum)/100)+pcsum || 0) | currency}}</td>\\n                <td *ngIf=\\\"!addFormStep5.controls.add_iva_to_pc.value\\\">{{pcsum | currency}}</td>\\n                <!-- <td>{{((((addFormStep5.controls.iva_percent.value || 0)*pcsum)/100)+pcsum || 0) | currency}}</td> -->\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12\\\">\\n          <div class=\\\"btn-cont text-right\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"setTab(4)\\\">{{'addForm.previous' | translate}}</button>\\n            <button type=\\\"submit\\\" class=\\\"btn btn-primary marginL15\\\">{{'addForm.next' | translate}}</button>\\n          </div>\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n</form>\\n\\n\\n<form autocomplete=\\\"off\\\" ngNativeValidate #addFormStep6=\\\"ngForm\\\" (ngSubmit)=\\\"saveCollectionFolders()\\\">\\n    <!-- tab-5 -->\\n    <div class=\\\"white-bg\\\" *ngIf=\\\"tab==6\\\">\\n      <div class=\\\"page-title\\\">\\n        <h3>{{'addCollection.tabs.uploadDocuments' | translate}}</h3>\\n      </div>\\n      <div class=\\\"padding40\\\">\\n        <h5 class=\\\"marginB30\\\">{{'addCollection.folders' | translate}}\\n          <span class=\\\"pull-right\\\">\\n            <a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#add-folder\\\" #folderModalOpen></a>\\n          <a class=\\\"add\\\" href=\\\"javascript://\\\" (click)=\\\"openAddFolder('add', '', '')\\\">\\n            {{'addCollection.addNewFolder' | translate}}</a>\\n          </span>\\n        </h5>\\n  \\n        <div class=\\\"row\\\" >\\n          <ng-container *ngFor=\\\"let folder of collectionFolders; let i=index\\\">\\n            <div class=\\\"col-lg-2 col-md-4 col-sm-6 col-12 folder-box\\\" style=\\\"background-image: url('/assets/img/ic_folder.svg')\\\">\\n              \\n              <div class=\\\"form-group-3\\\" (click)=\\\"modelOpenFun(folder, i)\\\">\\n                <p>{{folder.name}}</p>\\n              </div>\\n              <div class=\\\"folder-action-btn\\\">\\n                <!-- <button class=\\\"cursor-pointer\\\" type=\\\"button\\\"  (click)=\\\"modelOpenFun(folder, i)\\\"> -->\\n                <!-- {{'addCollection.view' | translate}} -->\\n                <i (click)=\\\"modelOpenFun(folder, i)\\\" class=\\\"fa fa-folder\\\" aria-hidden=\\\"true\\\"></i>\\n              <!-- </button>\\n              <button class=\\\"cursor-pointer\\\" type=\\\"button\\\"  (click)=\\\"openAddFolder('edit', folder, i)\\\">\\n                {{'addCollection.edit' | translate}} -->\\n                <i *ngIf=\\\"folder.id != payment_folder_id\\\" (click)=\\\"openAddFolder('edit', folder, i)\\\" class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i>\\n              <!-- </button>\\n              <button class=\\\"cursor-pointer\\\" type=\\\"button\\\"  (click)=\\\"deleteFolderPopup(folder, i)\\\">\\n                {{'addCollection.delete' | translate}} -->\\n                <i *ngIf=\\\"folder.id != payment_folder_id\\\" (click)=\\\"deleteFolderPopup(folder, i)\\\" class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\n              <!-- </button> -->\\n              </div>\\n            </div>\\n          </ng-container>\\n        </div>\\n\\n        <div class=\\\"spacer50\\\"></div>\\n  \\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-12\\\">\\n            <div class=\\\"btn-cont text-right\\\">\\n              <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"setTab(5)\\\">{{'addForm.previous' | translate}}</button>\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary marginL15\\\">{{'addForm.submit' | translate}}</button>\\n            </div>\\n          </div>\\n        </div>\\n  \\n      </div>\\n    </div>\\n  </form>\\n  \\n\\n\\n<!-- Link Seller -->\\n<a data-toggle=\\\"modal\\\" data-target=\\\"#link-user-model\\\" #linkUserModal></a>\\n<div class=\\\"modal\\\" id=\\\"link-user-model\\\">\\n   <div class=\\\"modal-dialog \\\">\\n      <div class=\\\"modal-content notary-avail\\\">\\n            <div class=\\\"modal-header popup-header\\\">\\n            <h4 class=\\\"modal-title\\\">{{tab==2 ? ('addCollection.chooseTheSeller' | translate) : ('addCollection.chooseTheBuyer' | translate)}}</h4>\\n            <button type=\\\"button\\\" class=\\\"close\\\" #closeLinkUserModal data-dismiss=\\\"modal\\\">&times;</button>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n\\n              <div class=\\\"row\\\">\\n                <div class=\\\"col-md-8 col-6\\\">\\n                    <input autocomplete=\\\"off\\\" style=\\\"max-width:200px\\\" (keyup.enter)=\\\"getAllSellers(keyword)\\\" [(ngModel)]=\\\"keyword\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"keyword\\\" placeholder=\\\"{{'addForm.placeholder.search' | translate}}\\\">\\n                </div>\\n                <div class=\\\"col-md-4 col-5 btn-cont\\\">\\n                    <a class=\\\"btn btn-primary pull-right\\\" href=\\\"javascript://\\\" (click)=\\\"getAllSellers(keyword)\\\">{{'table.th.search' | translate}}</a>\\n                </div>\\n              </div>\\n              \\n               <div class=\\\"spacer40\\\"></div>\\n               <div class=\\\"modal-table-data\\\" malihu-scrollbar [scrollbarOptions]=\\\"scrollbarOptions\\\">\\n                  <table class=\\\"table\\\">\\n                     <tr *ngFor=\\\"let item of allUsers\\\">\\n                        <td>\\n                           <div class=\\\"n-avail-profile\\\">\\n                           <img *ngIf=\\\"item?.image\\\" onerror='src=\\\"assets/img/default_img.png\\\"' alt=\\\"img\\\"\\n                              [defaultImage]=\\\"item?.image| img:'thumb'\\\" [lazyLoad]=\\\"item?.image\\\">\\n                           <img *ngIf=\\\"!item?.image\\\" src=\\\"assets/img/default_img.png\\\" alt=\\\"img\\\">\\n                           \\n                           <div class=\\\"n-avail-info\\\">\\n                              <p class=\\\"p12\\\">{{item?.name ? item?.name : item?.comm_name}}</p>\\n                              <p class=\\\"p10\\\">{{'viewProperty.phone' | translate}} : {{item?.dial_code ? item?.dial_code : constant.dial_code}}-{{item?.phone}}</p>\\n                           </div>\\n                           </div>\\n                        </td>\\n                        <td>\\n                           <button type=\\\"button\\\" (click)=\\\"setSeller(item)\\\" class=\\\"action-icon\\\"> \\n                             <img src=\\\"assets/img/green-icon.png\\\" alt=\\\"img\\\">\\n                            </button>\\n                           <button type=\\\"button\\\" (click)=\\\"unsetSeller(item)\\\" class=\\\"action-icon\\\">\\n                              <img src=\\\"assets/img/ic_disapprove.png\\\" alt=\\\"img\\\">\\n                            </button>\\n                        </td>\\n                     </tr>\\n                     <tr *ngIf=\\\"allUsers?.length==0\\\">\\n                        <p class=\\\"show-not-found\\\">\\n                           {{'viewProperty.noSellerHasRequestedForTheProperty' | translate}}\\n                        </p>\\n                     </tr>\\n                  </table>\\n               </div>\\n            </div>\\n      </div>\\n   </div>\\n</div>\\n  \\n\\n\\n<!-- Link External Broker -->\\n<a data-toggle=\\\"modal\\\" data-target=\\\"#link-broker-model\\\" #linkExtBrokerModal></a>\\n<div class=\\\"modal\\\" id=\\\"link-broker-model\\\">\\n   <div class=\\\"modal-dialog \\\">\\n      <div class=\\\"modal-content notary-avail\\\">\\n            <div class=\\\"modal-header popup-header\\\">\\n            <h4 class=\\\"modal-title\\\">{{'viewProperty.linkAgent' | translate}}</h4>\\n            <button type=\\\"button\\\" class=\\\"close\\\" #closeExtBrokerModal data-dismiss=\\\"modal\\\">&times;</button>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n\\n               <!-- <p class=\\\"modal-title\\\" *ngIf=\\\"property?.external_broker?.id\\\">{{'viewProperty.currentlyLinkedToAgent' | translate}} - <b>{{property?.external_broker?.name}}</b></p> -->\\n\\n               <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-8 col-6\\\">\\n                     <input style=\\\"max-width:200px\\\" (keyup.enter)=\\\"getBothBroker(keyword)\\\" [(ngModel)]=\\\"keyword\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"keyword\\\" placeholder=\\\"{{'addForm.placeholder.search' | translate}}\\\">\\n                 </div>\\n                 <div class=\\\"col-md-4 col-5 btn-cont\\\">\\n                     <a class=\\\"btn btn-primary pull-right\\\" href=\\\"javascript://\\\" (click)=\\\"getBothBroker(keyword)\\\">{{'viewProperty.search' | translate}}</a>\\n                 </div>\\n               </div>\\n\\n               <div class=\\\"spacer40\\\"></div>\\n               <div class=\\\"modal-table-data\\\" malihu-scrollbar [scrollbarOptions]=\\\"scrollbarOptions\\\">\\n                  <table class=\\\"table\\\">\\n                     <tr *ngFor=\\\"let item of allExtBrokers\\\">\\n                        <td>\\n                           <div class=\\\"n-avail-profile\\\">\\n                           <img *ngIf=\\\"item?.image\\\" onerror='src=\\\"assets/img/default_img.png\\\"' alt=\\\"img\\\"\\n                              [defaultImage]=\\\"item?.image| img:'thumb'\\\" [lazyLoad]=\\\"item?.image\\\">\\n                           <img *ngIf=\\\"!item?.image\\\" src=\\\"assets/img/default_img.png\\\" alt=\\\"img\\\">\\n                           \\n                           <div class=\\\"n-avail-info\\\">\\n                              <p class=\\\"p12\\\">{{item?.name | titlecase}}</p>\\n                              <p class=\\\"p10 marginB0\\\">{{item?.is_external_agent ? 'OUTSIDE AGENT' : 'IN-HOUSE AGENT'}}</p>\\n                              <p class=\\\"p10\\\">{{'viewProperty.phone' | translate}} : {{item?.dial_code ? item?.dial_code : constant.dial_code}}-{{item?.phone}}</p>\\n                           </div>\\n                           </div>\\n                        </td>\\n                        <td>\\n                           <button type=\\\"button\\\" (click)=\\\"setAgent(item)\\\" class=\\\"action-icon\\\" title=\\\"{{'table.title.linkAgent' | translate}}\\\">\\n                              <img src=\\\"assets/img/green-icon.png\\\" alt=\\\"img\\\"></button>\\n                           \\n                           <button type=\\\"button\\\" (click)=\\\"unsetAgent()\\\" class=\\\"action-icon\\\" title=\\\"{{'table.title.unlinkAgent' | translate}}\\\">\\n                              <img src=\\\"assets/img/ic_disapprove.png\\\" alt=\\\"img\\\"></button>\\n                        </td>\\n                     </tr>\\n                     <tr *ngIf=\\\"allExtBrokers?.length==0\\\">\\n                        <p class=\\\"show-not-found\\\">{{'viewProperty.noExternalAgentFound' | translate}}</p>\\n                     </tr>\\n                  </table>\\n               </div>\\n            </div>\\n      </div>\\n   </div>\\n</div>\\n\\n\\n\\n<!-- add note modal -->\\n<div class=\\\"modal animated\\\" id=\\\"add-folder\\\">\\n    <div class=\\\"modal-dialog fadeIndown\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header modal-header-new\\\">\\n            <h4 class=\\\"modal-title\\\">{{'addCollection.folderName' | translate}}</h4>\\n            <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" #folderModalClose>&times;</button>\\n            <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeFolderModal()\\\">&times;</button>\\n        </div>\\n  \\n        <form autocomplete=\\\"off\\\" class=\\\"form-horizontal form-model0P form-model-newP\\\" role=\\\"form\\\" ngNativeValidate #addForm=\\\"ngForm\\\" (ngSubmit)=\\\"addFolder(); addForm.reset();\\\">\\n          <div class=\\\"modal-body modal-body-new\\\">\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-12\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <div class=\\\"form-group\\\">\\n                      <input autocomplete=\\\"off\\\" maxlength=\\\"20\\\" required class=\\\"form-control note\\\" name=\\\"folderName\\\" [(ngModel)]=\\\"folderName\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-12\\\">\\n                  <div class=\\\"btn-cont text-right\\\">\\n                      <button *ngIf=\\\"!selectedFolder.id else UpdateNote\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\">{{'commonBlock.addBtn' | translate}}</button>\\n                      <ng-template #UpdateNote>\\n                          <button type=\\\"submit\\\" [disabled]=\\\"!addForm.valid\\\" class=\\\"btn btn-primary\\\">{{'commonBlock.updateBtn' | translate}}</button>\\n                      </ng-template>\\n                  </div>\\n              </div>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n\\n\\n  <a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#collection-notes\\\" #docsModalOpen></a>\\n  <div class=\\\"modal animated\\\" id=\\\"collection-notes\\\">\\n        <div class=\\\"modal-dialog fadeIndown\\\">\\n              <div class=\\\"modal-content notary-avail\\\">\\n                    <div class=\\\"modal-header popup-header\\\">\\n                          <h4>{{folderName}}</h4>\\n                          <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" #docsModalClose>&times;</button>\\n                          <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeModal()\\\">&times;</button>\\n                    </div>\\n  \\n                    <div class=\\\"modal-body\\\">\\n                          <div class=\\\"white-bg\\\">\\n                                <div class=\\\"row\\\">\\n                                      <div class=\\\"col-8\\\">\\n                                            <p class=\\\"p16 marginB0\\\">{{'addCollection.addDocxNameAndChooseFile' | translate}}</p>\\n                                      </div>\\n                                      <div class=\\\"col-4 text-right\\\">\\n                                            <a class=\\\"add\\\" href=\\\"javascript://\\\" (click)=\\\"addDocs()\\\">\\n                                              <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                                              {{'commonBlock.add' | translate}}\\n                                            </a>\\n  \\n                                            <ng-template #noAddPermissiom>\\n                                                  <a class=\\\"add\\\" href=\\\"javascript://\\\">{{'commonBlock.add' | translate}}</a>\\n                                            </ng-template>\\n                                      </div>\\n                                </div>\\n                          </div>\\n                          <div class=\\\"form-group-2\\\">\\n                                <div class=\\\"form-group\\\">\\n                                  <input type=\\\"text\\\" autocomplete=\\\"off\\\" name=\\\"docsName\\\" [(ngModel)]=\\\"docsName\\\">\\n                                </div>\\n                          </div>\\n                          <div class=\\\"form-group-2\\\">\\n                                <div class=\\\"form-group\\\">\\n                                  <input type=\\\"file\\\" name=\\\"docFile\\\" #docsFile\\n                                  accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                                  (change)=\\\"onSelectFile($event.target.files)\\\">\\n                                </div>\\n                          </div>\\n                          <div *ngIf=\\\"docs?.length!=0\\\" [ngStyle]=\\\"{'max-height':sent_as === 1 ? '250px' : '' }\\\" class=\\\"write-note white-bg\\\"\\n                                malihu-scrollbar [scrollbarOptions]=\\\"scrollbarOptions\\\">\\n                                <div class=\\\"wn-block\\\" *ngFor=\\\"let item of docs; let i=index\\\">\\n                                      <div class=\\\"circle\\\">\\n                                            <span></span>\\n                                      </div>\\n\\n                                      <a class=\\\"edit\\\" href=\\\"javascript://\\\" (click)=\\\"editDocsPopup(item, i, s)\\\">{{'addCollection.edit' | translate}}</a>\\n\\n                                      <a class=\\\"delete\\\" href=\\\"javascript://\\\" (click)=\\\"deleteDocsPopup(item, i)\\\" *ngIf=\\\"payment_folder_id != folderId\\\">{{'commonBlock.delete' | translate}}</a>\\n  \\n                                      <ng-template #noDeletePermissiom>\\n                                            <a class=\\\"delete\\\" href=\\\"javascript://\\\" *ngIf=\\\"payment_folder_id != p.id\\\">{{'commonBlock.delete' | translate}}</a>\\n                                      </ng-template>\\n                                      <p class=\\\"time\\\" title=\\\"'Click to view'\\\">\\n                                        <a target=\\\"_blank\\\" href=\\\"{{item.display_name}}\\\">\\n                                            {{item?.name}}\\n                                        </a></p>\\n                                      <!-- <pre class=\\\"p13\\\" *ngIf=\\\"!item.show\\\">{{item.note.slice(0, 90)}} <span class=\\\"read-more\\\" *ngIf=\\\"item.note.length>100\\\" (click)=\\\"item.show=true\\\">Read more</span></pre>\\n                                      <pre class=\\\"p13\\\" *ngIf=\\\"item.show\\\">{{item.note}}</pre> -->\\n                                </div>\\n                          </div>\\n                          <div *ngIf=\\\"docs?.length==0\\\" class=\\\"write-note white-bg\\\" [ngStyle]=\\\"{'height':sent_as === 1 ? '230px' : '245px' }\\\">\\n                                <p class=\\\"show-not-found\\\">\\n                                      {{'message.error.noDocumentFound' | translate}}\\n                                </p>\\n                          </div>\\n                    </div>\\n              </div>\\n        </div>\\n  </div>\\n\\n  <!-- Trigger the modal with a button -->\\n<button type=\\\"button\\\" style=\\\"display: none;\\\" class=\\\"btn btn-info\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal\\\"\\n#localityOpen>Open Modal</button>\\n\\n<!-- Modal -->\\n<div id=\\\"myModal\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\n<div class=\\\"modal-dialog\\\">\\n\\n  <!-- Modal content-->\\n  <div class=\\\"modal-content\\\">\\n    <div class=\\\"modal-header my-modal-header\\\">\\n      <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeEditModal()\\\">&times;</button>\\n      <h4 class=\\\"modal-title\\\"> {{'editDocName.title' | translate}}</h4>\\n    </div>\\n    <form class=\\\"form-horizontal form-model0P\\\" role=\\\"form\\\" novalidate #addForm=\\\"ngForm\\\"\\n      (ngSubmit)=\\\"checkIfLocalitySpanishNameEntered(addForm)\\\">\\n      <div class=\\\"modal-body model-body10P\\\">\\n        <div class=\\\"form-group\\\">\\n          <input autocomplete=\\\"off\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"{{'editDocName.name' | translate}}\\\"\\n            id=\\\"name_en\\\" required [(ngModel)]=\\\"modelForDoc.name_en\\\" name=\\\"name_en\\\" #name_en=\\\"ngModel\\\">\\n        </div>\\n\\n      </div>\\n      <div class=\\\"modal-footer btn-cont\\\">\\n        <button type=\\\"submit\\\" [disabled]=\\\"addForm.invalid\\\" class=\\\"btn btn-primary-new\\\">{{'editDocName.submit' | translate}}</button>\\n        <button style=\\\"display:none;\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\" #localityClose\\n          data-dismiss=\\\"modal\\\">{{'addForm.close' | translate}}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"closeEditModal()\\\">{{'editDocName.close' | translate}}</button>\\n      </div>\\n    </form>\\n\\n  </div>\\n\\n</div>\\n</div>\"","import { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport { NgForm, FormControl, FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\nimport { AddProjectModel, Towers, Configuration } from 'src/app/models/addProject.model';\nimport * as moment from 'moment';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { AddPropertyModel, Building } from 'src/app/models/addProperty.model';\nimport { Constant } from 'src/app/common/constants';\nimport { FileUpload } from 'src/app/common/fileUpload';\nimport { IProperty } from 'src/app/common/property';\nimport { AdminService } from 'src/app/services/admin.service';\nimport { CommonService } from 'src/app/services/common.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { HttpInterceptor } from 'src/app/services/http-interceptor';\nimport { TranslateService } from '@ngx-translate/core';\nimport { SelectItem } from 'primeng/primeng';\nimport { Collection, Seller } from 'src/app/models/collection.model';\nimport { ToastrService } from 'ngx-toastr';\nimport {Document} from 'src/app/models/document.model';\ndeclare let swal: any;\n\n@Component({\n  selector: 'app-add-edit-collection',\n  templateUrl: './add-edit-collection.component.html',\n  styleUrls: ['./add-edit-collection.component.css'],\n  providers: [AddPropertyModel, Building, Constant, HttpInterceptor, Collection, Document]\n})\nexport class AddEditCollectionComponent implements OnInit {\n\n  file2: FileUpload;\n\n  public parameter: IProperty = {};\n  @ViewChild('docsModalOpen') docsModalOpen: ElementRef;\n  @ViewChild('docsModalClose') docsModalClose: ElementRef;\n  @ViewChild('search') searchElementRef: ElementRef;\n  @ViewChild('linkUserModal') linkUserModal: ElementRef;\n  @ViewChild('closeLinkUserModal') closeLinkUserModal: ElementRef;\n  @ViewChild('linkExtBrokerModal') linkExtBrokerModal: ElementRef;\n  @ViewChild('closeExtBrokerModal') closeExtBrokerModal: ElementRef;\n  @ViewChild('folderModalOpen') folderModalOpen: ElementRef;\n  @ViewChild('folderModalClose') folderModalClose: ElementRef;\n  @ViewChild('docsFile') docsFile: ElementRef;\n  @ViewChild('selectedPaymentChoice') selectedPaymentChoice: ElementRef;\n  @ViewChild('localityOpen') localityOpen: ElementRef;\n  @ViewChild('localityClose') localityClose: ElementRef;\n  public latitude: number;\n  public longitude: number;\n  public searchControl: FormControl;\n  public zoom: number;\n\n  name: string;\n  property_id: string;\n  url: File;\n  url2 = [];\n  urlImg360 = [];\n  tab: number;\n  selectedGuest: any;\n  image1: any;\n  image2: any;\n  image3: any;\n  showBuilding = false;\n  amenityList = [];\n  amen = '';\n  bankList = [];\n  bank = '';\n  imageEvent = [];\n  showText = false;\n  showSearch = false;\n  buildingName = '';\n  initialCountry: any;\n  propertyDetails = false;\n  details: any;\n  editMode = false;\n  newcarpet_area = { area: '', price: '' };\n  newcustom_attribute = { name: '', value: '' };\n  buildingLoading = false;\n  buildingData: AddProjectModel;\n  searchedBuildings: Array<AddProjectModel>;\n  selectedBuilding: AddProjectModel;\n  selectedTower: Towers;\n\n  num_of_property: any;\n  property_names: Array<any>;\n  amenity_index: number;\n  amenity_obj: any;\n\n  mode: string;\n  folderIndex: number;\n  selectedFolder: any = {};\n  folderName: string;\n  docsName: string;\n  docFile: any;\n  locale: any;\n  allUsers: Array<any>;\n  allExtBrokers: Array<any>;\n  properties: SelectItem[];\n  paymentMethods: Array<any>;\n  dealTypes: Array<any>;\n  currencies: Array<any>;\n  addFormStep1: FormGroup;\n  addFormStep2: FormGroup;\n  addFormStep3: FormGroup;\n  addFormStep4: FormGroup;\n  addFormStep5: FormGroup;\n  addFormStep6: FormGroup;\n  collectionFolders: Array<any>;\n  docs: Array<any>;\n  keyword: string;\n  paymentChoices: Array<any>;\n  currentPaymentChoiceId: number;\n  showMonthlyInput: boolean;\n  num_of_months: number;\n  configurations: Array<any>;\n  public scrollbarOptions = { axis: 'y', theme: 'dark' };\n  showError:  boolean;\n  payment_folder_id: number = 0;\n  folderId: number;\n  oldDocName: string;\n  availabilityStatus = [\n    { id: '1', name: this.translate.instant('leadDetails.purchase'), checked: false },\n    { id: '2', name: this.translate.instant('leadDetails.rent'), checked: false }];\n\n  ccsum: any;\n  pcsum: any;\n  acsum: any;\n  constructor(public model: Collection, private us: AdminService, private cs: CommonService,\n    private router: Router,\n    private building: Building, public constant: Constant,\n    private route: ActivatedRoute,\n    private spinner: NgxSpinnerService,\n    private translate: TranslateService,\n    private fb: FormBuilder,\n    private toastr: ToastrService,\n    public modelForDoc: Document) {\n  }\n\n  ngOnInit() {\n    this.collectionFolders = [];\n    this.model = new Collection();\n    this.model.building = new Building();\n    this.model.building_towers = new Towers();\n    this.model.seller_type = '1';\n    this.model.buyer_type = '1';\n    this.setDatePickerLocale();\n    this.property_names = [];\n    this.parameter.page = 1;\n    this.parameter.itemsPerPage = this.constant.limit4;\n    this.buildingData = new AddProjectModel();\n    this.getAllPaymentChoices();\n\n    this.parameter.sub = this.route.params.subscribe(params => {\n      this.model.id = params['id'];\n      if (params['id'] === '0') {\n        this.showSearch = true;\n        this.initFormStep1();\n        this.setValue('seller_type', '1');\n        this.setValue('buyer_type', '1');\n        this.initFormStep4();\n        this.initFormStep5();\n      } else {\n        this.editCollection();\n      }\n    });\n    this.tab = 1;\n    this.getCurrencies();\n    this.searchControl = new FormControl();\n  }\n\n  editCollection() {\n    this.showSearch = false;\n    this.initFormStep1();\n    this.initFormStep2();\n    this.initFormStep3();\n    this.initFormStep4();\n    this.initFormStep5();\n    this.getCollectionDetails(this.model.id);\n  }\n\n  getAllPaymentChoices() {\n    this.us.postDataApi('getPaymentChoices', {})\n      .subscribe(\n        success => {\n          this.paymentChoices = success.data;\n        }, error => {\n          this.spinner.hide();\n        });\n  }\n\n  setDatePickerLocale() {\n    if (this.translate.defaultLang === 'en') {\n      this.locale = {\n        firstDayOfWeek: 0,\n        dayNames: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n        dayNamesShort: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        dayNamesMin: ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],\n        monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October',\n            'November', 'December'],\n        monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        today: 'Today',\n        clear: 'Clear',\n        dateFormat: 'mm/dd/yy',\n        weekHeader: 'Wk',\n        dataType: 'string'\n      };\n    } else {\n      this.locale = {\n        firstDayOfWeek: 0,\n        dayNames: ['domingo', 'lunes', 'martes', 'mircoles', 'jueves', 'viernes', 'sbado'],\n        dayNamesShort: ['dom', 'lun', 'mar', 'mi', 'jue', 'vie', 'sb'],\n        dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],\n        monthNames: ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',\n          'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'],\n        monthNamesShort: ['ene', 'feb', 'mar', 'abr', 'may', 'jun',\n          'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\n        today: 'Hoy',\n        clear: 'Clara',\n        dateFormat: 'mm/dd/yy',\n        weekHeader: 'Sm',\n        dataType: 'string'\n      };\n    }\n  }\n\n  initFormStep1() {\n    this.addFormStep1 = this.fb.group({\n      // step 1\n      building_id: ['', [Validators.required]],\n      building_towers_id: ['', [Validators.required]],\n      floor_num: ['', [Validators.required]],\n      property_id: ['', [Validators.required]],\n      for_sale: [''],\n      for_rent: [''],\n      building_configuration_id: [''],\n      step: ['', [Validators.required]]\n    });\n  }\n\n  initFormStep2() {\n    this.addFormStep2 = this.fb.group({\n      step: ['', [Validators.required]],\n      seller_id: [''],\n      seller_name: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(50)]], // commer cial name and seller name\n      seller_first_surname: [''],\n      seller_second_surname: [''],\n      seller_legal_name: [''], // legal name in case of entity/dev\n      seller_address: [null],  // legal entiy/dev address\n      seller_email: [''],\n      seller_phone: ['', [Validators.required, Validators.pattern(this.constant.numberPattern),\n        Validators.minLength(8), Validators.maxLength(15)]],\n      seller_company_name: ['', [Validators.minLength(1), Validators.maxLength(30)]],\n      seller_fed_tax: [''],\n      seller_leg_rep_name: ['', [Validators.minLength(1), Validators.maxLength(30)]],\n      seller_leg_rep_first_surname: [''],\n      seller_leg_rep_second_surname: [''],\n      seller_leg_rep_phone: ['', [Validators.pattern(this.constant.numberPattern), Validators.minLength(8), Validators.maxLength(15)]],\n      seller_leg_rep_email: ['', [Validators.email]],\n      seller_leg_rep_comp: [''],\n      seller_leg_rep_fed_tax: ['', [Validators.minLength(12), Validators.maxLength(13)]],\n      collection_seller_banks: this.fb.array([]),\n      collection_seller_rep_banks: this.fb.array([]),\n      seller_type: ['', [Validators.required]],\n      seller_legal_entity_id: ['']\n    });\n  }\n\n  setValue(key: string, value: any) {\n    this.model[key] = value;\n    if (key === 'seller_type') {\n      // this.addFormStep2.reset();\n      this.initFormStep2();\n      this.showError = false;\n      if (value != '1') {\n        this.addFormStep2.controls['seller_email'].setValidators(null);\n        this.addFormStep2.controls['seller_email'].updateValueAndValidity();\n        this.addFormStep2.controls['seller_address'].setValidators([Validators.required, Validators.minLength(1)]);\n        this.addFormStep2.controls['seller_fed_tax'].setValidators([Validators.minLength(12), Validators.maxLength(13)]);\n        this.addFormStep2.controls['seller_legal_name'].setValidators(\n          [Validators.required, Validators.minLength(1), Validators.maxLength(30)]);\n        this.addFormStep2.controls['seller_leg_rep_name'].setValidators(\n          [Validators.required, Validators.minLength(1), Validators.maxLength(30)]);\n        this.addFormStep2.controls['seller_leg_rep_phone'].setValidators(\n          [Validators.required, Validators.pattern(this.constant.numberPattern), Validators.minLength(8), Validators.maxLength(15)]);\n        this.addFormStep2.controls['seller_leg_rep_email'].setValidators([Validators.required, Validators.email]);\n        // this.addFormStep2.controls['seller_leg_rep_comp'].setValidators(\n          // [Validators.required, Validators.minLength(1), Validators.maxLength(30)]);\n        this.addFormStep2.controls['seller_leg_rep_fed_tax'].setValidators(\n          [Validators.required, Validators.minLength(12), Validators.maxLength(13)]);\n\n      } else {\n        this.addFormStep2.controls['seller_email'].setValidators([Validators.required, Validators.email]);\n        this.addFormStep2.controls['seller_fed_tax'].setValidators([Validators.minLength(12), Validators.maxLength(13)]);\n        this.addFormStep2.controls['seller_leg_rep_comp'].setValidators([Validators.minLength(1), Validators.maxLength(30)]);\n        this.addFormStep2.controls['seller_leg_rep_name'].setValidators(null);\n        this.addFormStep2.controls['seller_leg_rep_name'].updateValueAndValidity();\n        this.addFormStep2.controls['seller_leg_rep_phone'].setValidators(null);\n        this.addFormStep2.controls['seller_leg_rep_phone'].updateValueAndValidity();\n        this.addFormStep2.controls['seller_leg_rep_email'].setValidators(null);\n        this.addFormStep2.controls['seller_leg_rep_email'].updateValueAndValidity();\n        // this.addFormStep2.controls['seller_leg_rep_comp'].setValidators(null);\n        // this.addFormStep2.controls['seller_leg_rep_comp'].updateValueAndValidity();\n        this.addFormStep2.controls['seller_leg_rep_fed_tax'].setValidators(null);\n        this.addFormStep2.controls['seller_leg_rep_fed_tax'].updateValueAndValidity();\n        // this.addFormStep2.controls['seller_fed_tax'].setValidators(null);\n        // this.addFormStep2.controls['seller_fed_tax'].updateValueAndValidity();\n      }\n    } else {\n      this.initFormStep3();\n      this.showError = false;\n      if (value != '1') {\n        this.addFormStep3.controls['buyer_address'].setValidators([Validators.required, Validators.minLength(1)]);\n        this.addFormStep3.controls['buyer_fed_tax'].setValidators([Validators.minLength(12), Validators.maxLength(13)]);\n        this.addFormStep3.controls['buyer_legal_name'].setValidators(\n          [Validators.required, Validators.minLength(1), Validators.maxLength(30)]);\n        this.addFormStep3.controls['buyer_leg_rep_name'].setValidators(\n          [Validators.required, Validators.minLength(1), Validators.maxLength(30)]);\n        this.addFormStep3.controls['buyer_leg_rep_phone'].setValidators(\n          [Validators.required, Validators.pattern(this.constant.numberPattern), Validators.minLength(8), Validators.maxLength(15)]);\n        this.addFormStep3.controls['buyer_leg_rep_email'].setValidators(\n          [Validators.required, Validators.email]);\n        // this.addFormStep3.controls['buyer_leg_rep_comp'].setValidators(\n          // [Validators.required, Validators.minLength(1), Validators.maxLength(30)]);\n        this.addFormStep3.controls['buyer_leg_rep_fed_tax'].setValidators(\n          [Validators.required, Validators.minLength(12), Validators.maxLength(13)]);\n        this.addFormStep3.controls['buyer_email'].setValidators(null);\n        this.addFormStep3.controls['buyer_email'].updateValueAndValidity();\n      } else {\n        this.addFormStep3.controls['buyer_email'].setValidators([Validators.required, Validators.email]);\n        this.addFormStep3.controls['buyer_fed_tax'].setValidators([Validators.minLength(12), Validators.maxLength(13)]);\n        this.addFormStep3.controls['buyer_leg_rep_comp'].setValidators([Validators.minLength(1), Validators.maxLength(30)]);\n        this.addFormStep3.controls['buyer_leg_rep_name'].setValidators(null);\n        this.addFormStep3.controls['buyer_leg_rep_name'].updateValueAndValidity();\n        this.addFormStep3.controls['buyer_leg_rep_phone'].setValidators(null);\n        this.addFormStep3.controls['buyer_leg_rep_phone'].updateValueAndValidity();\n        this.addFormStep3.controls['buyer_leg_rep_email'].setValidators(null);\n        this.addFormStep3.controls['buyer_leg_rep_email'].updateValueAndValidity();\n        // this.addFormStep3.controls['buyer_leg_rep_comp'].setValidators(null);\n        // this.addFormStep3.controls['buyer_leg_rep_comp'].updateValueAndValidity();\n        this.addFormStep3.controls['buyer_leg_rep_fed_tax'].setValidators(null);\n        this.addFormStep3.controls['buyer_leg_rep_fed_tax'].updateValueAndValidity();\n      }\n    }\n  }\n\n  initFormStep3() {\n    this.addFormStep3 = this.fb.group({\n      step: ['', [Validators.required]],\n      buyer_id: [''],\n      buyer_name: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(50)]], // commer cial name and seller name\n      buyer_first_surname: [''],\n      buyer_second_surname: [''],\n      buyer_legal_name: [''], // legal name in case of entity/dev\n      buyer_address: [null],  // legal entiy/dev address\n      buyer_email: [''],\n      buyer_phone: ['', [Validators.required, Validators.pattern(this.constant.numberPattern),\n        Validators.minLength(8), Validators.maxLength(15)]],\n      buyer_company_name: ['', [Validators.minLength(1), Validators.maxLength(30)]],\n      buyer_fed_tax: [''],\n      buyer_leg_rep_name: ['', [Validators.minLength(1), Validators.maxLength(30)]],\n      buyer_leg_rep_first_surname: [''],\n      buyer_leg_rep_second_surname: [''],\n      buyer_leg_rep_phone: ['', [Validators.pattern(this.constant.numberPattern), Validators.minLength(8), Validators.maxLength(15)]],\n      buyer_leg_rep_email: ['', [Validators.email]],\n      buyer_leg_rep_comp: [''],\n      buyer_leg_rep_fed_tax: ['', [Validators.minLength(12), Validators.maxLength(13)]],\n      collection_buyer_banks: this.fb.array([]),\n      collection_buyer_rep_banks: this.fb.array([]),\n      buyer_type: ['', [Validators.required]],\n      buyer_legal_entity_id: ['']\n    });\n  }\n\n  initFormStep4() {\n    this.addFormStep4 = this.fb.group({\n      step: ['', [Validators.required]],\n      currency_id: ['', [Validators.required]],\n      paymentchoice: [''],\n      payment_choices: this.fb.array([]),\n      num_of_months: [''],\n      monthly_date: [''],\n      monthly_amount: [''],\n\n      deal_purchase_date: ['', [Validators.required]],\n      deal_price: ['', [Validators.required]],\n      sum_of_concepts: [''],\n      deal_interest_rate: [0],\n      deal_penality: [0]\n    });\n  }\n\n  initFormStep5() {\n    this.addFormStep5 = this.fb.group({\n      // step 5\n      step: ['', [Validators.required]],\n      comm_total_commission: ['', [Validators.required, Validators.max(100)]],\n      comm_total_commission_amount: ['', [Validators.required]],\n      comm_shared_commission: ['', [Validators.required, Validators.max(100)]],\n      comm_shared_commission_amount: ['', [Validators.required]],\n      sozu_iva_percent: ['', [Validators.required, Validators.max(100)]],\n      sozu_iva_amt: ['', [Validators.required]],\n      agent_iva_percent: ['', [Validators.required, Validators.max(100)]],\n      agent_iva_amt: ['', [Validators.required]],\n      iva_percent: ['', [Validators.required]],\n      add_iva_to_pc: [''],\n      add_iva_to_cc: [''],\n      add_iva_to_ac: [''],\n      // deal_commission_agents: ['', [Validators.required]]\n      deal_commission_agents: this.fb.array([]),\n      collection_agent_banks: this.fb.array([]),\n      collection_commissions: this.fb.array([]),\n      is_commission_sale_enabled: [''],\n      payment_received_by: ['']\n    });\n    // if (this.model.id === '0') {\n      // this.addAgent('');\n    // }\n  }\n\n  initFormStep6() {\n    this.addFormStep6 = this.fb.group({\n      step: ['', [Validators.required]],\n      folderName: [''],\n      collection_folders: this.fb.array([])\n    });\n  }\n\n  getCollectionDetails(id: string) {\n    this.spinner.show();\n    this.us.postDataApi('getCollectionById', {id: id})\n      .subscribe(\n        success => {\n          this.spinner.hide();\n          this.patchFormData(success['data']);\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  getPaymentMethods() {\n    this.us.postDataApi('getPaymentMethods', {})\n      .subscribe(\n        success => {\n          this.paymentMethods = success.data;\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  getDealTypes() {\n    this.us.postDataApi('getDealTypes', {})\n      .subscribe(\n        success => {\n          this.dealTypes = success.data;\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  getCurrencies() {\n    this.us.postDataApi('getCurrencies', {})\n      .subscribe(\n        success => {\n          this.currencies = success.data;\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  setAvailableStatus(aindex: number) {\n    // this.availabilityStatus[aindex].checked = !this.availabilityStatus[aindex].checked;\n    // handling this way because data already added in db\n    if (aindex === 0) {\n      this.availabilityStatus[0].checked = true;\n      this.availabilityStatus[1].checked = false;\n      this.model.availabilityStatusId = this.availabilityStatus[0].id;\n    } else {\n      this.availabilityStatus[0].checked = false;\n      this.availabilityStatus[1].checked = true;\n      this.model.availabilityStatusId = this.availabilityStatus[1].id;\n    }\n  }\n\n\n  patchFormData(data) {\n    this.patchFormStep1(data);\n    this.patchFormStep2(data, 'edit');\n    this.patchFormStep3(data);\n    this.patchFormStep4(data);\n    this.patchFormStep5(data);\n    this.setFolders(data);\n  }\n\n  patchFormStep1(data) {\n    this.model.building = data.property.building;\n    this.model.building_towers = data.property.building_towers;\n    this.model.floor_num = data.property.floor_num;\n    this.model.name = data.property.name;\n    this.model.availabilityStatusId = data.for_sale ? this.availabilityStatus[0].id : this.availabilityStatus[1].id;\n    this.model.building_configuration_id = data.property.building_configuration_id;\n    this.model.building_configuration = data.property.building_configuration;\n    this.addFormStep1.controls.building_id.patchValue(data.property.building.id);\n    this.addFormStep1.controls.building_towers_id.patchValue(data.property.building_towers.id);\n    this.addFormStep1.controls.floor_num.patchValue(data.property.floor_num);\n    this.addFormStep1.controls.property_id.patchValue(data.property_id);\n    this.addFormStep1.controls.for_sale.patchValue(data.for_sale);\n    this.addFormStep1.controls.for_rent.patchValue(data.for_rent);\n    this.addFormStep1.controls.step.patchValue(1);\n  }\n\n  patchFormStep2(data, mode: string) {\n    this.model.seller_type = data.seller_type ? data.seller_type : '1';\n    this.addFormStep2.controls.seller_type.patchValue(data.seller_type ? data.seller_type.toString() : '1');\n\n    // as a person\n    if (this.model.seller_type == '1') {\n      this.addFormStep2.controls.seller_id.patchValue(data.seller ? data.seller.id : '');\n      this.addFormStep2.controls.seller_company_name.patchValue(data.seller_company_name ? data.seller_company_name : '');\n      this.addFormStep2.controls.seller_email.patchValue(data.seller ? data.seller.email : '');\n      this.addFormStep2.controls.seller_name.patchValue(data.seller ? data.seller.name : '');\n      this.addFormStep2.controls.seller_first_surname.patchValue(data.seller ? data.seller.first_surname : '');\n      this.addFormStep2.controls.seller_second_surname.patchValue(data.seller ? data.seller.second_surname : '');\n      this.addFormStep2.controls.seller_fed_tax.patchValue(data.seller ? data.seller.fed_tax_pay : '');\n      this.addFormStep2.controls.seller_legal_name.patchValue(data.seller_legal_name ? data.seller_legal_name : '');\n      this.addFormStep2.controls.seller_address.patchValue(data.seller_address ? data.seller_address : '');\n      this.addFormStep2.controls.seller_phone.patchValue(data.seller ? data.seller.phone : '');\n      this.addFormStep2.controls.seller_fed_tax.patchValue(data.seller ? data.seller.fed_tax_pay : '');\n\n      this.addFormStep2.controls.seller_leg_rep_name.patchValue(\n        data.seller.legal_representative ? data.seller.legal_representative.name : '');\n      this.addFormStep2.controls.seller_leg_rep_first_surname.patchValue(\n        data.seller.legal_representative ? data.seller.legal_representative.first_surname : '');\n      this.addFormStep2.controls.seller_leg_rep_second_surname.patchValue(\n        data.seller.legal_representative ? data.seller.legal_representative.second_surname : '');\n      this.addFormStep2.controls.seller_leg_rep_phone.patchValue(\n        data.seller.legal_representative ? data.seller.legal_representative.phone : '');\n      this.addFormStep2.controls.seller_leg_rep_email.patchValue(\n        data.seller.legal_representative ? data.seller.legal_representative.email : '');\n      this.addFormStep2.controls.seller_leg_rep_fed_tax.patchValue(\n        data.seller.legal_representative ? data.seller.legal_representative.fed_tax_pay : '');\n      this.addFormStep2.controls.seller_leg_rep_comp.patchValue(data.seller_leg_rep_comp || '');\n\n      this.addFormStep2.controls.step.patchValue(2);\n      const control = this.addFormStep2.get('collection_seller_rep_banks') as FormArray;\n      if (data.seller.legal_representative && data.seller.legal_representative.legal_rep_banks) {\n        data.seller.legal_representative.legal_rep_banks.forEach(x => {\n          delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n          control.push(this.fb.group(x));\n        });\n      }\n      const control1 = this.addFormStep2.get('collection_seller_banks') as FormArray;\n      if (data.seller.legal_rep_banks) {\n        data.seller.legal_rep_banks.forEach(x => {\n          delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n          control1.push(this.fb.group(x));\n        });\n      }\n    }\n\n      // seller as a developer\n      if (this.model.seller_type == '3') {\n        this.addFormStep2.controls.seller_id.patchValue(data.seller.id);\n        this.addFormStep2.controls.seller_company_name.patchValue(data.seller_company_name ? data.seller_company_name : '');\n        this.addFormStep2.controls.seller_legal_name.patchValue(data.seller.developer_company || '');\n        this.addFormStep2.controls.seller_name.patchValue(data.seller.name || '');\n        this.addFormStep2.controls.seller_first_surname.patchValue(data.seller ? data.seller.first_surname : '');\n        this.addFormStep2.controls.seller_second_surname.patchValue(data.seller ? data.seller.second_surname : '');\n        this.addFormStep2.controls.seller_fed_tax.patchValue(data.seller ? data.seller.fed_tax_pay : '');\n        this.addFormStep2.controls.seller_phone.patchValue(data.seller.phone || '');\n        this.addFormStep2.controls.seller_address.patchValue(data.seller.developer_address || '');\n        this.addFormStep2.controls.seller_leg_rep_name.patchValue(\n          data.seller.legal_representative ? data.seller.legal_representative.name : '');\n        this.addFormStep2.controls.seller_leg_rep_first_surname.patchValue(\n          data.seller.legal_representative ? data.seller.legal_representative.first_surname : '');\n        this.addFormStep2.controls.seller_leg_rep_second_surname.patchValue(\n          data.seller.legal_representative ? data.seller.legal_representative.second_surname : '');\n        this.addFormStep2.controls.seller_leg_rep_phone.patchValue(\n          data.seller.legal_representative ? data.seller.legal_representative.phone : '');\n        this.addFormStep2.controls.seller_leg_rep_email.patchValue(\n          data.seller.legal_representative ? data.seller.legal_representative.email : '');\n        this.addFormStep2.controls.seller_leg_rep_fed_tax.patchValue(\n          data.seller.legal_representative ? data.seller.legal_representative.fed_tax_pay : '');\n        const control = this.addFormStep2.get('collection_seller_rep_banks') as FormArray;\n        if (data.seller.legal_representative && data.seller.legal_representative.legal_rep_banks) {\n          data.seller.legal_representative.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control.push(this.fb.group(x));\n          });\n        }\n        const control1 = this.addFormStep2.get('collection_seller_banks') as FormArray;\n        if (data.seller.legal_rep_banks) {\n          data.seller.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control1.push(this.fb.group(x));\n          });\n        }\n      }\n\n      // seller as a legal entity\n      if (this.model.seller_type == '2') {\n        this.addFormStep2.controls.seller_legal_entity_id.patchValue(data.seller_legal_entity.id);   \n        this.addFormStep2.controls.seller_name.patchValue(data.seller_legal_entity.comm_name);\n        this.addFormStep2.controls.seller_legal_name.patchValue(data.seller_legal_entity.legal_name);\n        this.addFormStep2.controls.seller_fed_tax.patchValue(data.seller_legal_entity.fed_tax_pay);\n        this.addFormStep2.controls.seller_phone.patchValue(data.seller_legal_entity.phone);\n        this.addFormStep2.controls.seller_address.patchValue(data.seller_legal_entity.address);\n        this.addFormStep2.controls.seller_leg_rep_name.patchValue(\n          data.seller_legal_entity.legal_reps ? data.seller_legal_entity.legal_reps.name : '');\n        this.addFormStep2.controls.seller_leg_rep_first_surname.patchValue(\n          data.seller_legal_entity.legal_reps ? data.seller_legal_entity.legal_reps.first_surname : '');\n        this.addFormStep2.controls.seller_leg_rep_second_surname.patchValue(\n          data.seller_legal_entity.legal_reps ? data.seller_legal_entity.legal_reps.second_surname : '');\n        this.addFormStep2.controls.seller_leg_rep_phone.patchValue(\n          data.seller_legal_entity.legal_reps ? data.seller_legal_entity.legal_reps.phone : '');\n        this.addFormStep2.controls.seller_leg_rep_email.patchValue(\n          data.seller_legal_entity.legal_reps ? data.seller_legal_entity.legal_reps.email : '');\n        this.addFormStep2.controls.seller_leg_rep_comp.patchValue('');\n        this.addFormStep2.controls.seller_leg_rep_fed_tax.patchValue(\n          data.seller_legal_entity.legal_reps ? data.seller_legal_entity.legal_reps.fed_tax_pay : '');\n        let control = new FormArray([]);\n        control = this.addFormStep2.get('collection_seller_banks') as FormArray;\n        if (data.seller_legal_entity.legal_entity_banks) {\n          data.seller_legal_entity.legal_entity_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control.push(this.fb.group(x));\n          });\n        }\n        let control1 = new FormArray([]);\n        control1 = this.addFormStep2.get('collection_seller_rep_banks') as FormArray;\n        if (data.seller_legal_entity.legal_reps && data.seller_legal_entity.legal_reps.legal_rep_banks) {\n          data.seller_legal_entity.legal_reps.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control1.push(this.fb.group(x));\n          });\n        }\n      }\n\n\n    if (mode == 'edit') {\n      this.setSeller(data);\n    }\n  }\n\n  patchFormStep3(data) {\n    this.model.buyer_type = data.buyer_type ? data.buyer_type : '1';\n    this.addFormStep3.controls.buyer_type.patchValue(data.buyer_type ? data.buyer_type.toString() : '1');\n\n    // as a person\n    if (this.model.buyer_type == '1') {\n      this.addFormStep3.controls.buyer_id.patchValue(data.buyer ? data.buyer.id : '');\n      this.addFormStep3.controls.buyer_company_name.patchValue(data.buyer_company_name ? data.buyer_company_name : '');\n      this.addFormStep3.controls.buyer_email.patchValue(data.buyer ? data.buyer.email : '');\n      this.addFormStep3.controls.buyer_name.patchValue(data.buyer ? data.buyer.name : '');\n      this.addFormStep3.controls.buyer_first_surname.patchValue(data.buyer ? data.buyer.first_surname : '');\n      this.addFormStep3.controls.buyer_second_surname.patchValue(data.buyer ? data.buyer.second_surname : '');\n      this.addFormStep3.controls.buyer_legal_name.patchValue(data.buyer_legal_name ? data.buyer_legal_name : '');\n      this.addFormStep3.controls.buyer_address.patchValue(data.buyer_address ? data.buyer_address : '');\n      this.addFormStep3.controls.buyer_phone.patchValue(data.buyer ? data.buyer.phone : '');\n      this.addFormStep3.controls.buyer_fed_tax.patchValue(data.buyer ? data.buyer.fed_tax_pay : '');\n\n      this.addFormStep3.controls.buyer_leg_rep_name.patchValue(data.buyer && data.buyer.legal_representative ?\n        data.buyer.legal_representative.name : '');\n      this.addFormStep3.controls.buyer_leg_rep_first_surname.patchValue(data.buyer && data.buyer.legal_representative ?\n        data.buyer.legal_representative.first_surname : '');\n      this.addFormStep3.controls.buyer_leg_rep_second_surname.patchValue(data.buyer && data.buyer.legal_representative ?\n        data.buyer.legal_representative.second_surname : '');\n      this.addFormStep3.controls.buyer_leg_rep_phone.patchValue(data.buyer && data.buyer.legal_representative ?\n        data.buyer.legal_representative.phone : '');\n      this.addFormStep3.controls.buyer_leg_rep_email.patchValue(data.buyer && data.buyer.legal_representative ?\n        data.buyer.legal_representative.email : '');\n      this.addFormStep3.controls.buyer_leg_rep_comp.patchValue(data.buyer_leg_rep_comp || '');\n      this.addFormStep3.controls.buyer_leg_rep_fed_tax.patchValue(data.buyer && data.buyer.legal_representative ?\n        data.buyer.legal_representative.fed_tax_pay : '');\n      this.addFormStep3.controls.step.patchValue(2);\n      const control = this.addFormStep3.get('collection_buyer_rep_banks') as FormArray;\n      if (data.buyer.legal_representative && data.buyer.legal_representative.legal_rep_banks) {\n        data.buyer.legal_representative.legal_rep_banks.forEach(x => {\n          delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n          control.push(this.fb.group(x));\n        });\n      }\n      const control1 = this.addFormStep3.get('collection_buyer_banks') as FormArray;\n      if (data.buyer.legal_rep_banks) {\n        data.buyer.legal_rep_banks.forEach(x => {\n          delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n          control1.push(this.fb.group(x));\n        });\n      }\n    }\n      // buyer as a legal entity\n      if (this.model.buyer_type == '2') {\n        this.addFormStep3.controls.buyer_legal_entity_id.patchValue(data.buyer_legal_entity.id);   \n        this.addFormStep3.controls.buyer_name.patchValue(data.buyer_legal_entity.comm_name);\n        this.addFormStep3.controls.buyer_legal_name.patchValue(data.buyer_legal_entity.legal_name);\n        this.addFormStep3.controls.buyer_fed_tax.patchValue(data.buyer_legal_entity.fed_tax_pay);\n        this.addFormStep3.controls.buyer_phone.patchValue(data.buyer_legal_entity.phone);\n        this.addFormStep3.controls.buyer_address.patchValue(data.buyer_legal_entity.address);\n        this.addFormStep3.controls.buyer_leg_rep_name.patchValue(\n          data.buyer_legal_entity.legal_reps ? data.buyer_legal_entity.legal_reps.name : '');\n        this.addFormStep3.controls.buyer_leg_rep_first_surname.patchValue(\n          data.buyer_legal_entity.legal_reps ? data.buyer_legal_entity.legal_reps.first_surname : '');\n        this.addFormStep3.controls.buyer_leg_rep_second_surname.patchValue(\n          data.buyer_legal_entity.legal_reps ? data.buyer_legal_entity.legal_reps.second_surname : '');\n        this.addFormStep3.controls.buyer_leg_rep_phone.patchValue(\n          data.buyer_legal_entity.legal_reps ? data.buyer_legal_entity.legal_reps.phone : '');\n        this.addFormStep3.controls.buyer_leg_rep_email.patchValue(\n          data.buyer_legal_entity.legal_reps ? data.buyer_legal_entity.legal_reps.email : '');\n        this.addFormStep3.controls.buyer_leg_rep_comp.patchValue('');\n        this.addFormStep3.controls.buyer_leg_rep_fed_tax.patchValue(\n          data.buyer_legal_entity.legal_reps ? data.buyer_legal_entity.legal_reps.fed_tax_pay : '');\n        let control = new FormArray([]);\n        control = this.addFormStep3.get('collection_buyer_banks') as FormArray;\n        if (data.buyer_legal_entity.legal_entity_banks) {\n          data.buyer_legal_entity.legal_entity_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control.push(this.fb.group(x));\n          });\n        }\n        let control1 = new FormArray([]);\n        control1 = this.addFormStep3.get('collection_buyer_rep_banks') as FormArray;\n        if (data.buyer_legal_entity.legal_reps && data.buyer_legal_entity.legal_reps.legal_rep_banks) {\n          data.buyer_legal_entity.legal_reps.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control1.push(this.fb.group(x));\n          });\n        }\n      }\n\n      // buyer as a developer\n      if (this.model.buyer_type == '3') {\n        this.addFormStep3.controls.buyer_id.patchValue(data.buyer.id);\n        this.addFormStep3.controls.buyer_company_name.patchValue(data.buyer_company_name ? data.buyer_company_name : '');\n        this.addFormStep3.controls.buyer_legal_name.patchValue(data.buyer.developer_company || '');\n        this.addFormStep3.controls.buyer_name.patchValue(data.buyer.name || '');\n        this.addFormStep3.controls.buyer_first_surname.patchValue(data.buyer ? data.buyer.first_surname : '');\n        this.addFormStep3.controls.buyer_second_surname.patchValue(data.buyer ? data.buyer.second_surname : '');\n        this.addFormStep3.controls.buyer_fed_tax.patchValue(data.buyer ? data.buyer.fed_tax_pay : '');\n        this.addFormStep3.controls.buyer_phone.patchValue(data.buyer.phone || '');\n        this.addFormStep3.controls.buyer_address.patchValue(data.buyer.developer_address || '');\n\n        this.addFormStep3.controls.buyer_leg_rep_name.patchValue(\n          data.buyer.legal_representative ? data.buyer.legal_representative.name : '');\n        this.addFormStep3.controls.buyer_leg_rep_first_surname.patchValue(\n          data.buyer.legal_representative ? data.buyer.legal_representative.first_surname : '');\n        this.addFormStep3.controls.buyer_leg_rep_second_surname.patchValue(\n          data.buyer.legal_representative ? data.buyer.legal_representative.second_surname : '');\n        this.addFormStep3.controls.buyer_leg_rep_phone.patchValue(\n          data.buyer.legal_representative ? data.buyer.legal_representative.phone : '');\n        this.addFormStep3.controls.buyer_leg_rep_email.patchValue(\n          data.buyer.legal_representative ? data.buyer.legal_representative.email : '');\n        this.addFormStep3.controls.buyer_leg_rep_fed_tax.patchValue(\n          data.buyer.legal_representative ? data.buyer.legal_representative.fed_tax_pay : '');\n\n        const control = this.addFormStep3.get('collection_buyer_rep_banks') as FormArray;\n        if (data.buyer.legal_representative && data.buyer.legal_representative.legal_rep_banks) {\n          data.buyer.legal_representative.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control.push(this.fb.group(x));\n          });\n        }\n        const control1 = this.addFormStep3.get('collection_buyer_banks') as FormArray;\n        if (data.buyer.legal_rep_banks) {\n          data.buyer.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control1.push(this.fb.group(x));\n          });\n        }\n      }\n  }\n\n  patchFormStep4(data) {\n    this.addFormStep4.controls.deal_purchase_date.patchValue(\n      data.deal_purchase_date ? this.getDateWRTTimezone(data.deal_purchase_date) : null);\n    this.addFormStep4.controls.deal_price.patchValue(this.numberUptoNDecimal(data.deal_price, 2));\n    this.addFormStep4.controls.currency_id.patchValue(data.currency_id ? data.currency_id : 1);\n    this.addFormStep4.controls.deal_interest_rate.patchValue(data.deal_interest_rate);\n    this.addFormStep4.controls.deal_penality.patchValue(data.deal_penality);\n    const control1 = this.addFormStep4.get('payment_choices') as FormArray;\n    let sum_of_concepts = 0;\n    if (data.payment_choices) {\n      for (let index = 0; index < data.payment_choices.length; index++) {\n        const x = data.payment_choices[index];\n        x.percent = this.numberUptoNDecimal(x.percent, 2);\n        x.amount = this.numberUptoNDecimal(x.amount, 2);\n        sum_of_concepts = sum_of_concepts + parseFloat(x.amount);\n        x.date = x.date ? this.getDateWRTTimezone(x.date) : null;\n        control1.push(this.fb.group(x));\n      }\n    }\n\n    this.addFormStep4.controls['sum_of_concepts'].patchValue(this.numberUptoNDecimal(sum_of_concepts, 2));\n    this.addFormStep4.controls.step.patchValue(4);\n  }\n\n  patchFormStep5(data) {\n    this.addFormStep5.controls.comm_total_commission.patchValue(this.numberUptoNDecimal(data.comm_total_commission || 0, 3));\n    this.addFormStep5.controls.comm_total_commission_amount.patchValue(this.numberUptoNDecimal(data.comm_total_commission_amount || 0, 2));\n    this.addFormStep5.controls.is_commission_sale_enabled.patchValue(data.is_commission_sale_enabled || 0);\n    this.addFormStep5.controls.payment_received_by.patchValue(data.payment_received_by.toString() || '0');\n    this.addFormStep5.controls.comm_shared_commission.patchValue(this.numberUptoNDecimal(data.comm_shared_commission || 0, 3));\n    this.addFormStep5.controls.comm_shared_commission_amount.patchValue(\n      this.numberUptoNDecimal(data.comm_shared_commission_amount || 0, 2));\n    this.addFormStep5.controls.sozu_iva_percent.patchValue(this.numberUptoNDecimal(data.sozu_iva_percent || 0, 3));\n    this.addFormStep5.controls.sozu_iva_amt.patchValue(this.numberUptoNDecimal(data.sozu_iva_amt || 0, 2));\n    this.addFormStep5.controls.agent_iva_percent.patchValue(this.numberUptoNDecimal(data.agent_iva_percent || 0, 3));\n    this.addFormStep5.controls.agent_iva_amt.patchValue(this.numberUptoNDecimal(data.agent_iva_amt || 0, 2));\n    this.addFormStep5.controls.iva_percent.patchValue(this.numberUptoNDecimal(data.iva_percent || 0, 3));\n    this.addFormStep5.controls.add_iva_to_cc.patchValue(data.add_iva_to_cc || 0);\n    this.addFormStep5.controls.add_iva_to_pc.patchValue(data.add_iva_to_pc || 0);\n    this.addFormStep5.controls.add_iva_to_ac.patchValue(data.add_iva_to_ac || 0);\n\n    // this.addFormStep5.controls.deal_commission_agents.patchValue(data.deal_commission_agents);\n    const control1 = this.addFormStep5.get('deal_commission_agents') as FormArray;\n    console.log(control1);\n    if (data.deal_commission_agents && data.deal_commission_agents.length > 0) {\n      for (let index = 0; index < data.deal_commission_agents.length; index++) {\n        const x = data.deal_commission_agents[index].broker;\n        console.log(control1);\n        if (index === 0 && x) {\n          control1.push(this.fb.group(x));\n        } else {\n          this.addAgent('');\n        }\n      }\n    } else {\n      this.addAgent('');\n    }\n\n    const control = this.addFormStep5.get('collection_agent_banks') as FormArray;\n    if (data.collection_agent_banks) {\n      data.collection_agent_banks.forEach(x => {\n        control.push(this.fb.group(x));\n      });\n    }\n\n    this.setCommission(data);\n    this.addFormStep5.controls.step.patchValue(5);\n  }\n\n  setCommission(data) {\n    this.model.collection_commissions = [];\n    const payment_choices = this.addFormStep4.get('payment_choices').value;\n    const control1 = this.addFormStep5.get('collection_commissions') as FormArray;\n    this.ccsum = 0;\n    this.pcsum = 0;\n    if (payment_choices) {\n      for (let index = 0; index < payment_choices.length; index++) {\n          const element = payment_choices[index];\n          const element1 = data.collection_commissions[index];\n          const obj = {};\n          obj['id'] = data.collection_commissions.length > 0 &&\n          data.collection_commissions[index] ? data.collection_commissions[index].id : '';\n          obj['pc_id'] = element['payment_choice_id'];   // payment choice dropdown id\n          obj['name'] = element['name'];\n          obj['category_name'] = element['category_name'];\n          obj['date'] = element['date'];\n          obj['payment_amount'] = element['amount'];\n          obj['payment_choice_id'] = element['id'];\n          obj['add_collection_commission'] = data.collection_commissions.length > 0 &&\n          data.collection_commissions[index] ? data.collection_commissions[index].add_collection_commission : 0;\n          obj['percent'] = data.collection_commissions.length > 0 &&\n          data.collection_commissions[index] ? data.collection_commissions[index].percent : 0;\n          obj['amount'] = data.collection_commissions.length > 0 &&\n          data.collection_commissions[index] ? data.collection_commissions[index].amount : 0.00;\n\n          obj['add_purchase_commission'] = data.collection_commissions.length > 0 &&\n          data.collection_commissions[index] ? data.collection_commissions[index].add_purchase_commission : 0;\n          obj['purchase_comm_amount'] = data.collection_commissions.length > 0 &&\n          data.collection_commissions[index] ? data.collection_commissions[index].purchase_comm_amount : 0;\n\n          obj['add_agent_commission'] = data.collection_commissions.length > 0 &&\n          data.collection_commissions[index] ? data.collection_commissions[index].add_agent_commission : 0;\n          obj['agent_comm_amount'] = data.collection_commissions.length > 0 &&\n          data.collection_commissions[index] ? data.collection_commissions[index].agent_comm_amount : 0;\n\n          if (control1.length != payment_choices.length) {\n            control1.push(this.fb.group(obj));\n          }\n          this.model.collection_commissions.push(obj);\nconsole.log('obj', obj['id'])\n          this.ccsum = parseFloat(this.ccsum) + (obj['amount'] && obj['add_collection_commission'] ? parseFloat(obj['amount']) : 0.00);\n          this.pcsum = parseFloat(this.pcsum) + (obj['purchase_comm_amount'] && obj['add_purchase_commission'] ? parseFloat(obj['purchase_comm_amount']) : 0.00);\n          this.acsum = parseFloat(this.acsum) + (obj['agent_comm_amount'] && obj['add_agent_commission'] ? parseFloat(obj['agent_comm_amount']) : 0.00);\n      }\n    }\n  }\n\n  setFolders(data: any) {\n    this.payment_folder_id = data.payment_folder_id;\n    this.collectionFolders = data['collection_folders'];\n  }\n\n  setTab(tab: any) {\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' +\n        this.translate.instant('message.error.movingBackCanResetInformationEnteredOnCurrentTab'),\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Yes'\n    }).then((result) => {\n      if (result.value) {\n        this.tab = tab;\n      }\n    });\n  }\n\n  showSearchBox() {\n    this.showSearch = true;\n  }\n\n  onCountryChange(e) {\n    this.building.dev_countrycode = e.dialCode;\n    this.initialCountry = { initialCountry: e.iso2 };\n  }\n\n  searchBuilding(keyword: string) {\n    if (!keyword) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterSomeText'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    this.showBuilding = false;\n    this.buildingLoading = true;\n\n    const input = new FormData();\n    input.append('keyword', keyword);\n    input.append('status', '1');  // means only approved projects\n\n    this.us.postDataApi('searchBuilding', input)\n      .subscribe(\n        success => {\n          this.searchedBuildings = success['data'];\n          this.parameter.buildingCount = success['data'].length;\n          if (this.parameter.buildingCount === 0) {\n            this.showText = true;\n          }\n          this.buildingLoading = false;\n        },\n        error => {\n          this.buildingLoading = true;\n        }\n      );\n  }\n\n  getPage(page: number) {\n    this.parameter.page = page;\n  }\n\n  showBuildingDetails(showBuilding) {\n    this.showBuilding = showBuilding;\n    this.buildingName = '';\n  }\n  getBuildingIndex(i: number) {\n    this.searchedBuildings.forEach(e => {\n      e.selected = false;\n    });\n    const searchindex = (this.parameter.page - 1) * 4 + i;\n    this.searchedBuildings[searchindex].selected = true;\n  }\n\n  setBuildingId(building: any) {\n    this.selectedBuilding = building;\n    this.building.id = building.id;\n    this.model.building_id = building.id;\n  }\n\n  setTower(building_towers_id: string) {\n    for (let index = 0; index < this.searchedBuildings.length; index++) {\n      if (this.searchedBuildings[index].id == this.model.building_id) {\n        const bt = this.searchedBuildings[index].building_towers;\n        for(let i = 0; i < bt.length; i++) {\n          if (bt[i].id == building_towers_id) {\n            this.model.building_towers = bt[i];\n          }\n        }\n      }\n    }\n  }\n\n  buildingRequest() {\n\n    if (this.building.dev_name && (!this.building.dev_phone || !this.building.dev_email || !this.building.dev_countrycode)) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant(\n        'message.error.pleaseFillCompleteDevloperInformation'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    if (!this.latitude && !this.longitude) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant(\n        'message.error.pleaseSelectLocationFromTheDropdownList'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    this.building.lat = this.latitude;\n    this.building.lng = this.longitude;\n\n    if (!this.building.lat || !this.building.lng) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseSelectLocation'), this.translate.instant('swal.error'));\n      return false;\n    }\n    this.spinner.show();\n    this.us.postDataApi('buildingRequest', this.building)\n      .subscribe(\n        success => {\n          this.spinner.hide();\n          this.toastr.clear();\n          this.toastr.success(this.translate.instant(\n            'message.success.dataCollectorWillLinkPropertyToBuilding'), this.translate.instant('swal.success'));\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n\n  getProperties($event) {\n    this.properties = [];\n    $event.stopPropagation();\n    this.model.floor_num = $event.target.value;\n    if (!this.model.building_id) {\n\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseSelectBuilding'), this.translate.instant('swal.error'));\n      return;\n    } else if (!this.model.building_towers.id) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseSelectFloor'), this.translate.instant('swal.error'));\n      return;\n    } else if (!this.model.floor_num) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChooseFloor'), this.translate.instant('swal.error'));\n      return;\n    }\n    const input = {\n      building_id : this.model.building_id,\n      tower_id : this.model.building_towers_id,\n      floor_num : this.model.floor_num\n    };\n    this.us.postDataApi('getProperties', input)\n      .subscribe(\n        success => {\n          success.data.unshift({'name': this.translate.instant('message.error.pleaseChooseApartment')});\n          this.properties = success.data;\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  setDealType(id: number) {\n    this.model.deal_type_id = id;\n  }\n\n  setPropertyId(property_id) {\n    this.model.property_id = property_id;\n    this.model.property_id = this.addFormStep1.get('property_id').value.id;\n    this.properties.map((p: any) => {\n      if (p.id == this.model.property_id) {\n        this.configurations = p.building.configurations;\n        this.model.deal_price = p.min_price;\n        this.model.building_configuration_id = p.building_configuration.id;\n        this.addFormStep4.controls.deal_price.patchValue(p.min_price);\n        if (p.for_sale == 1) {\n          this.setAvailableStatus(0);\n        }\n        if (p.for_rent == 1) {\n          this.setAvailableStatus(1);\n        }\n        this.addFormStep5.controls.comm_total_commission.patchValue(p.total_commision ? p.total_commision : 0);\n        this.addFormStep5.controls.comm_total_commission_amount.patchValue(p.total_commision ? (p.total_commision *p.min_price)/100 : 0);\n        this.addFormStep5.controls.is_commission_sale_enabled.patchValue(p.is_commission_sale_enabled ? 1 : 0);\n        this.addFormStep5.controls.payment_received_by.patchValue(p.payment_received_by ? '1' : '0');\n        this.addFormStep5.controls.comm_shared_commission.patchValue(p.broker_commision ? p.broker_commision : 0);\n        this.addFormStep5.controls.comm_shared_commission_amount.patchValue(p.broker_commision ? (p.broker_commision *p.min_price)/100 : 0);\n      }\n    });\n  }\n\n  setConfiguration(con: Configuration) {\n    this.model.building_configuration_id = con.id;\n  }\n\n  addAgentBank($event) {\n    $event.stopPropagation();\n    this.collectionAgentBanks.push(this.newBank());\n  }\n\n  get collectionAgentBanks(): FormArray {\n    return this.addFormStep5.get('collection_agent_banks') as FormArray;\n  }\n\n  removeAgentBank($event: Event, item: any, i: number) {\n    $event.stopPropagation();\n    this.collectionAgentBanks.removeAt(i);\n    if (item.value.id) {\n      this.us.postDataApi('deleteAgentBank', {id: item.value.id}).subscribe(success => {\n        this.spinner.hide();\n      }, error => {\n        this.spinner.hide();\n      });\n    }\n  }\n\n  addSellerBank($event) {\n    $event.stopPropagation();\n    this.collectionSellerBanks.push(this.newBank());\n  }\n\n  get collectionSellerBanks(): FormArray {\n    return this.addFormStep2.get('collection_seller_banks') as FormArray;\n  }\n\n  removeSellerBank($event: Event, item: any, i: number) {\n    $event.stopPropagation();\n    this.collectionSellerBanks.removeAt(i);\n    if (item.value.id) {\n      this.us.postDataApi('deleteSellerBank', {id: item.value.id}).subscribe(success => {\n        this.spinner.hide();\n      }, error => {\n        this.spinner.hide();\n      });\n    }\n  }\n\n  addSellerRepBank($event) {\n    $event.stopPropagation();\n    this.collectionSellerRepBanks.push(this.newBank());\n  }\n\n  get collectionSellerRepBanks(): FormArray {\n    return this.addFormStep2.get('collection_seller_rep_banks') as FormArray;\n  }\n\n  removeSellerRepBank($event: Event, item: any, i: number) {\n    $event.stopPropagation();\n    this.collectionSellerRepBanks.removeAt(i);\n    if (item.value.id) {\n      this.us.postDataApi('deleteSellerRefBank', {id: item.value.id}).subscribe(success => {\n        this.spinner.hide();\n      }, error => {\n        this.spinner.hide();\n      });\n    }\n  }\n\n  addBuyerRepBank($event) {\n    $event.stopPropagation();\n    this.collectionBuyerRepBanks.push(this.newBank());\n  }\n\n  get collectionBuyerRepBanks(): FormArray {\n    return this.addFormStep3.get('collection_buyer_rep_banks') as FormArray;\n  }\n\n  removeBuyerRepBank($event: Event, item: any, i: number) {\n    $event.stopPropagation();\n    this.collectionBuyerRepBanks.removeAt(i);\n    if (item.value.id) {\n      this.us.postDataApi('deleteBuyerRefBank', {id: item.value.id}).subscribe(success => {\n        this.spinner.hide();\n      }, error => {\n        this.spinner.hide();\n      });\n    }\n  }\n\n  // buyer bank\n  addBuyerBank($event) {\n    $event.stopPropagation();\n    this.collectionBuyerBanks.push(this.newBank());\n  }\n\n  get collectionBuyerBanks(): FormArray {\n    return this.addFormStep3.get('collection_buyer_banks') as FormArray;\n  }\n\n  newBank(): FormGroup {\n    return this.fb.group({\n      // bank_name: ['', [Validators.required]],\n      // account_number: ['', [Validators.required]],\n      // swift: ['', [Validators.required]],\n      // currency_id: ['', [Validators.required]]\n      bank_name: [''],\n      account_number: [''],\n      swift: [''],\n      currency_id: ['']\n    });\n  }\n\n  removeBuyerBank($event: Event, item: any, i: number) {\n    $event.stopPropagation();\n    this.collectionBuyerBanks.removeAt(i);\n    if (item.value.id) {\n      this.us.postDataApi('deleteBuyerBank', {id: item.value.id}).subscribe(success => {\n        this.spinner.hide();\n      }, error => {\n        this.spinner.hide();\n      });\n    }\n  }\n  // end buyer bank\n\n  addPaymentChoice($event) {\n    this.currentPaymentChoiceId = $event.target.value;\n    $event.stopPropagation();\n    this.newPaymentChoice();\n  }\n\n  get getPaymentChoices(): FormArray {\n    return this.addFormStep4.get('payment_choices') as FormArray;\n  }\n\n  newPaymentChoice() {\n    if (this.currentPaymentChoiceId != 5) {\n      let name = ''; let payment_choice = {};\n      this.paymentChoices.map(r => {\n        if (r.id == this.currentPaymentChoiceId) {\n          name = r.name;\n          payment_choice = {\n            name: r.name\n          };\n        }\n      });\n      const fb = this.fb.group({\n        payment_choice_id: [this.currentPaymentChoiceId, [Validators.required]],\n        payment_choice: [payment_choice],\n        name: [name, [Validators.required]],\n        category_name: [name, [Validators.required]],\n        date: ['', [Validators.required]],\n        percent: ['', [Validators.required]],\n        amount: ['', [Validators.required]],\n        calc_payment_amount: ['']\n      });\n      const c = this.getPaymentChoices.push(fb);\n    } else {\n      this.showMonthlyInput = true;\n    }\n    this.selectedPaymentChoice.nativeElement.value = '';\n  }\n\n  findMonthlyInstallments() {\n    this.num_of_months = this.addFormStep4.get('num_of_months').value;\n    const monthly_amount = this.addFormStep4.get('monthly_amount').value;\n    const monthly_date = this.addFormStep4.get('monthly_date').value;\n\n    // calculating sum of all payment concepts\n    const sum = this.addFormStep4.get('sum_of_concepts').value;\n    const v = parseFloat(sum) + parseFloat((this.num_of_months * monthly_amount).toFixed(2));\n\n    if (!this.num_of_months || !monthly_amount || !monthly_date) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterMonthlyData'), this.translate.instant('swal.error'));\n      return false;\n    }\n    for (let index = 0; index < this.num_of_months; index++) {\n      this.getPaymentChoices.push(this.newMonthlyPaymentsChoice(index));\n    }\n    this.addFormStep4.controls['sum_of_concepts'].patchValue(this.numberUptoNDecimal(v, 2));\n\n    this.addFormStep4.get('num_of_months').patchValue(null);\n    this.addFormStep4.get('monthly_amount').patchValue(null);\n    this.addFormStep4.get('monthly_date').patchValue(null);\n  }\n\n  newMonthlyPaymentsChoice(index: number): FormGroup {\n    const num_of_months = this.addFormStep4.get('num_of_months').value;\n    let monthly_amount = this.addFormStep4.get('monthly_amount').value;\n    let monthly_date = this.addFormStep4.get('monthly_date').value;\n    const price = this.addFormStep4.get('deal_price').value;\n    const percent = this.numberUptoNDecimal((monthly_amount * 100) / price, 2);\n    monthly_amount = this.numberUptoNDecimal(monthly_amount, 2);\n    let name = ''; let payment_choice = {};\n    monthly_date = moment(monthly_date).add(index, 'months').toDate();\n    this.paymentChoices.map(r => {\n      if (r.id == 5) {\n        name = r.name + ' ' + (index + 1);\n        payment_choice = {\n          name: r.name\n        };\n      }\n    });\n    return this.fb.group({\n      payment_choice_id: [this.currentPaymentChoiceId, [Validators.required]],\n      payment_choice: [payment_choice],\n      name: [name, [Validators.required]],\n      category_name: [name, [Validators.required]],\n      date: [monthly_date, [Validators.required]],\n      percent: [percent, [Validators.required]],\n      amount: [monthly_amount, [Validators.required]]\n    });\n  }\n\n  removePaymentChoicePopup(item: any, i: number) {\n    if (item.value.calc_payment_amount) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.cannotRemoveAsPaymentApplied'), this.translate.instant('swal.error'));\n      return;\n    } else {\n      swal({\n        html: this.translate.instant('message.error.areYouSure') + '<br>' +\n          this.translate.instant('message.error.wantToRemovePaymentConcept'),\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: this.constant.confirmButtonColor,\n        cancelButtonColor: this.constant.cancelButtonColor,\n        confirmButtonText: 'Yes'\n      }).then((result) => {\n        if (result.value) {\n          this.removePaymentChoice(item, i);\n        }\n      });\n    }\n  }\n\n  removePaymentChoice(item: any, i: number) {\n    this.getPaymentChoices.removeAt(i);\n    if (item.value.id) {\n      this.us.postDataApi('deletePaymentChoice', {id: item.value.id}).subscribe(success => {\n        this.spinner.hide();\n      }, error => {\n        this.spinner.hide();\n      });\n    }\n  }\n\n  // folder\n  addFolder() {\n    const input = {\n      step: 6,\n    };\n    const folder_docs = {\n      display_name: '',\n      name: ''\n    };\n    if (this.mode === 'add') {\n      this.collectionFolders.push({name: this.folderName, folder_docs: []});\n    } else if (this.mode === 'edit') {\n      if (this.selectedFolder && this.selectedFolder.id) {\n        this.editFolderName(this.selectedFolder);\n      } else {\n        this.collectionFolders[this.folderIndex].name = this.folderName;\n      }\n    }\n    this.closeFolderModal();\n  }\n\n  closeFolderModal() {\n    this.folderName = '';\n    this.folderModalClose.nativeElement.click();\n  }\n\n  showFiles() {\n\n  }\n\n  openAddFolder(mode: string, folder, index: number) {\n    this.mode = mode;\n    if (folder) {\n      this.folderIndex = index;\n      this.selectedFolder = folder;\n      this.folderName = folder.name;\n    }\n    this.folderModalOpen.nativeElement.click();\n  }\n\n  editFolderName(folder) {\n    this.collectionFolders[this.folderIndex]['name'] = this.folderName;\n    this.us.postDataApi('updateCollectionFolder', {id: this.selectedFolder.id, name: this.folderName})\n      .subscribe(\n        success => {\n          // this.collectionFolders[this.folderIndex]['name'] = this.folderName;\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  modelOpenFun(folder, index: number) {\n    this.folderIndex = index;\n    this.folderName = folder.name;\n    this.docs = folder.folder_docs;\n    this.folderId = folder.id;\n    this.docsModalOpen.nativeElement.click();\n  }\n\n  closeModal() {\n    this.docsModalClose.nativeElement.click();\n  }\n\n  onSelectFile(files) {\n    this.parameter.loading = true;\n    this.cs.saveAttachment(files[0]).subscribe(\n      success => {\n        this.parameter.loading = false;\n        this.docFile = success['data'].name;\n      }, error => {\n        this.parameter.loading = false;\n      }\n    );\n  }\n\n  saveCollectionFolders() {\n    this.spinner.show();\n    this.us.postDataApi('addCollection', {id: this.model.id, step: 6, 'collection_folders': this.collectionFolders})\n      .subscribe(\n        success => {\n          this.spinner.hide();\n          // swal({\n          //   html: this.translate.instant('message.success.submittedSccessfully'), type: 'success'\n          // });\n          this.router.navigate(['/dashboard/collections/view-collections']);\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  addDocs() {\n    if (!this.docsName) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterDocuName'), this.translate.instant('swal.error'));\n      return;\n    }\n    if (!this.docFile) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterDocuFile'), this.translate.instant('swal.error'));\n      return;\n    }\n    this.docs.push({name: this.docsName, display_name: this.docFile});\n    this.docFile = ''; this.docsName = '';\n    this.docsFile.nativeElement.value = '';\n  }\n\n  deleteDocsPopup(item: any, index: number) {\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' +\n        this.translate.instant('message.error.wantToDeleteDocs'),\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Yes'\n    }).then((result) => {\n      if (result.value) {\n        this.deleteDocs(item, index);\n      }\n    });\n  }\n\n  deleteDocs(item: any, i: number) {\n    this.collectionFolders[this.folderIndex].folder_docs.splice(i, 1);\n    if (item.id) {\n      this.us.postDataApi('deleteFolderDoc', {id: item.id}).subscribe(success => {\n        this.spinner.hide();\n      }, error => {\n        this.spinner.hide();\n      });\n    }\n  }\n\n  deleteFolderPopup(item: any, index: number) {\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' +\n        this.translate.instant('message.error.wantToDeleteFolder'),\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Yes'\n    }).then((result) => {\n      if (result.value) {\n        this.deleteFolder(item, index);\n      }\n    });\n  }\n\n  deleteFolder(item, index: number) {\n    this.collectionFolders.splice(index, 1);\n    if (item.id) {\n      this.us.postDataApi('deleteCollectionFolder', {id: item.id}).subscribe(success => {\n        this.spinner.hide();\n      }, error => {\n        this.spinner.hide();\n      });\n    }\n  }\n\n  saveFolder($event) {\n    $event.stopPropagation();\n    this.folders.push(this.newFolder());\n  }\n\n  get folders(): FormArray {\n    return this.addFormStep6.get('collection_folders') as FormArray;\n  }\n\n  newFolder(): FormGroup {\n    return this.fb.group({\n      name: [this.folderName, [Validators.required]],\n      folder_docs: this.fb.array([])\n    });\n  }\n\n  removeFolder($event: Event, i: number) {\n    $event.stopPropagation();\n    this.collectionBuyerBanks.removeAt(i);\n  }\n  // end folder\n\n  addDocument($event) {\n    $event.stopPropagation();\n    this.folderDocs.push(this.newDocx());\n  }\n\n  get folderDocs(): FormArray {\n    const collFolders =  this.addFormStep6.get('collection_folders') as FormArray;\n    return collFolders.get('folder_docs') as FormArray;\n  }\n\n  newDocx(): FormGroup {\n    return this.fb.group({\n      display_name: ['', [Validators.required]],\n      name: ['', [Validators.required]]\n    });\n  }\n\n  removeDocs($event: Event, i: number) {\n    $event.stopPropagation();\n    this.collectionBuyerBanks.removeAt(i);\n  }\n  // end docx\n\n  addAgent($event) {\n    this.agents.push(this.newAgent());\n  }\n\n  get agents(): FormArray {\n    return this.addFormStep5.get('deal_commission_agents') as FormArray;\n  }\n\n  newAgent(): FormGroup {\n    return this.fb.group({\n      broker_id: ['', [Validators.required]],\n      name: ['', [Validators.required]],\n      first_surname: ['', [Validators.required]],\n      second_surname: ['', [Validators.required]],\n      fed_tax_payer_reg: ['']\n    });\n  }\n\n  onSelect(event) {\n    console.log(event);\n  }\n\n  getBothBroker(keyword: string) {\n    this.spinner.show();\n    const input = { keyword: '' };\n    input.keyword = keyword;\n    this.us.postDataApi('getBothBroker', input).subscribe(r => {\n      this.spinner.hide();\n      if (keyword === '') { this.linkExtBrokerModal.nativeElement.click(); }\n      this.allExtBrokers = r['data'];\n    }, error => {\n      this.spinner.hide();\n\n      this.toastr.clear();\n      this.toastr.error(error.error.message, this.translate.instant('swal.error'));\n\n      // swal(this.translate.instant('swal.error'), error.error.message, 'error');\n    });\n  }\n\n  setAgent(item) {\n    const ftpr = this.addFormStep5.get('deal_commission_agents').value;\n    const dca = [{\n      broker_id: item.id,\n      name: item.name,\n      fed_tax_payer_reg: ftpr.length > 0 ? ftpr[0].fed_tax_payer_reg : ''\n    }];\n    this.addFormStep5.controls.deal_commission_agents.patchValue(dca);\n    this.closeExtBrokerModal.nativeElement.click();\n  }\n\n  unsetAgent() {\n    delete this.addFormStep5.value['deal_commission_agents'];\n    delete this.addFormStep5.value['collection_agent_banks'];\n    delete this.addFormStep5.value.deal_commission_agents;\n    const s = this.addFormStep5.get('deal_commission_agents').value;\n    this.closeExtBrokerModal.nativeElement.click();\n  }\n\n  getAllSellers(keyword: string) {\n    this.spinner.show();\n    const input = { name: '', user_type: 0 };\n    input.name = keyword ? keyword : '';\n    if (this.tab == 2 && this.model.seller_type) {\n     input.user_type = this.model.seller_type;\n    }\n    if (this.tab == 3 && this.model.buyer_type) {\n     input.user_type = this.model.buyer_type;\n    }\n    this.us.postDataApi('getAllBuyers', input).subscribe(r => {\n      this.spinner.hide();\n      if (keyword === '') {\n        this.linkUserModal.nativeElement.click();\n      }\n      this.allUsers = r['data'];\n    }, error => {\n      this.spinner.hide();\n      this.toastr.clear();\n      this.toastr.error(error.error.message, this.translate.instant('swal.error'));\n    });\n  }\n\n  setSeller(item) {\n    if (this.tab == 2) {\n      // this.addFormStep2.reset();\n      // this.initFormStep2();\n      this.setValue('seller_type', this.model.seller_type);\n      this.addFormStep2.controls.seller_type.patchValue(this.model.seller_type);\n      this.model.seller_id = item.id;\n      this.model.seller = item;\n\n      // seller as a person\n      if (this.model.seller_type == '1') {\n        this.addFormStep2.controls.seller_id.patchValue(item.id);\n        this.addFormStep2.controls.seller_name.patchValue(item.name || '');\n        this.addFormStep2.controls.seller_email.patchValue(item.email || '');\n        this.addFormStep2.controls.seller_phone.patchValue(item.phone || '');\n      }\n\n      // seller as a legal entity\n      if (this.model.seller_type == '2') {\n        this.addFormStep2.controls.seller_legal_entity_id.patchValue(item.id);\n        this.addFormStep2.controls.seller_name.patchValue(item.comm_name);\n        this.addFormStep2.controls.seller_legal_name.patchValue(item.legal_name);\n        this.addFormStep2.controls.seller_fed_tax.patchValue(item.fed_tax_pay);\n        this.addFormStep2.controls.seller_phone.patchValue(item.phone);\n        this.addFormStep2.controls.seller_address.patchValue(item.address);\n        this.addFormStep2.controls.seller_leg_rep_name.patchValue(item.legal_reps ? item.legal_reps.name : '');\n        this.addFormStep2.controls.seller_leg_rep_phone.patchValue(item.legal_reps ? item.legal_reps.phone : '');\n        this.addFormStep2.controls.seller_leg_rep_email.patchValue(item.legal_reps ? item.legal_reps.email : '');\n        this.addFormStep2.controls.seller_leg_rep_comp.patchValue('');\n        this.addFormStep2.controls.seller_leg_rep_fed_tax.patchValue(item.legal_reps ? item.legal_reps.fed_tax_pay : '');\n        let control = new FormArray([]);\n        control = this.addFormStep2.get('collection_seller_banks') as FormArray;\n        if (item.legal_entity_banks) {\n          item.legal_entity_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control.push(this.fb.group(x));\n          });\n        }\n        let control1 = new FormArray([]);\n        control1 = this.addFormStep2.get('collection_seller_rep_banks') as FormArray;\n        if (item.legal_reps && item.legal_reps.legal_rep_banks) {\n          item.legal_reps.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control1.push(this.fb.group(x));\n          });\n        }\n      }\n\n      // seller as a developer\n      if (this.model.seller_type == '3') {\n        this.addFormStep2.controls.seller_id.patchValue(item.id);\n        this.addFormStep2.controls.seller_legal_name.patchValue(item.developer_company || '');\n        this.addFormStep2.controls.seller_name.patchValue(item.name || '');\n        this.addFormStep2.controls.seller_fed_tax.patchValue(item.fed_tax_pay ? item.fed_tax_pay : '');\n        this.addFormStep2.controls.seller_phone.patchValue(item.phone ? item.phone : '');\n        this.addFormStep2.controls.seller_address.patchValue(item.developer_address ? item.developer_address : '');\n        this.addFormStep2.controls.seller_leg_rep_name.patchValue(item.legal_representative ? item.legal_representative.name : '');\n        this.addFormStep2.controls.seller_leg_rep_phone.patchValue(item.legal_representative ? item.legal_representative.phone : '');\n        this.addFormStep2.controls.seller_leg_rep_email.patchValue(item.legal_representative ? item.legal_representative.email : '');\n        this.addFormStep2.controls.seller_leg_rep_fed_tax.patchValue(\n          item.legal_representative ? item.legal_representative.fed_tax_pay : '');\n        const control = this.addFormStep2.get('collection_seller_rep_banks') as FormArray;\n        if (item.legal_representative && item.legal_representative.legal_rep_banks) {\n          item.legal_representative.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control.push(this.fb.group(x));\n          });\n        }\n        const control1 = this.addFormStep2.get('collection_seller_banks') as FormArray;\n        if (item.legal_rep_banks) {\n          item.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control1.push(this.fb.group(x));\n          });\n        }\n      }\n    } else {\n      // this.addFormStep3.reset();\n      // this.initFormStep3();\n      this.setValue('buyer_type', this.model.buyer_type);\n      this.addFormStep3.controls.buyer_type.patchValue(this.model.buyer_type);\n      this.model.buyer_id = item.id;\n      this.model.buyer = item;\n      // buyer as a person\n      if (this.model.buyer_type == '1') {\n        this.addFormStep3.controls.buyer_id.patchValue(item.id);\n        this.addFormStep3.controls.buyer_name.patchValue(item.name || '');\n        this.addFormStep3.controls.buyer_email.patchValue(item.email || '');\n        this.addFormStep3.controls.buyer_phone.patchValue(item.phone || '');\n      }\n\n      // buyer as a legal entity\n      if (this.model.buyer_type == '2') {\n        this.addFormStep3.controls.buyer_legal_entity_id.patchValue(item.id);\n        this.addFormStep3.controls.buyer_name.patchValue(item.comm_name);\n        this.addFormStep3.controls.buyer_legal_name.patchValue(item.legal_name);\n        this.addFormStep3.controls.buyer_fed_tax.patchValue(item.fed_tax_pay);\n        this.addFormStep3.controls.buyer_phone.patchValue(item.phone);\n        this.addFormStep3.controls.buyer_address.patchValue(item.address);\n        this.addFormStep3.controls.buyer_leg_rep_name.patchValue(item.legal_reps ? item.legal_reps.name : '');\n        this.addFormStep3.controls.buyer_leg_rep_phone.patchValue(item.legal_reps ? item.legal_reps.phone : '');\n        this.addFormStep3.controls.buyer_leg_rep_email.patchValue(item.legal_reps ? item.legal_reps.email : '');\n        this.addFormStep3.controls.buyer_leg_rep_comp.patchValue('');\n        this.addFormStep3.controls.buyer_leg_rep_fed_tax.patchValue(item.legal_reps ? item.legal_reps.fed_tax_pay : '');\n        let control = new FormArray([]);\n        control = this.addFormStep3.get('collection_buyer_banks') as FormArray;\n        if (item.legal_entity_banks) {\n          item.legal_entity_banks.forEach(x => {\n            control.push(this.fb.group(x));\n          });\n        }\n        let control1 = new FormArray([]);\n        control1 = this.addFormStep3.get('collection_buyer_rep_banks') as FormArray;\n        if (item.legal_reps && item.legal_reps.legal_rep_banks) {\n          item.legal_reps.legal_rep_banks.forEach(x => {\n            control1.push(this.fb.group(x));\n          });\n        }\n      }\n\n      // buyer as a developer\n      if (this.model.buyer_type == '3') {\n        this.addFormStep3.controls.buyer_id.patchValue(item.id);\n        this.addFormStep3.controls.buyer_name.patchValue(item.name || '');\n        this.addFormStep3.controls.buyer_legal_name.patchValue(item.developer_company || '');\n        this.addFormStep3.controls.buyer_fed_tax.patchValue(item.fed_tax_pay || '');\n        this.addFormStep3.controls.buyer_phone.patchValue(item.phone || '');\n        this.addFormStep3.controls.buyer_address.patchValue(item.developer_address || '');\n        this.addFormStep3.controls.buyer_leg_rep_name.patchValue(item.legal_representative ? item.legal_representative.name : '');\n        this.addFormStep3.controls.buyer_leg_rep_phone.patchValue(item.legal_representative ? item.legal_representative.phone : '');\n        this.addFormStep3.controls.buyer_leg_rep_email.patchValue(item.legal_representative ? item.legal_representative.email : '');\n        this.addFormStep3.controls.buyer_leg_rep_fed_tax.patchValue(item.legal_representative ? item.legal_representative.fed_tax_pay : '');\n        const control = this.addFormStep3.get('collection_buyer_rep_banks') as FormArray;\n        if (item.legal_representative && item.legal_representative.legal_rep_banks) {\n          item.legal_representative.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control.push(this.fb.group(x));\n          });\n        }\n        const control1 = this.addFormStep3.get('collection_buyer_banks') as FormArray;\n        if (item.legal_rep_banks) {\n          item.legal_rep_banks.forEach(x => {\n            delete x.id;  // no need to send id ( cuz these are saving separtely in table)\n            control1.push(this.fb.group(x));\n          });\n        }\n      }\n    }\n    this.closeLinkUserModal.nativeElement.click();\n  }\n\n  unsetSeller(item) {\n    if (this.tab == 2) {\n      this.addFormStep2.reset();\n      this.model.seller_id = '';\n      this.model.seller = new Seller();\n    } else {\n      this.addFormStep3.reset();\n      this.model.buyer_id = '';\n      this.model.buyer = new Seller();\n    }\n    this.closeLinkUserModal.nativeElement.click();\n  }\n\n  getSozuAmount(percent: number) {\n    const price = this.addFormStep4.get('deal_price').value;\n    if (!price || price == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterPrice'), this.translate.instant('swal.error'));\n      return;\n    }\n    const amount = this.numberUptoNDecimal((percent * price) / 100, 2);\n    this.addFormStep5.controls['comm_total_commission_amount'].patchValue(amount);\n  }\n\n  getAgentAmount(percent: number) {\n    const price = this.addFormStep4.get('deal_price').value;\n    if (!price || price == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterPrice'), this.translate.instant('swal.error'));\n      return;\n    }\n    const amount = this.numberUptoNDecimal((percent * price) / 100, 2);\n    this.addFormStep5.controls['comm_shared_commission_amount'].patchValue(amount);\n  }\n\n  getIVAAmount(percent: number, key: string, key2: string) {\n    const price = this.addFormStep5.get(key).value;\n    if (!price || price == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterPrice'), this.translate.instant('swal.error'));\n      return;\n    }\n    const amount = this.numberUptoNDecimal((percent * price) / 100, 2);\n    this.addFormStep5.controls[key2].patchValue(amount);\n  }\n\n\n  getSozuIVAAmount(percent: number) {\n    const price = this.addFormStep4.get('comm_total_commission_amount').value;\n    if (!price || price == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterPrice'), this.translate.instant('swal.error'));\n      return;\n    }\n    const amount = this.numberUptoNDecimal((percent * price) / 100, 2);\n    this.addFormStep5.controls['sozu_iva_amt'].patchValue(amount);\n  }\n\n  getAgentIVAAmount(percent: number) {\n    const price = this.addFormStep4.get('comm_shared_commission_amount').value;\n    if (!price || price == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterPrice'), this.translate.instant('swal.error'));\n      return;\n    }\n    const amount = this.numberUptoNDecimal((percent * price) / 100, 2);\n    this.addFormStep5.controls['agent_iva_amt'].patchValue(amount);\n  }\n  getAmount(index: number) {\n    const price = this.addFormStep4.get('deal_price').value;\n    if (!price || price == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterPrice'), this.translate.instant('swal.error'));\n      return;\n    }\n    const pcArray: Array<any> = this.addFormStep4.get('payment_choices').value;\n    const percent = pcArray[index].percent;\n    const amount = this.numberUptoNDecimal((percent * price) / 100, 2);\n    pcArray[index].amount = amount;\n    // this.addFormStep4.controls['payment_choices'].patchValue(pcArray);\n    this.addFormStep4.controls.payment_choices['controls'][index]['controls'].amount.patchValue(amount);\n\n    // calculating sum of all payment concepts\n    const sum_of_concepts = pcArray.reduce(function (a, v) {\n      return a + parseFloat(v['amount']);\n    }, 0);\n    this.addFormStep4.controls['sum_of_concepts'].patchValue(this.numberUptoNDecimal(sum_of_concepts, 2));\n  }\n\n  getPercentage(index: number) {\n    const price = this.addFormStep4.get('deal_price').value;\n    if (!price || price == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterPrice'), this.translate.instant('swal.error'));\n      return;\n    }\n    const pcArray: Array<any> = this.addFormStep4.get('payment_choices').value;\n    const amount: any = this.numberUptoNDecimal(pcArray[index].amount, 2);\n    const percent: any = this.numberUptoNDecimal((amount * 100) / price, 2);\n    pcArray[index].amount = amount;\n    this.addFormStep4.controls.payment_choices['controls'][index]['controls'].percent.patchValue(percent);\n\n    // calculating sum of all payment concepts\n    const sum_of_concepts = pcArray.reduce(function (a, v) {\n      return a + parseFloat(v['amount']);\n    }, 0);\n    this.addFormStep4.controls['sum_of_concepts'].patchValue(this.numberUptoNDecimal(sum_of_concepts, 2));\n  }\n\n  setCollectionComm(add_collection_commission: any, index: number) {\n    const pcArray: Array<any> = this.addFormStep5.get('collection_commissions').value;\n    const installOne = pcArray.find(r => r.name.includes('Monthly Installment'));\n    // if first monthly installment percent added, => update amount in all monthly installments\n    if (installOne && (installOne.name == pcArray[index].name)) {\n      const sta = add_collection_commission;\n      for (let i = 0; i < pcArray.length; i++) {\n        const e = pcArray[i];\n        if (e.name.includes('Monthly Installment')) {\n          e.add_collection_commission = sta;\n          installOne.add_collection_commission = sta;\n        }\n      }\n    }\n    this.addFormStep5.controls['collection_commissions'].patchValue(pcArray);\n  }\n\n  getCollAmount(percent: number, index: number, payment_amount: number) {\n    const amount = this.numberUptoNDecimal((percent * payment_amount) / 100, 2);\n    const pcArray: Array<any> = this.addFormStep5.get('collection_commissions').value;\n    pcArray[index].amount = amount;\n    // const installOne = pcArray.find(r => r.pc_id == 5);\n    const installOne = pcArray.find(r => r.name.includes('Monthly Installment'));\n    // if first monthly installment percent added, => update amount in all monthly installments\n    this.ccsum = 0;\n    this.pcsum = 0;\n    if (installOne && (installOne.name === pcArray[index].name)) {\n      pcArray.map(e => {\n        // if (e.pc_id == 5) {\n        if (e.name.includes('Monthly Installment')) {\n          e.amount = amount;\n          e.percent = percent;\n        }\n      });\n    }\n    pcArray.map(e => {\n      this.ccsum = parseFloat(this.ccsum) + e.add_collection_commission ? parseFloat(e.amount) : 0.00;\n      this.pcsum = parseFloat(this.pcsum) + e.add_purchase_commission ? parseFloat(e.purchase_comm_amount) : 0.00;\n      this.acsum = parseFloat(this.acsum) + e.add_agent_commission ? parseFloat(e.agent_comm_amount) : 0.00;\n    });\n    this.addFormStep5.controls['collection_commissions'].patchValue(pcArray);\n  }\n\n  getCollPercentage(amount: number, index: number, payment_amount: number) {\n    const pcArray = this.addFormStep5.get('collection_commissions').value;\n    const percent = this.numberUptoNDecimal((amount * 100) / payment_amount, 2);\n    pcArray[index].percent = percent;\n    // const installOne = pcArray.find(r => r.pc_id == 5);\n    const installOne = pcArray.find(r => r.name.includes('Monthly Installment'));\n    // if first monthly installment percent added, => update amount in all monthly installments\n    this.ccsum = 0;\n    this.pcsum = 0;\n    if (installOne && (installOne.name === pcArray[index].name)) {\n      pcArray.map(e => {\n        // if (e.pc_id == 5) {\n        if (e.name.includes('Monthly Installment')) {\n          e.amount = amount;\n          e.percent = percent;\n        }\n      });\n    }\n    pcArray.map(e => {\n      this.ccsum = parseFloat(this.ccsum) + e.add_collection_commission ? parseFloat(e.amount) : 0.00;\n      this.pcsum = parseFloat(this.pcsum) + e.add_purchase_commission ? parseFloat(e.purchase_comm_amount) : 0.00;\n      this.acsum = parseFloat(this.acsum) + e.add_agent_commission ? parseFloat(e.agent_comm_amount) : 0.00;\n    });\n    this.addFormStep5.controls['collection_commissions'].patchValue(pcArray);\n  }\n\n  setPurchaseComm(add_purchase_commission: any, index: number) {\n    const pcArray: Array<any> = this.addFormStep5.get('collection_commissions').value;\n    const installOne = pcArray.find(r => r.name.includes('Monthly Installment'));\n    this.ccsum = 0;\n    this.pcsum = 0;\n    // if first monthly installment percent added, => update amount in all monthly installments\n    if (installOne && (installOne.name === pcArray[index].name)) {\n      const sta = add_purchase_commission;\n      for (let index1 = 0; index1 < pcArray.length; index1++) {\n        const e = pcArray[index1];\n        if (e.name.includes('Monthly Installment')) {\n          e.add_purchase_commission = sta;\n          installOne.add_purchase_commission = sta;\n        }\n      }\n    }\n    pcArray.map(e => {\n      this.ccsum = parseFloat(this.ccsum) + e.add_collection_commission ? parseFloat(e.amount) : 0.00;\n      this.pcsum = parseFloat(this.pcsum) + e.add_purchase_commission ? parseFloat(e.purchase_comm_amount) : 0.00;\n      this.acsum = parseFloat(this.acsum) + e.add_agent_commission ? parseFloat(e.agent_comm_amount) : 0.00;\n    });\n    this.addFormStep5.controls['collection_commissions'].patchValue(pcArray);\n  }\n\n  getPurcAmount(amount: number, index: number) {\n    const pcArray: Array<any> = this.addFormStep5.get('collection_commissions').value;\n    pcArray[index].purchase_comm_amount = amount;\n    this.ccsum = 0;\n    this.pcsum = 0;\n    pcArray.map(e => {\n      this.ccsum = parseFloat(this.ccsum) + e.add_collection_commission ? parseFloat(e.amount) : 0.00;\n      this.pcsum = parseFloat(this.pcsum) + e.add_purchase_commission ? parseFloat(e.purchase_comm_amount) : 0.00;\n      this.acsum = parseFloat(this.acsum) + e.add_agent_commission ? parseFloat(e.agent_comm_amount) : 0.00;\n    });\n    this.addFormStep5.controls['collection_commissions'].patchValue(pcArray);\n  }\n\n  getAgentCommAmount(amount: number, index: number) {\n    const pcArray: Array<any> = this.addFormStep5.get('collection_commissions').value;\n    pcArray[index].agent_comm_amount = amount;\n    this.ccsum = 0;\n    this.pcsum = 0;\n    pcArray.map(e => {\n      this.ccsum = parseFloat(this.ccsum) + e.add_collection_commission ? parseFloat(e.amount) : 0.00;\n      this.pcsum = parseFloat(this.pcsum) + e.add_purchase_commission ? parseFloat(e.purchase_comm_amount) : 0.00;\n      this.acsum = parseFloat(this.acsum) + e.add_agent_commission ? parseFloat(e.agent_comm_amount) : 0.00;\n    });\n    this.addFormStep5.controls['collection_commissions'].patchValue(pcArray);\n  }\n\n  getMonthlyPerAndAmount() {\n    const price = this.addFormStep4.get('deal_price').value;\n    const numOfInstallments = this.addFormStep4.get('deal_monthly_payment').value;\n    const monthlyAmount = Math.round(price / numOfInstallments);\n    // const monthlyAmount: any = this.currencyPipe.transform(price / numOfInstallments);\n    const percent = this.numberUptoNDecimal((monthlyAmount * 100) / price, 2);\n    this.addFormStep4.controls['deal_monthly_amount'].patchValue(monthlyAmount);\n    this.addFormStep4.controls['deal_monthly_percentage'].patchValue(percent);\n  }\n\n  createCollection(formdata: NgForm, tab: number) {\n    let callApi = true;\n    this.model.step = tab;\n    formdata['step'] = tab;\n    if (this.model.id) {\n      formdata['id'] = this.model.id;\n    }\n    if (this.model.step == 1) {\n      if (formdata['property_id']) {\n        const pid = formdata['property_id'].id;\n        formdata['property_id'] = pid;\n      }\n      if (this.model.building_id) {\n        formdata['building_id'] = this.model.building_id;\n      }\n      formdata['for_sale'] = this.availabilityStatus[0].checked ? 1 : 0;\n      formdata['for_rent'] = this.availabilityStatus[1].checked ? 1 : 0;\n      formdata['building_configuration_id'] = this.model.building_configuration_id;\n\n      this.addFormStep1.controls.step.patchValue(this.model.step);\n      this.addFormStep1.controls.building_id.patchValue(formdata['building_id']);\n      this.addFormStep1.controls.property_id.patchValue(formdata['property_id']);\n      this.addFormStep1.controls.building_configuration_id.patchValue(formdata['building_configuration_id']);\n      this.addFormStep1.controls.for_rent.patchValue(formdata['for_rent']);\n      this.addFormStep1.controls.for_rent.patchValue(formdata['for_rent']);\n      if (this.addFormStep1.valid) {\n        if (!formdata['building_id']) {\n          this.toastr.clear();\n          this.toastr.error(this.translate.instant('message.error.pleaseSelectBuilding'), this.translate.instant('swal.error'));\n          return;\n        } else if (!formdata['building_towers_id']) {\n          this.toastr.clear();\n          this.toastr.error(this.translate.instant('message.error.pleaseSelectFloor'), this.translate.instant('swal.error'));\n          return;\n        } else if (!formdata['floor_num']) {\n          this.toastr.clear();\n          this.toastr.error(this.translate.instant('message.error.pleaseChooseFloor'), this.translate.instant('swal.error'));\n          return;\n        } else if (!formdata['property_id']) {\n          this.toastr.clear();\n          this.toastr.error(this.translate.instant('message.error.pleaseChooseApartment'), this.translate.instant('swal.error'));\n          return;\n        } else if (!formdata['building_configuration_id']) {\n          this.toastr.clear();\n          this.toastr.error(this.translate.instant('message.error.pleaseChooseApartment'), this.translate.instant('swal.error'));\n          return;\n        }\n      } else {\n        this.showError = true;\n        return false;\n      }\n    }\n\n    if (this.model.step == 2) {\n      formdata['seller_type'] = this.model.seller_type;\n      this.addFormStep2.controls.seller_type.patchValue(this.model.seller_type);\n      this.addFormStep2.controls.step.patchValue(this.model.step);\n       if (this.addFormStep2.valid) {\n        if (this.model.seller_type == '1' || this.model.seller_type == '3') {\n          if (!formdata['seller_id']) {\n            this.toastr.error(this.translate.instant('message.error.pleaseChooseSeller'), this.translate.instant('swal.error'));\n            return;\n          }\n        }\n\n        if (this.model.seller_type != '1') {\n          if (!formdata['seller_leg_rep_name'] || !formdata['seller_leg_rep_phone'] ||\n          !formdata['seller_leg_rep_email'] || !formdata['seller_leg_rep_fed_tax']) {\n            this.toastr.error(this.translate.instant('message.error.pleaseFillLegalRepInfo'), this.translate.instant('swal.error'));\n            return;\n          }\n        }\n       } else {\n        this.showError = true;\n        return;\n       }\n    }\n\n    if (this.model.step == 3) {\n      formdata['buyer_type'] = this.model.buyer_type;\n      this.addFormStep3.controls.buyer_type.patchValue(this.model.buyer_type);\n      this.addFormStep3.controls.step.patchValue(this.model.step);\n      // formdata['buyer_type'] = this.model.buyer_type;\n       if (this.addFormStep3.valid) {\n        if (this.model.buyer_type == '1' || this.model.buyer_type == '3') {\n          if (!formdata['buyer_id']) {\n            this.toastr.error(this.translate.instant('message.error.pleaseChooseBuyer'), this.translate.instant('swal.error'));\n            return;\n          }\n        }\n        if (this.model.buyer_type != '1') {\n          if (!formdata['buyer_leg_rep_name'] || !formdata['buyer_leg_rep_phone'] ||\n          !formdata['buyer_leg_rep_email'] || !formdata['buyer_leg_rep_fed_tax']) {\n            this.toastr.error(this.translate.instant('message.error.pleaseFillLegalRepInfo'), this.translate.instant('swal.error'));\n            return;\n          }\n        }\n       } else {\n        this.showError = true;\n        return;\n       }\n    }\n\n    if (this.model.step == 4) {\n      this.addFormStep4.controls.step.patchValue(this.model.step);\n      delete this.addFormStep4.value.paymentchoice;\n      if (this.addFormStep4.valid) {\n\n        if (this.addFormStep4.controls.payment_choices.value && this.addFormStep4.controls.payment_choices.value.length < 1) {\n          this.toastr.error(this.translate.instant('message.error.pleaseChoosePayments'), this.translate.instant('swal.error'));\n          return;\n        }\n\n        // converting to local\n        const d = formdata['deal_purchase_date'];\n        // const nd = moment(d).add(330, 'minutes').toDate();\n        formdata['deal_purchase_date'] = moment(d).format('YYYY-MM-DD');\n        let paymentSum: any = 0;\n        let i = 0;\n        for (let index = 0; index < formdata['payment_choices'].length; index++) {\n          const element = formdata['payment_choices'][index];\n\n          if (!element.name || !element.amount || !element.date || !element.percent) {\n            i = i + 1;\n            const text = element.name ?\n                          this.translate.instant('message.error.pleaseFillAllDetailsFor') + element.name :\n                          this.translate.instant('message.error.pleaseFillAllDetailsFor');\n            this.toastr.clear();\n            this.toastr.error(text, this.translate.instant('swal.error'));\n            return;\n          }\n          // element.date = moment(moment.utc(element.date).toDate()).local().toDate();\n          element.date = moment(element.date).format('YYYY-MM-DD');\n\n          // element.date = moment(element.date).add(330, 'minutes').toDate();\n          paymentSum = parseFloat(paymentSum) + parseFloat(element.amount || 0);\n        }\n        // check if total sum of monthly installments is equal or greater than property price\n        paymentSum = paymentSum.toFixed(2);\n        const diff = formdata['deal_price'] - paymentSum;\n        const currency_id = this.addFormStep4.get('currency_id').value;\n        if ((diff >= 5 && currency_id == 78) || (diff >= 0.5 && currency_id == 124)) {\n          callApi = false;\n          const text = this.translate.instant('message.error.priceIsNotEqualToPaymentConceptPrice') + '<br>';\n          // this.translate.instant('message.error.priceIs') + formdata['deal_price'] + '<br>' +\n          // this.translate.instant('message.error.sumOfPaymentConceptIs') + paymentSum;\n          swal({\n            html: this.translate.instant('message.error.areYouSure') + '<br>' + text,\n            type: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: this.constant.confirmButtonColor,\n            cancelButtonColor: this.constant.cancelButtonColor,\n            confirmButtonText: 'Yes'\n          }).then((result) => {\n            if (result.value) {\n              // continue;\n              this.callCollectionView(formdata, tab);\n            } else {\n              return;\n            }\n          });\n          // return;\n        }\n      } else {\n        this.showError = true;\n        return false;\n      }\n    }\n\n    if (this.model.step == 5) {\n      this.addFormStep5.controls.step.patchValue(this.model.step);\n      if (this.addFormStep5.valid) {\n        if (!formdata['deal_commission_agents']) {\n          this.toastr.clear();\n          this.toastr.error(this.translate.instant('message.error.pleaseEnterAgent'), this.translate.instant('swal.error'));\n          return;\n        } else if (formdata['deal_commission_agents'] || formdata['deal_commission_agents'].length > 0) {\n          let i = 0;\n          // formdata['deal_commission_agents'] = formdata['deal_commission_agents'].reverse();\n          for (let index = 0; index < formdata['deal_commission_agents'].length; index++) {\n            const element = formdata['deal_commission_agents'][index];\n            if (!element.name || !element.fed_tax_payer_reg) {\n              i = i + 1;\n              if (!element.name) {\n                this.toastr.clear();\n                this.toastr.error(this.translate.instant('message.error.pleaseEnterAgent'), this.translate.instant('swal.error'));\n                return;\n              }\n            }\n          }\n          // formdata['deal_commission_agents'] = formdata['deal_commission_agents'].splice(0, 1);\n        }\n        // if (this.pcsum != formdata['comm_total_commission_amount']) {\n        //   this.toastr.clear();\n        //   this.toastr.error(this.translate.instant('message.error.pcAmountIsNotEualToSozuCommission'), this.translate.instant('swal.error'));\n        //   return;\n        // }\n        console.log(formdata['deal_commission_agents'])\n        const collection_commissions = formdata['collection_commissions'];\n        delete formdata['collection_commissions'];\n        collection_commissions.forEach(element => {\n          element.add_collection_commission = element.add_collection_commission ? 1 : 0;\n          element.add_purchase_commission = element.add_purchase_commission ? 1 : 0;\n          element.add_agent_commission = element.add_agent_commission ? 1 : 0;\n          element.percent = element.percent || 0;\n          element.amount = element.amount || 0;\n          element.purchase_comm_amount = element.purchase_comm_amount || 0;\n          element.agent_comm_amount = element.agent_comm_amount || 0;\n        });\n        formdata['collection_commissions'] = collection_commissions;\n        formdata['is_commission_sale_enabled'] = formdata['is_commission_sale_enabled'] ? 1 : 0;\n        formdata['add_iva_to_cc'] = formdata['add_iva_to_cc'] ? 1 : 0;\n        formdata['add_iva_to_pc'] = formdata['add_iva_to_pc'] ? 1 : 0;\n        formdata['add_iva_to_ac'] = formdata['add_iva_to_ac'] ? 1 : 0;\n        formdata['payment_received_by'] = formdata['payment_received_by'];\n      } else {\n        this.showError = true;\n        return false;\n      }\n    }\n\n    if (callApi) {\n      this.spinner.show();\n      this.us.postDataApi('addCollection', formdata)\n        .subscribe(\n          success => {\n            this.tab = tab + 1;\n            this.spinner.hide();\n            this.showError = false;\n            this.model.id = success['data'].id;\n            // if (tab != 6) { \n            //   if (tab == 4) {\n            //     this.selectedPaymentChoice.nativeElement.value = '';\n            //   }\n            //   this.editCollection();\n            // }\n            if (tab == 1 || tab == 2) {\n              this.initFormStep2();\n              this.patchFormStep2(success['data'], 'add');\n            // }\n            // if (tab == 2) {\n              this.initFormStep3();\n              this.patchFormStep3(success['data']);\n            }\n            if (tab == 4) {\n              this.initFormStep4();\n              this.patchFormStep4(success['data']);\n\n              this.initFormStep5();\n              if (this.selectedPaymentChoice) {\n                this.selectedPaymentChoice.nativeElement.value = '';\n              }\n              this.patchFormStep5(success['data']);\n            }\n            if (tab == 6) {\n              this.router.navigate(['/dashboard/collections/view-collections']);\n              // swal({\n              //   html: this.translate.instant('message.success.submittedSccessfully'), type: 'success'\n              // });\n            }\n            // this.parameter.property_id = success['data'].id;\n          }, error => {\n            this.spinner.hide();\n          }\n        );\n    }\n  }\n\n  callCollectionView(formdata, tab) {\n    this.spinner.show();\n    this.us.postDataApi('addCollection', formdata)\n      .subscribe(\n        success => {\n          this.tab = tab + 1;\n          this.spinner.hide();\n          this.showError = false;\n          this.model.id = success['data'].id;\n          if (tab == 4) {\n            this.initFormStep4();\n            this.patchFormStep4(success['data']);\n\n            this.initFormStep5();\n            this.selectedPaymentChoice.nativeElement.value = '';\n            this.patchFormStep5(success['data']);\n          }\n          // this.parameter.property_id = success['data'].id;\n        }, error => {\n          this.spinner.hide();\n        });\n  }\n\n  numberUptoTwoDecimal(num: any) {\n    return num ? num.toFixed(2) : 0;\n  }\n\n  numberUptoNDecimal(num: any, n: number) {\n    return num ? num.toFixed(n) : 0;\n  }\n\n  getDateWRTTimezone(date: any) {\n    const offset = new Date(date).getTimezoneOffset();\n    if (offset < 0) {\n      return moment(date).subtract(offset, 'minutes').toDate();\n    } else {\n      return moment(date).add(offset, 'minutes').toDate();\n    }\n  }\n\n  editDocsPopup(item: any, folderIndex: number, docIndex: number){\n    this.modelForDoc.name_en = item.name;\n    this.modelForDoc.id = item.id;\n    this.folderId = item.collection_folder_id;\n    this.oldDocName = item.name;\n    this.localityOpen.nativeElement.click();\n  }\n\n  checkIfLocalitySpanishNameEntered(document) {\n    const self = this;\n    if (document.name === '') {\n      swal({\n        text: this.translate.instant('message.error.saveName'),\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: this.constant.confirmButtonColor,\n        cancelButtonColor: this.constant.cancelButtonColor,\n        confirmButtonText: 'Yes'\n      }).then((result) => {\n        if (result.value) {\n          this.editDocument(document);\n        }\n      });\n    } else {\n      self.editDocument(document);\n    }\n  } \n\n  closeEditModal() {\n    this.localityClose.nativeElement.click();\n  }\n\n  editDocument(document){\n    let self = this;\n    this.spinner.show();\n    let param = {\n      id:this.modelForDoc.id,\n      name:this.modelForDoc.name_en\n    }\n    if(!this.modelForDoc.id){\n      this.docs.filter(doc =>{\n        if(doc.name == this.oldDocName){\n          doc.name = self.modelForDoc.name_en;\n        }\n      });\n      self.spinner.hide();\n      self.closeEditModal();\n    }\n    else{\n    this.us.postDataApi('updateDocFolderName', param).subscribe(\n      r => {\n        self.spinner.hide();\n        self.collectionFolders.filter(folder =>{\n          if(folder.id == self.folderId){\n          folder.folder_docs.filter(doc =>{\n            if(doc.id == self.modelForDoc.id){\n            doc.name = self.modelForDoc.name_en;\n          }\n        });\n      }\n        });\n        self.closeEditModal();\n      }, error => {\n        self.spinner.hide();\n      });\n  }\n}\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9jb2xsZWN0aW9ucy9hbmFseXRpY3MvYW5hbHl0aWNzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<p>\\n  analytics works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-analytics',\n  templateUrl: './analytics.component.html',\n  styleUrls: ['./analytics.component.css']\n})\nexport class AnalyticsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"textarea{\\n    resize: none;\\n}\\n.addCollComm{\\n    cursor: pointer;\\n}\\n/* freeze first col and row */\\n.main-table{\\n  height: 700px;\\n}\\ntable.table-striped.quick-table th, table.table-striped.quick-table td {\\n    width: 190px;\\n  }\\ntable.table-striped.quick-table {\\n    table-layout: fixed;\\n    width:100%;\\n  }\\ntable.table-striped.quick-table td:nth-child(1), table.table-striped.quick-table th:nth-child(1),\\n  table.table-striped.quick-table thead tr th \\n  {\\n    position:-webkit-sticky;\\n    position:sticky;\\n    left:0;\\n    top: 0;\\n    z-index:1;\\n    background-color: #00B96F;\\n    color: #fff;\\n  }\\ntable.table-striped.quick-table th:first-child {\\n    z-index:2;\\n  }\\n/* freeze first col and row */\\ntable.table-striped.edit-table td:first-child, table.table-striped.edit-table th:first-child{\\n    background-color: #00B96F;\\n    color: #fff;\\n  }\\n.red-color{\\n    color: red;\\n  }\\n.top-container {\\n  background-color: #f1f1f1;\\n  padding: 30px;\\n  text-align: center;\\n}\\n.header {\\n  padding: 10px 16px;\\n  background: #555;\\n  color: #f1f1f1;\\n}\\n.content {\\n  padding: 16px;\\n}\\n.sticky {\\n  position: fixed;\\n  top: 0;\\n  width: 100%;\\n}\\n.sticky + .content {\\n  padding-top: 102px;\\n}\\n.status {\\n  height: 20px;\\n  width: 40px;\\n}\\n.green {\\n  background-color: green;\\n}\\n.yellow {\\n  background-color: yellow;\\n}\\n.red {\\n  background-color: red;\\n}\\n.grey {\\n  background-color: grey;\\n}\\n.blue {\\n  background-color: blue;\\n}\\n.purple {\\n  background-color: purple;\\n}\\n.orange {\\n  background-color: pink;\\n}\\n.highlight{\\n  background: #dad5d5;\\n}\\n.table-search:focus-within label {\\n  color: #434B52;\\n}\\n.table.table-striped.folder-table tr td, .table.table-striped.folder-table tr th {\\n  text-align: left;\\n  padding-left: 10px;\\n}\\n.color-changed{\\n  color: #222;\\n}\\n.table.table-striped.folder-table tr td a img{\\n  padding-right: 10px;\\n}\\n.write-note {\\n  max-height: none;\\n}\\n.checkbox_size{\\n  width: 25px;\\n  height: 25px;\\n}\\n.edit{\\n  padding-right: 60px !important;\\n  color: rgba(0,0,0,0.5);\\n  font-size: 11px;\\n  position: absolute;\\n  right: -20px;\\n  top: 0;\\n}\\n.model-body10P{\\n  padding: 10px !important;\\n}\\n.my-modal-header{\\n  display: inline;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2NvbGxlY3Rpb25zL2NvbGxlY3Rpb25zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0NBQ2hCO0FBQ0Q7SUFDSSxnQkFBZ0I7Q0FDbkI7QUFHRCw4QkFBOEI7QUFDOUI7RUFDRSxjQUFjO0NBQ2Y7QUFDQztJQUNFLGFBQWE7R0FDZDtBQUNEO0lBQ0Usb0JBQW9CO0lBQ3BCLFdBQVc7R0FDWjtBQUNEOzs7SUFHRSx3QkFBZ0I7SUFBaEIsZ0JBQWdCO0lBQ2hCLE9BQU87SUFDUCxPQUFPO0lBQ1AsVUFBVTtJQUNWLDBCQUEwQjtJQUMxQixZQUFZO0dBQ2I7QUFDRDtJQUNFLFVBQVU7R0FDWDtBQUNELDhCQUE4QjtBQUM5QjtJQUNFLDBCQUEwQjtJQUMxQixZQUFZO0dBQ2I7QUFPRDtJQUNFLFdBQVc7R0FDWjtBQUNIO0VBQ0UsMEJBQTBCO0VBQzFCLGNBQWM7RUFDZCxtQkFBbUI7Q0FDcEI7QUFFRDtFQUNFLG1CQUFtQjtFQUNuQixpQkFBaUI7RUFDakIsZUFBZTtDQUNoQjtBQUVEO0VBQ0UsY0FBYztDQUNmO0FBRUQ7RUFDRSxnQkFBZ0I7RUFDaEIsT0FBTztFQUNQLFlBQVk7Q0FDYjtBQUVEO0VBQ0UsbUJBQW1CO0NBQ3BCO0FBRUQ7RUFDRSxhQUFhO0VBQ2IsWUFBWTtDQUNiO0FBRUQ7RUFDRSx3QkFBd0I7Q0FDekI7QUFDRDtFQUNFLHlCQUF5QjtDQUMxQjtBQUNEO0VBQ0Usc0JBQXNCO0NBQ3ZCO0FBQ0Q7RUFDRSx1QkFBdUI7Q0FDeEI7QUFDRDtFQUNFLHVCQUF1QjtDQUN4QjtBQUNEO0VBQ0UseUJBQXlCO0NBQzFCO0FBQ0Q7RUFDRSx1QkFBdUI7Q0FDeEI7QUFDRDtFQUNFLG9CQUFvQjtDQUNyQjtBQUNEO0VBQ0UsZUFBZTtDQUNoQjtBQUNEO0VBQ0UsaUJBQWlCO0VBQ2pCLG1CQUFtQjtDQUNwQjtBQUNEO0VBQ0UsWUFBWTtDQUNiO0FBQ0Q7RUFDRSxvQkFBb0I7Q0FDckI7QUFDRDtFQUNFLGlCQUFpQjtDQUNsQjtBQUVEO0VBQ0UsWUFBWTtFQUNaLGFBQWE7Q0FDZDtBQUVEO0VBQ0UsK0JBQStCO0VBQy9CLHVCQUF1QjtFQUN2QixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixPQUFPO0NBQ1I7QUFFRDtFQUNFLHlCQUF5QjtDQUMxQjtBQUNEO0VBQ0UsZ0JBQWdCO0NBQ2pCIiwiZmlsZSI6InNyYy9hcHAvbGF5b3V0L2NvbGxlY3Rpb25zL2NvbGxlY3Rpb25zLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0ZXh0YXJlYXtcbiAgICByZXNpemU6IG5vbmU7XG59XG4uYWRkQ29sbENvbW17XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG5cbi8qIGZyZWV6ZSBmaXJzdCBjb2wgYW5kIHJvdyAqL1xuLm1haW4tdGFibGV7XG4gIGhlaWdodDogNzAwcHg7XG59XG4gIHRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGgsIHRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGQge1xuICAgIHdpZHRoOiAxOTBweDtcbiAgfVxuICB0YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHtcbiAgICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xuICAgIHdpZHRoOjEwMCU7XG4gIH1cbiAgdGFibGUudGFibGUtc3RyaXBlZC5xdWljay10YWJsZSB0ZDpudGgtY2hpbGQoMSksIHRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGg6bnRoLWNoaWxkKDEpLFxuICB0YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHRoZWFkIHRyIHRoIFxuICB7XG4gICAgcG9zaXRpb246c3RpY2t5O1xuICAgIGxlZnQ6MDtcbiAgICB0b3A6IDA7XG4gICAgei1pbmRleDoxO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMEI5NkY7XG4gICAgY29sb3I6ICNmZmY7XG4gIH1cbiAgdGFibGUudGFibGUtc3RyaXBlZC5xdWljay10YWJsZSB0aDpmaXJzdC1jaGlsZCB7XG4gICAgei1pbmRleDoyO1xuICB9XG4gIC8qIGZyZWV6ZSBmaXJzdCBjb2wgYW5kIHJvdyAqL1xuICB0YWJsZS50YWJsZS1zdHJpcGVkLmVkaXQtdGFibGUgdGQ6Zmlyc3QtY2hpbGQsIHRhYmxlLnRhYmxlLXN0cmlwZWQuZWRpdC10YWJsZSB0aDpmaXJzdC1jaGlsZHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBCOTZGO1xuICAgIGNvbG9yOiAjZmZmO1xuICB9XG5cblxuXG5cblxuICBcbiAgLnJlZC1jb2xvcntcbiAgICBjb2xvcjogcmVkO1xuICB9XG4udG9wLWNvbnRhaW5lciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XG4gIHBhZGRpbmc6IDMwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmhlYWRlciB7XG4gIHBhZGRpbmc6IDEwcHggMTZweDtcbiAgYmFja2dyb3VuZDogIzU1NTtcbiAgY29sb3I6ICNmMWYxZjE7XG59XG5cbi5jb250ZW50IHtcbiAgcGFkZGluZzogMTZweDtcbn1cblxuLnN0aWNreSB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnN0aWNreSArIC5jb250ZW50IHtcbiAgcGFkZGluZy10b3A6IDEwMnB4O1xufVxuXG4uc3RhdHVzIHtcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogNDBweDtcbn1cblxuLmdyZWVuIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG59XG4ueWVsbG93IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93O1xufVxuLnJlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1cbi5ncmV5IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JleTtcbn1cbi5ibHVlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcbn1cbi5wdXJwbGUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBwdXJwbGU7XG59XG4ub3JhbmdlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcGluaztcbn1cbi5oaWdobGlnaHR7XG4gIGJhY2tncm91bmQ6ICNkYWQ1ZDU7XG59XG4udGFibGUtc2VhcmNoOmZvY3VzLXdpdGhpbiBsYWJlbCB7XG4gIGNvbG9yOiAjNDM0QjUyO1xufVxuLnRhYmxlLnRhYmxlLXN0cmlwZWQuZm9sZGVyLXRhYmxlIHRyIHRkLCAudGFibGUudGFibGUtc3RyaXBlZC5mb2xkZXItdGFibGUgdHIgdGgge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG59XG4uY29sb3ItY2hhbmdlZHtcbiAgY29sb3I6ICMyMjI7XG59XG4udGFibGUudGFibGUtc3RyaXBlZC5mb2xkZXItdGFibGUgdHIgdGQgYSBpbWd7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG59XG4ud3JpdGUtbm90ZSB7XG4gIG1heC1oZWlnaHQ6IG5vbmU7XG59XG5cbi5jaGVja2JveF9zaXple1xuICB3aWR0aDogMjVweDtcbiAgaGVpZ2h0OiAyNXB4O1xufVxuXG4uZWRpdHtcbiAgcGFkZGluZy1yaWdodDogNjBweCAhaW1wb3J0YW50O1xuICBjb2xvcjogcmdiYSgwLDAsMCwwLjUpO1xuICBmb250LXNpemU6IDExcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IC0yMHB4O1xuICB0b3A6IDA7XG59XG5cbi5tb2RlbC1ib2R5MTBQe1xuICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG59XG4ubXktbW9kYWwtaGVhZGVye1xuICBkaXNwbGF5OiBpbmxpbmU7XG59Il19 */\"","module.exports = \"<div class=\\\"container-fluid \\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\">\\n      <div class=\\\"form-group\\\">\\n        <p class=\\\"p16\\\">{{'viewCollections.label' | translate}}</p>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"offset-md-4\\\"></div>\\n    <div class=\\\"col-md-8 col-12\\\">\\n      <div class=\\\"cust-tabs-2\\\">\\n        <ul class=\\\"nav nav-tabs float-right\\\">\\n          <li class=\\\"nav-item\\\">\\n            <a [ngClass]=\\\"{'active':parameter.dash_flag == 1}\\\" (click)=\\\"changeFlag(1)\\\" class=\\\"nav-link\\\"\\n              data-toggle=\\\"tab\\\" href=\\\"#tw\\\">{{'filters.time.thisWeek' | translate}}</a>\\n          </li>\\n          <li class=\\\"nav-item\\\">\\n            <a [ngClass]=\\\"{'active':parameter.dash_flag == 2}\\\" (click)=\\\"changeFlag(2)\\\" class=\\\"nav-link\\\"\\n              data-toggle=\\\"tab\\\" href=\\\"#tm\\\">{{'filters.time.thisMonth' | translate}}</a>\\n          </li>\\n          <li class=\\\"nav-item\\\">\\n            <a [ngClass]=\\\"{'active':parameter.dash_flag == 3}\\\" (click)=\\\"changeFlag(3)\\\" class=\\\"nav-link\\\"\\n              data-toggle=\\\"tab\\\" href=\\\"#lm\\\">{{'filters.time.lastMonth' | translate}}</a>\\n          </li>\\n          <li class=\\\"nav-item\\\">\\n            <a [ngClass]=\\\"{'active':parameter.dash_flag == 4}\\\" (click)=\\\"changeFlag(4)\\\" class=\\\"nav-link\\\"\\n              data-toggle=\\\"tab\\\" href=\\\"#lt\\\">{{'filters.time.lifetime' | translate}}</a>\\n          </li>\\n          <li class=\\\"nav-item\\\">\\n            <a [ngClass]=\\\"{'active':parameter.dash_flag == 5}\\\" (click)=\\\"changeFlag(5)\\\" class=\\\"nav-link\\\"\\n              data-toggle=\\\"tab\\\" href=\\\"#cust\\\">{{'filters.time.custom.label' | translate}}</a>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-12\\\">\\n      <div *ngIf=\\\"parameter.dash_flag == 5\\\" class=\\\"row\\\">\\n        <div class=\\\"offset-lg-7\\\"></div>\\n        <div class=\\\"col-lg-2 col-md-2 col-sm-5 col-5\\\">\\n          <div class=\\\"form-group marginB0\\\">\\n            <label>{{'filters.time.custom.from' | translate}}</label>\\n            <p-calendar dateFormat=\\\"dd/M/yy\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\" [(ngModel)]=\\\"parameter.min\\\"\\n              [maxDate]=\\\"today\\\" showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\"\\n              yearRange=\\\"2000:2040\\\"></p-calendar>\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-2 col-md-2 col-sm-5 col-5\\\">\\n          <div class=\\\"form-group marginB0\\\">\\n            <label>{{'filters.time.custom.to' | translate}}</label>\\n            <p-calendar dateFormat=\\\"dd/M/yy\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\" [(ngModel)]=\\\"parameter.max\\\"\\n              [minDate]=\\\"parameter.min\\\" [maxDate]=\\\"today\\\" showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\"\\n              [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-1 col-md-2 col-sm-2 col-6\\\">\\n          <div class=\\\"form-group btn-cont\\\">\\n            <label class=\\\"addMT3\\\">&nbsp;</label>\\n            <button class=\\\"btn btn-calender\\\" href=\\\"javascript://\\\" (click)=\\\"getListing()\\\"\\n              [disabled]=\\\"!parameter.min || !parameter.max\\\">{{'filters.time.custom.applyBtn' | translate}}</button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-lg-2 col-md-2\\\">\\n      <div class=\\\"form-group\\\">\\n        <label>{{'filters.location.country' | translate}}</label>\\n        <select class=\\\"form-control\\\" (change)=\\\"onCountryChange($event.target.value)\\\">\\n          <option value=\\\"0\\\">{{'filters.location.allOption' | translate}}</option>\\n          <option *ngFor=\\\"let item of location.countries\\\" [value]=\\\"item.id\\\">{{item.name}}</option>\\n        </select>\\n      </div>\\n    </div>\\n    <div class=\\\"col-lg-2 col-md-2\\\">\\n      <div class=\\\"form-group\\\">\\n        <label>{{'filters.location.state' | translate}}</label>\\n        <select class=\\\"form-control\\\" (change)=\\\"onStateChange($event.target.value)\\\">\\n          <option value=\\\"0\\\">{{'filters.location.allOption' | translate}}</option>\\n          <option *ngFor=\\\"let item of location.states\\\" [value]=\\\"item.id\\\">{{item.name}}</option>\\n        </select>\\n      </div>\\n    </div>\\n    <div class=\\\"col-lg-2 col-md-2\\\">\\n      <div class=\\\"form-group\\\">\\n        <label>{{'filters.location.city' | translate}}</label>\\n        <select class=\\\"form-control\\\" (change)=\\\"onCityChange($event.target.value)\\\">\\n          <option value=\\\"0\\\">{{'filters.location.allOption' | translate}}</option>\\n          <option *ngFor=\\\"let item of location.cities\\\" [value]=\\\"item.id\\\">{{item.name}}</option>\\n        </select>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col-lg-2 col-md-2\\\">\\n      <div class=\\\"form-group\\\">\\n        <label>{{'filters.location.locality' | translate}}</label>\\n        <select class=\\\"form-control\\\" (change)=\\\"getLocalityBuildings($event.target.value)\\\">\\n          <option value=\\\"0\\\">{{'filters.location.allOption' | translate}}</option>\\n          <option *ngFor=\\\"let item of location.localities\\\" [value]=\\\"item.id\\\">{{item.name}}</option>\\n        </select>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col-lg-2 col-md-2\\\">\\n      <div class=\\\"form-group marginB0\\\">\\n        <label>{{'filters.location.building' | translate}}</label>\\n        <select class=\\\"form-control\\\" (change)=\\\"setBuilding($event.target.value)\\\">\\n          <option value=\\\"0\\\">{{'filters.location.allOption' | translate}}</option>\\n          <option *ngFor=\\\"let building of parameter.buildings\\\" value=\\\"{{building.id}}\\\">{{building.name}}</option>\\n        </select>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col-lg-1 col-md-2\\\">\\n      <div class=\\\"form-group btn-cont\\\">\\n        <label style=\\\"display: block; margin-top: 3px;\\\">&nbsp;</label>\\n        <button type=\\\"button\\\" (click)=\\\"getListing()\\\"\\n          class=\\\"btn btn-primary-new width100P P86\\\">{{'filters.location.applyBtn' | translate}}</button>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col-lg-1 col-md-2\\\">\\n      <div class=\\\"form-group btn-cont\\\">\\n        <label style=\\\"display: block; margin-top: 3px;\\\">&nbsp;</label>\\n        <button type=\\\"button\\\" (click)=\\\"resetFilters()\\\"\\n          class=\\\"btn btn-primary-new width100P P86\\\">{{'filters.location.resetBtn' | translate}}</button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"cust-tabs\\\">\\n    <div class=\\\"row flex-wrap-reverse\\\">\\n\\n      <div class=\\\"col-xl-8 col-lg-12 col-md-12 col-sm-12 col-12\\\">\\n        <ul class=\\\"nav nav-tabs\\\">\\n          <li class=\\\"nav-item\\\">\\n            <a [ngClass]=\\\"{'active':parameter.flag==1}\\\" (click)=\\\"changeAppUnappFlag(1)\\\"\\n              class=\\\"nav-link cursor-pointer\\\">{{'filters.flag.approved' | translate}}</a>\\n          </li>\\n          <li class=\\\"nav-item\\\">\\n            <a [ngClass]=\\\"{'active':parameter.flag==0}\\\" (click)=\\\"changeAppUnappFlag(0)\\\"\\n              class=\\\"nav-link cursor-pointer\\\">{{'filters.flag.unapproved' | translate}}</a>\\n          </li>\\n        </ul>\\n      </div>\\n      <div class=\\\"col-xl-2 col-lg-12 col-md-12 col-sm-12 col-12\\\">\\n        <div class=\\\"add-new pull-right text-left\\\">\\n           <a class=\\\"btn\\\" (click)=\\\"this.getExportlisting()\\\" href=\\\"javascript://\\\">\\n              {{'table.exportDataBtn' | translate}}</a>\\n        </div>\\n     </div>\\n      <div class=\\\"col-xl-2 col-lg-12 col-md-12 col-sm-12 col-12\\\">\\n        <div class=\\\"add-new pull-right\\\">\\n          <a *ngIf=\\\"admin?.admin_acl['Manage Collections']?.can_create==1\\\" class=\\\"btn\\\" href=\\\"javascript://\\\"\\n            routerLink=\\\"/dashboard/collections/add-collection/0\\\">{{'viewCollections.addNew' | translate}}</a>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"tab-content white-bg\\\">\\n      <div class=\\\"tab-pane active\\\">\\n        <div class=\\\"tabel-section\\\">\\n          <div class=\\\"table-responsive main-table\\\">\\n            <table class=\\\"table table-striped table-align-left quick-table\\\">\\n              <thead id=\\\"myHeader\\\">\\n                <tr>\\n                  <th style=\\\"text-align:left; width: 80px;\\\" [style.z-index]=\\\"100\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.iDAccount' | translate}}</label>\\n                      <div class=\\\"searh-3\\\">\\n                        <input autocomplete=\\\"off\\\" type=\\\"text\\\" [(ngModel)]=\\\"parameter.collection_id\\\"\\n                          (keyup.enter)=\\\"getListing()\\\">\\n                        <button *ngIf=\\\"parameter.collection_id\\\" (click)=\\\"getListing()\\\"><i\\n                            class=\\\"fa fa-search\\\"></i></button>\\n                      </div>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 150px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.buyerName' | translate}}</label>\\n                      <div class=\\\"searh-3\\\">\\n                        <input autocomplete=\\\"off\\\" class=\\\"width100px\\\" type=\\\"text\\\" [(ngModel)]=\\\"parameter.buyer_name\\\"\\n                          (keyup.enter)=\\\"getListing()\\\">\\n                        <button *ngIf=\\\"parameter.buyer_name\\\" (click)=\\\"getListing()\\\"><i\\n                            class=\\\"fa fa-search\\\"></i></button>\\n                      </div>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 150px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.buyerLegalRepresentative' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 150px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.sellerName' | translate}}</label>\\n                      <div class=\\\"searh-3\\\">\\n                        <input autocomplete=\\\"off\\\" class=\\\"width100px\\\" type=\\\"text\\\" [(ngModel)]=\\\"parameter.seller_name\\\"\\n                          (keyup.enter)=\\\"getListing()\\\">\\n                        <button *ngIf=\\\"parameter.seller_name\\\" (click)=\\\"getListing()\\\"><i\\n                            class=\\\"fa fa-search\\\"></i></button>\\n                      </div>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 150px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.sellerLegalRepresentative' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 140px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.nameOfBuilding' | translate}}</label>\\n                      <div class=\\\"searh-3\\\">\\n                        <input autocomplete=\\\"off\\\" class=\\\"width100px\\\" type=\\\"text\\\" [(ngModel)]=\\\"parameter.building_name\\\"\\n                          (keyup.enter)=\\\"getListing()\\\">\\n                        <button *ngIf=\\\"parameter.building_name\\\" (click)=\\\"getListing()\\\"><i\\n                            class=\\\"fa fa-search\\\"></i></button>\\n                      </div>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 120px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.nameOfTower' | translate}}</label>\\n                      <div class=\\\"searh-3\\\">\\n                        <input autocomplete=\\\"off\\\" class=\\\"width100px\\\" type=\\\"text\\\" [(ngModel)]=\\\"parameter.tower_name\\\"\\n                          (keyup.enter)=\\\"getListing()\\\">\\n                        <button *ngIf=\\\"parameter.tower_name\\\" (click)=\\\"getListing()\\\"><i\\n                            class=\\\"fa fa-search\\\"></i></button>\\n                      </div>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 140px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.nameOfApartment' | translate}}</label>\\n                      <div class=\\\"searh-3\\\">\\n                        <input autocomplete=\\\"off\\\" class=\\\"width100px\\\" type=\\\"text\\\" [(ngModel)]=\\\"parameter.apartment_name\\\"\\n                          (keyup.enter)=\\\"getListing()\\\">\\n                        <button *ngIf=\\\"parameter.apartment_name\\\" (click)=\\\"getListing()\\\"><i\\n                            class=\\\"fa fa-search\\\"></i></button>\\n                      </div>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 120px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.configuration' | translate}}</label>\\n                      <div class=\\\"searh-3\\\">\\n                        <input autocomplete=\\\"off\\\" class=\\\"width100px\\\" type=\\\"text\\\" [(ngModel)]=\\\"parameter.config_name\\\"\\n                          (keyup.enter)=\\\"getListing()\\\">\\n                        <button *ngIf=\\\"parameter.config_name\\\" (click)=\\\"getListing()\\\"><i\\n                            class=\\\"fa fa-search\\\"></i></button>\\n                      </div>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 110px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.locality' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 140px;z-index: 2;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <div (click)=\\\"sort_by(1)\\\" class=\\\"d-flex table-search\\\">\\n                        <label>{{'table.th.purchaseDate' | translate}}</label>\\n                      </div>\\n                      <div>\\n                        <p-calendar dateFormat=\\\"dd/M/yy\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\"\\n                          [(ngModel)]=\\\"parameter.deal_from_date\\\" [maxDate]=\\\"today\\\" showButtonBar=\\\"true\\\"\\n                          [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n                        <p-calendar dateFormat=\\\"dd/M/yy\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\"\\n                          [(ngModel)]=\\\"parameter.deal_to_date\\\" [minDate]=\\\"parameter.deal_from_date\\\" [maxDate]=\\\"today\\\"\\n                          showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\">\\n                        </p-calendar>\\n\\n                        <!-- <input autocomplete=\\\"off\\\" class=\\\"width100\\\" type=\\\"date\\\"\\n                          [(ngModel)]=\\\"parameter.deal_from_date\\\">\\n                        <input autocomplete=\\\"off\\\" class=\\\"width100\\\" type=\\\"date\\\" [(ngModel)]=\\\"parameter.deal_to_date\\\"> -->\\n                        <button *ngIf=\\\"parameter.deal_from_date && parameter.deal_to_date\\\" (click)=\\\"getListing()\\\"><i\\n                            class=\\\"fa fa-search\\\"></i></button>\\n                      </div>\\n                    </div>\\n                  </th>\\n\\n                  <th style=\\\"vertical-align:top; width: 110px;\\\">\\n                    <div class=\\\"d-flex table-search\\\">\\n                      <label>{{'table.th.lastConcept' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 110px;\\\">\\n                    <div class=\\\"d-flex table-search\\\">\\n                      <label>{{'table.th.lastDateOfPayment' | translate}}</label></div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 110px;\\\">\\n                    <div class=\\\"d-flex table-search\\\">\\n                      <label class=\\\"width100px\\\">{{'table.th.lastAmount' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 110px;\\\">\\n                    <div class=\\\"d-flex table-search\\\">\\n                      <label>{{'table.th.nextConcept' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 110px;\\\">\\n                    <div class=\\\"d-flex table-search\\\">\\n                      <label>{{'table.th.nextDateOfPayment' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 110px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label class=\\\"width100px\\\">{{'table.th.nextAmount' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.currency' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.sozuPC' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.ivaAdded' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.tobeRePC' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.PCReceipt' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.PCInvoice' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.sozuCC' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.ivaAdded' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.tobeReCC' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.CCReceipt' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.CCInvoice' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.agentCommission' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.ivaAdded' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.ACReceipt' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.ACInvoice' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"vertical-align:top; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.commissionAgent' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 120px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.price' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.penalty' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 120px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.amountPaid' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 120px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.remaniningAmount' | translate}}</label>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"text-align:left; width: 100px;\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.statusAccount' | translate}}</label>\\n                      <select [(ngModel)]=\\\"parameter.collection_status\\\" (change)=\\\"parameter.page=1;getListing()\\\">\\n                        <option value=\\\"\\\">{{'table.th.all' | translate}}</option>\\n                        <option *ngFor=\\\"let c of collectionStatusFilter\\\" value=\\\"{{c.value}}\\\">{{c.name}}</option>\\n                      </select>\\n                    </div>\\n                  </th>\\n                  <th style=\\\"width: 400px;\\\" *ngIf=\\\"parameter.flag!=5\\\">\\n                    <div class=\\\"table-search\\\">\\n                      <label>{{'table.th.actions.label' | translate}}</label>\\n                    </div>\\n                  </th>\\n                </tr>\\n              </thead>\\n              <tbody class=\\\"content\\\">\\n                <tr\\n                  *ngFor=\\\"let p of items | paginate: { itemsPerPage: parameter.itemsPerPage, currentPage: parameter.page, totalItems: total }; let i=index\\\">\\n                  <td><span>{{p?.id ? p?.id : ('table.tr.td.NA' | translate)}}</span></td>\\n                  <td>\\n                    <span *ngIf=\\\"p?.buyer_type == 1\\\">\\n                      {{p?.buyer?.name ? (p?.buyer?.name + ' ' + p?.buyer?.first_surname + ' ' + p?.buyer?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                    <span *ngIf=\\\"p?.buyer_type == 2\\\">\\n                      {{p?.buyer_legal_entity?.comm_name ? (p?.buyer_legal_entity?.comm_name) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                    <span *ngIf=\\\"p?.buyer_type == 3\\\">\\n                      {{p?.buyer?.name ? (p?.buyer?.name + ' ' + p?.buyer?.first_surname + ' ' + p?.buyer?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                  </td>\\n                  <td>\\n                    <span *ngIf=\\\"p?.buyer_type == 1\\\">\\n                      {{p?.buyer?.legal_representative?.name ? (p?.buyer?.legal_representative?.name + ' ' + p?.buyer?.legal_representative?.first_surname + ' ' + p?.buyer?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                    <span *ngIf=\\\"p?.buyer_type == 2\\\">\\n                      {{p?.buyer_legal_entity?.legal_reps?.name ? (p?.buyer_legal_entity?.legal_reps?.name + ' ' +p?.buyer_legal_entity?.legal_reps?.first_surname + ' ' + p?.buyer_legal_entity?.legal_reps?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                    <span *ngIf=\\\"p?.buyer_type == 3\\\">\\n                      {{p?.buyer?.legal_representative?.name ? (p?.buyer?.legal_representative?.name + ' ' + p?.buyer?.legal_representative?.first_surname + ' ' + p?.buyer?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                  </td>\\n                  <td>\\n                    <span *ngIf=\\\"p?.seller_type == 1\\\">\\n                      {{p?.seller?.name ? (p?.seller?.name + ' ' + p?.seller?.first_surname + ' ' + p?.seller?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                    <span *ngIf=\\\"p?.seller_type == 2\\\">\\n                      {{p?.seller_legal_entity?.comm_name ? (p?.seller_legal_entity?.comm_name) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                    <span *ngIf=\\\"p?.seller_type == 3\\\">\\n                      {{p?.seller?.name ? (p?.seller?.name + ' ' + p?.seller?.first_surname + ' ' + p?.seller?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                  </td>\\n                  <td>\\n                    <span *ngIf=\\\"p?.seller_type == 1\\\">\\n\\n                    </span>\\n                    <span *ngIf=\\\"p?.seller_type == 2\\\">\\n                      {{p?.seller_legal_entity?.legal_reps?.name ? (p?.seller_legal_entity?.legal_reps?.name + ' ' +p?.seller_legal_entity?.legal_reps?.first_surname + ' ' + p?.seller_legal_entity?.legal_reps?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                    <span *ngIf=\\\"p?.seller_type == 3\\\">\\n                      {{p?.seller?.legal_representative?.name ? (p?.seller?.legal_representative?.name + ' ' + p?.seller?.legal_representative?.first_surname + ' ' + p?.seller?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                  </td>\\n                  <td class=\\\"cursor-pointer\\\" title=\\\"{{'table.title.clickToViewDetails' | translate}}\\\">\\n                    <strong>{{p?.property?.building?.name ? p?.property?.building?.name: ('table.tr.td.NA' | translate)}}</strong>\\n                  </td>\\n                  <td>\\n                    <span>{{p?.property?.building_towers ? p?.property?.building_towers?.tower_name : ('table.tr.td.NA' | translate)}}</span>\\n                  </td>\\n                  <td><span>{{p?.property?.name ? p?.property?.name : ('table.tr.td.NA' | translate)}}</span></td>\\n                  <td>\\n                    <span>{{p?.property?.building_configuration?.name}}</span>\\n                  </td>\\n                  <td>\\n                    <span>{{p?.property?.locality?.name ? p?.property?.locality?.name : ('table.tr.td.NA' | translate)}}</span>\\n                  </td>\\n                  <td>\\n                    <span>{{p.deal_purchase_date ? getDateWRTTimezone(p.deal_purchase_date, 'DD/MMM/YYYY') : ('table.tr.td.NA' | translate)}}</span>\\n                  </td>\\n\\n                  <td><span>{{ p?.last_payment ? getLastPaymentConcept(p) : ('table.tr.td.NA' | translate)}}</span></td>\\n                  <td>\\n                    <span>{{(p?.last_payment?.payment_date ? (p?.last_payment?.payment_date | date:'dd/MMM/yyyy') : ('table.tr.td.NA' | translate) )}}</span>\\n                  </td>\\n                  <td><span\\n                      [ngClass]=\\\"{'red-color':((p?.last_payment?.calc_payment_amount || 0) < (p?.last_payment?.amount || 0))}\\\">\\n                      {{ (p?.last_payment?.collection_amount || 0) | currency}}\\n                    </span></td>\\n                  <td><span>{{p?.next_payment?.name || ('table.tr.td.NA' | translate)}}</span></td>\\n                  <td>\\n                    <span>{{(p?.next_payment?.date ? (p?.next_payment?.date | date:'dd/MMM/yyyy') : ('table.tr.td.NA' | translate) )}}</span>\\n                  </td>\\n                  <td>\\n                    <span>{{ ((p?.next_payment?.amount || 0)-(p?.next_payment?.calc_payment_amount || 0)) | currency}}</span>\\n                  </td>\\n\\n                  <td><span>{{p?.currency?.code || ('table.tr.td.NA' | translate)}}</span></td>\\n                  <td>\\n                    <span>{{p?.comm_total_commission ? (p?.comm_total_commission | number : '1.2-3') : ('table.tr.td.NA' | translate)}}</span>\\n                  </td>\\n                  <td>\\n                    <input name=\\\"add_iva_to_pc{{i}}\\\" disabled class=\\\"form-control checkbox_size\\\" type=\\\"checkbox\\\"\\n                      [checked]=\\\"p?.add_iva_to_pc ? 'checked' : ''\\\" readonly>\\n                  </td>\\n                  <td>\\n                    <span [ngClass]=\\\"{'red-color':((p?.sum_pc || 0) != (p?.comm_total_commission_amount || 0))}\\\">\\n                      {{(p?.pc_received || 0) | currency}}\\n                    </span>\\n                  </td>\\n                  <td>\\n                    <input name=\\\"pc_receipt{{i}}\\\" disabled class=\\\"form-control checkbox_size\\\" type=\\\"checkbox\\\"\\n                      [checked]=\\\"p?.pc_receipt ? 'checked' : ''\\\" readonly>\\n                  </td>\\n                  <td>\\n                    <input name=\\\"pc_invoice{{i}}\\\" disabled class=\\\"form-control checkbox_size\\\" type=\\\"checkbox\\\"\\n                      [checked]=\\\"p?.pc_invoice ? 'checked' : ''\\\" readonly>\\n                  </td>\\n                  <td>{{p?.cc_percent}}</td>\\n                  <td>\\n                    <input name=\\\"add_iva_to_cc{{i}}\\\" disabled class=\\\"form-control checkbox_size\\\" type=\\\"checkbox\\\"\\n                      [checked]=\\\"p?.add_iva_to_cc ? 'checked' : ''\\\" readonly>\\n                  </td>\\n                  <td>{{(p?.cc_received || 0) | currency}}</td>\\n                  <td>\\n                    <input name=\\\"cc_receipt{{i}}\\\" disabled class=\\\"form-control checkbox_size\\\" type=\\\"checkbox\\\"\\n                      [checked]=\\\"p?.cc_receipt ? 'checked' : ''\\\" readonly>\\n                  </td>\\n                  <td>\\n                    <input name=\\\"cc_invoice{{i}}\\\" disabled class=\\\"form-control checkbox_size\\\" type=\\\"checkbox\\\"\\n                      [checked]=\\\"p?.cc_invoice ? 'checked' : ''\\\" readonly>\\n                  </td>\\n                  <td>\\n                    <span>{{p?.comm_shared_commission ? (p?.comm_shared_commission | number : '1.2-3') : ('table.tr.td.NA' | translate)}}</span>\\n                  </td>\\n\\n                  <td>\\n                    <input name=\\\"add_iva_to_ac{{i}}\\\" disabled class=\\\"form-control checkbox_size\\\" type=\\\"checkbox\\\"\\n                      [checked]=\\\"p?.add_iva_to_ac ? 'checked' : ''\\\" readonly>\\n                  </td>\\n                  <td>\\n                    <input name=\\\"ac_receipt{{i}}\\\" disabled class=\\\"form-control checkbox_size\\\" type=\\\"checkbox\\\"\\n                      [checked]=\\\"p?.ac_receipt ? 'checked' : ''\\\" readonly>\\n                  </td>\\n                  <td>\\n                    <input name=\\\"ac_invoice{{i}}\\\" disabled class=\\\"form-control checkbox_size\\\" type=\\\"checkbox\\\"\\n                      [checked]=\\\"p?.ac_invoice ? 'checked' : ''\\\" readonly>\\n                  </td>\\n\\n                  <td *ngIf=\\\"p?.deal_commission_agents?.length\\\">\\n                    <span>\\n                      {{p?.deal_commission_agents[0]?.broker?.name ? (p?.deal_commission_agents[0]?.broker?.name + ' ' +p?.deal_commission_agents[0]?.broker?.first_surname + ' ' + p?.deal_commission_agents[0]?.broker?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </span>\\n                  </td>\\n                  <td *ngIf=\\\"!p?.deal_commission_agents?.length\\\">\\n                    <span>{{('table.tr.td.NA' | translate)}}</span>\\n                  </td>\\n                  <td><span>{{(p?.deal_price || 0) | currency}}</span></td>\\n                  <td><span>{{(p?.penalty || 0) | currency}}</span></td>\\n                  <td><span>{{(p?.total_payment_recieved || 0) | currency}}</span></td>\\n                  <td><span>{{getRemainingAmt(p) | currency}}</span></td>\\n\\n                  <td>\\n                    <div *ngIf=\\\"p?.is_cancelled==1\\\" class=\\\"status grey\\\" title=\\\"Cancelled\\\"></div>\\n                    <div *ngIf=\\\"p?.is_cancelled==0 && p?.is_commission_sale_enabled==1\\\" class=\\\"status purple\\\"\\n                      title=\\\"Only Commission for sale\\\"></div>\\n                    <div *ngIf=\\\"p?.is_cancelled==0 && p?.is_commission_sale_enabled==0 && p?.payment_status==1\\\"\\n                      class=\\\"status green\\\" title=\\\"Up to Date\\\"></div>\\n                    <div *ngIf=\\\"p?.is_cancelled==0 && p?.is_commission_sale_enabled==0 && p?.payment_status==2\\\"\\n                      class=\\\"status yellow\\\" title=\\\"Payment Period\\\"></div>\\n                    <div *ngIf=\\\"p?.is_cancelled==0 && p?.is_commission_sale_enabled==0 && p?.payment_status==3\\\"\\n                      class=\\\"status red\\\" title=\\\"Overdue Payment\\\"></div>\\n                    <div *ngIf=\\\"p?.is_cancelled==0 && p?.is_commission_sale_enabled==0 && p?.payment_status==5\\\"\\n                      class=\\\"status blue\\\" title=\\\"Settled\\\"></div>\\n                    <div *ngIf=\\\"p?.is_cancelled==0 && p?.is_commission_sale_enabled==0 && p?.payment_status==6\\\"\\n                      class=\\\"status orange\\\" title=\\\"Inconsistency between price and deal scheme\\\"></div>\\n                  </td>\\n                  <td>\\n                    <div class=\\\"table-actions\\\">\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        routerLink=\\\"/dashboard/collections/edit-collection/{{p.id}}\\\"\\n                        title=\\\"{{'table.title.editDetails' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                          src=\\\"assets/img/edit.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        (click)=\\\"quickCollectionView(p)\\\" title=\\\"{{'table.title.quickVisuaization' | translate}}\\\"\\n                        class=\\\"action-icon\\\"><img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        (click)=\\\"viewAccountStatement(p)\\\" title=\\\"{{'table.title.accountStatement' | translate}}\\\"\\n                        class=\\\"action-icon\\\"><img src=\\\"assets/img/ic_account.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        (click)=\\\"showPenaltyPaymentPopup(p, i, 'penalty-popup', 0)\\\"\\n                        title=\\\"{{'table.title.penaltyPayment' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                          src=\\\"assets/img/stamp.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        (click)=\\\"showApplyPaymentPopup(p, i, 'apply-popup')\\\"\\n                        title=\\\"{{'table.title.applyPayment' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                          src=\\\"assets/img/ic_payment.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        (click)=\\\"showEditPaymentPopup(p, i)\\\" title=\\\"{{'table.title.editPayment' | translate}}\\\"\\n                        class=\\\"action-icon\\\"><img src=\\\"assets/img/edit.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        (click)=\\\"showCollectionCommReceipt(p, i, 'commission-popup')\\\"\\n                        title=\\\"{{'table.title.collectionCommission' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                          src=\\\"assets/img/ic_commission.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button *ngIf=\\\"p.is_approved == 1\\\"\\n                        [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\" (click)=\\\"changeStatus(p, 0);\\\"\\n                        class=\\\"action-icon\\\" title=\\\"{{'table.title.unapprove' | translate}}\\\"><img\\n                          src=\\\"assets/img/ic_disapprove.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button *ngIf=\\\"p.is_approved == 0\\\"\\n                        [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\" (click)=\\\"changeStatus(p, 1);\\\"\\n                        class=\\\"action-icon\\\" title=\\\"{{'table.title.approve' | translate}}\\\"><img src=\\\"assets/img/tick.png\\\"\\n                          alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        (click)=\\\"openFoldersModal(p.collection_folders, p.payment_folder_id)\\\"\\n                        title=\\\"{{'table.title.viewFolders' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                          src=\\\"assets/img/ic_folder_1.svg\\\" alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\" (click)=\\\"getNotes(p)\\\"\\n                        title=\\\"{{'table.title.collectionNotes' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                          src=\\\"assets/img/chat-icon.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        (click)=\\\"cancelPopup(p, i, p?.is_cancelled == 0 ? 1 : 0)\\\"\\n                        title=\\\"{{p?.is_cancelled == 0 ? ('table.title.cancelCollection' | translate) : ('table.title.activeCollection' | translate)}}\\\"\\n                        class=\\\"action-icon\\\" [ngClass]=\\\"{'unblock-bg':p?.is_cancelled==1}\\\"><img\\n                          src=\\\"assets/img/block.png\\\" alt=\\\"img\\\"></button>\\n\\n                      <button [disabled]=\\\"admin?.admin_acl['Manage Collections']?.can_update==0\\\"\\n                        (click)=\\\"deletePopup(p, i)\\\" title=\\\"{{'table.title.delete' | translate}}\\\"\\n                        class=\\\"action-icon\\\"><img src=\\\"assets/img/ic_delete.png\\\" alt=\\\"img\\\"></button>\\n\\n                    </div>\\n\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n            <div class=\\\"padding20 center\\\" *ngIf=\\\"total == 0\\\">\\n              <!-- <img src=\\\"assets/img/404-error.png\\\"> -->\\n              <p class=\\\"show-not-found\\\">\\n                {{parameter.flag==1 ? ('message.error.noApprovedCollectionFound' | translate) : ('message.error.noUnApprovedCollectionFound' | translate)}}\\n              </p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"tab-pane container fade\\\" id=\\\"seller\\\">{{'table.th.sellerTabOn' | translate}}</div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"btn-cont marginT15\\\" *ngIf=\\\"total\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6\\\">\\n        <div class=\\\"title-group\\\">\\n          <p>{{'table.pagination.showing' | translate}} {{items?.length}} {{'table.pagination.outof' | translate}}\\n            {{total}}</p>\\n        </div>\\n      </div>\\n      <div class=\\\"col-6 text-right\\\">\\n        <pagination-controls class=\\\"my-pagination\\\" (pageChange)=\\\"getPage($event)\\\"></pagination-controls>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#collection-notes\\\" #notesModalOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"collection-notes\\\">\\n  <div class=\\\"modal-dialog fadeIndown\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4>{{'table.title.collectionNotes' | translate}}</h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #notesModalClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeNotesModal()\\\">&times;</button>\\n      </div>\\n\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"white-bg\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-6\\\">\\n              <p class=\\\"p16 marginB0\\\">{{'commonBlock.writeANote' | translate}}</p>\\n            </div>\\n            <div class=\\\"col-6 text-right\\\">\\n              <a class=\\\"add\\\" href=\\\"javascript://\\\" (click)=\\\"addNote()\\\">{{'commonBlock.add' | translate}}</a>\\n\\n              <ng-template #noAddPermissiom>\\n                <a class=\\\"add\\\" href=\\\"javascript://\\\">{{'commonBlock.add' | translate}}</a>\\n              </ng-template>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"form-group-2\\\">\\n          <div class=\\\"form-group\\\">\\n            <textarea rows=\\\"3\\\" required class=\\\"form-control note\\\" name=\\\"note\\\" [(ngModel)]=\\\"model.note\\\"></textarea>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"parameter.items?.length!=0\\\" [ngStyle]=\\\"{'max-height':sent_as === 1 ? '250px' : '' }\\\"\\n          class=\\\"write-note white-bg\\\" malihu-scrollbar [scrollbarOptions]=\\\"scrollbarOptions\\\">\\n          <div class=\\\"wn-block\\\" *ngFor=\\\"let item of parameter.items; let i=index\\\">\\n            <div class=\\\"circle\\\">\\n              <span></span>\\n            </div>\\n            <a class=\\\"delete\\\" href=\\\"javascript://\\\"\\n              (click)=\\\"deleteLeadPopup(item.id, i)\\\">{{'commonBlock.delete' | translate}}</a>\\n\\n            <ng-template #noDeletePermissiom>\\n              <a class=\\\"delete\\\" href=\\\"javascript://\\\">{{'commonBlock.delete' | translate}}</a>\\n            </ng-template>\\n            <!-- <p class=\\\"time\\\">{{item.updated_at | chatTime: 'YYYY-MM-DD H:m:s': 2}}</p> -->\\n            <pre class=\\\"p13\\\"\\n              *ngIf=\\\"!item.show\\\">{{item.note.slice(0, 90)}} <span class=\\\"read-more\\\" *ngIf=\\\"item.note.length>100\\\" (click)=\\\"item.show=true\\\">Read more</span></pre>\\n            <pre class=\\\"p13\\\" *ngIf=\\\"item.show\\\">{{item.note}}</pre>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"parameter.items?.length==0\\\" class=\\\"write-note white-bg\\\"\\n          [ngStyle]=\\\"{'height':sent_as === 1 ? '230px' : '245px' }\\\">\\n          <p class=\\\"show-not-found\\\">\\n            {{'message.error.noNoteFound' | translate}}\\n          </p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#penaltyModal\\\" #penaltyModalOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"penaltyModal\\\">\\n  <div class=\\\"modal-dialog fadeIndown\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4>\\n          {{penaltyForm.controls.id.value ? ('viewCollections.editPenalty' | translate) : ('viewCollections.addPenalty' | translate)}}\\n        </h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #penaltyModalClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closePenaltyPaymentPopup();\\\">&times;</button>\\n      </div>\\n\\n      <form autocomplete=\\\"off\\\" [formGroup]=\\\"penaltyForm\\\" (ngSubmit)=\\\"applyCollectionPenalty(penaltyForm.value)\\\">\\n        <div class=\\\"modal-body\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"spacer40\\\"></div>\\n            </div>\\n            <div class=\\\"col-12\\\" *ngIf=\\\"!penaltyForm.controls.id.value\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentConcept' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select class=\\\"form-control\\\" formControlName=\\\"collection_payment_choice_id\\\"\\n                    (change)=\\\"setPaymentConceptAmount($event.target.value)\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentConcept' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentConcepts\\\" [value]=\\\"bt.id\\\"\\n                      [disabled]=\\\"bt?.penalty || bt?.is_paid_calculated\\\"> {{bt?.name}}</option>\\n                  </select>\\n                </div>\\n                <div *ngIf=\\\"showError  &&  (penaltyForm.controls.collection_payment_choice_id.invalid)\\\">\\n                  <div *ngIf=\\\"penaltyForm.controls.collection_payment_choice_id.errors?.required \\\" class=\\\"show-error\\\">\\n                    {{'addCollectionValidations.thisIsRequired' | translate}}\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.paymentConceptAmt' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <input readonly autocomplete=\\\"off\\\" type=\\\"number\\\" class=\\\"form-control\\\"\\n                    formControlName=\\\"payment_concept_amt\\\">\\n                </div>\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (penaltyForm.controls.payment_concept_amt.invalid)\\\">\\n                <div *ngIf=\\\"penaltyForm.controls.payment_concept_amt.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.enterPnaltyPercentage' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <input autocomplete=\\\"off\\\" type=\\\"number\\\" step=\\\"0.01\\\" (input)=\\\"getPenaltyAmount($event.target.value)\\\"\\n                    min=\\\"0\\\" class=\\\"form-control\\\" formControlName=\\\"percent\\\">\\n                </div>\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (penaltyForm.controls.percent.invalid)\\\">\\n                <div *ngIf=\\\"penaltyForm.controls.percent.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.enterPnaltyAmount' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <input autocomplete=\\\"off\\\" required type=\\\"number\\\" step=\\\"0.01\\\"\\n                    (input)=\\\"getPenaltyPercentage($event.target.value)\\\" min=\\\"0\\\" class=\\\"form-control\\\"\\n                    formControlName=\\\"amount\\\">\\n                </div>\\n              </div>\\n              <div *ngIf=\\\"showError  &&  (penaltyForm.controls.amount.invalid)\\\">\\n                <div *ngIf=\\\"penaltyForm.controls.amount.errors?.required \\\" class=\\\"show-error\\\">\\n                  {{'addCollectionValidations.thisIsRequired' | translate}}\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.description' | translate}}</label>\\n                <div class=\\\"form-group\\\">\\n                  <textarea rows=\\\"3\\\" formControlName=\\\"description\\\" class=\\\"form-control\\\"></textarea>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"btn-cont text-right\\\">\\n                <button type=\\\"submit\\\" [disabled]=\\\"isPenaltyFormSub\\\" class=\\\"btn btn-primary-new\\\">\\n                  {{penaltyForm.controls.id.value ? ('addForm.updateBtn' | translate) : ('addForm.addBtn' | translate)}}</button>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#entityModal\\\" #paymentModalOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"entityModal\\\">\\n  <div class=\\\"modal-dialog fadeIndown modal-lg\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4>{{'viewCollections.applyPayment' | translate}}</h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #paymentModalClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closePaymentModal(); addForm.reset()\\\">&times;</button>\\n      </div>\\n\\n      <form autocomplete=\\\"off\\\" class=\\\"form-horizontal padding0\\\" role=\\\"form\\\" ngNativeValidate #addForm=\\\"ngForm\\\"\\n        (ngSubmit)=\\\"applyCollectionPayment()\\\">\\n        <div class=\\\"modal-body\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"spacer40\\\"></div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentType' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_type\\\" required class=\\\"form-control\\\" [(ngModel)]=\\\"payment_type\\\"\\n                    (change)=\\\"setPayMentType($event.target.value)\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choose' | translate}}</option>\\n                    <option value=\\\"1\\\">{{'viewCollections.payToFollowing' | translate}}</option>\\n                    <option value=\\\"2\\\" [disabled]=\\\"disablePayToRemaining\\\">\\n                      {{'viewCollections.payToRemainingReducePayment' | translate}}</option>\\n                    <option value=\\\"3\\\" [disabled]=\\\"disablePayToRemaining\\\">\\n                      {{'viewCollections.payToRemainingPayment' | translate}}</option>\\n                    <option value=\\\"4\\\">{{'viewCollections.payToSpecific' | translate}}</option>\\n                    <option value=\\\"5\\\">{{'viewCollections.totalPayment' | translate}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\" *ngIf=\\\"payment_type!=2 && payment_type !=3 && payment_type != 5\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentConcept' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_choice\\\" #applyPaymentChoiceId required class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"payment_choice_id\\\" (ngModelChange)=\\\"setPaymentAmount($event)\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentConcept' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentConcepts\\\"\\n                      [disabled]=\\\"bt?.is_paid_calculated || (bt?.is_disabled && payment_type==1)\\\" [ngValue]=\\\"bt\\\">\\n                      {{bt?.name}}\\n                      <span *ngIf=\\\"bt?.is_paid_calculated\\\"> | Paid</span>\\n                    </option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentMethod' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_method\\\" #applyPaymentMethodId required class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"payment_method_id\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentMethod' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentMethods\\\" [value]=\\\"bt.id\\\"> {{bt?.name}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.chooseBank' | translate}}</label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_bank\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"payment_bank\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.chooseBank' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentBanks\\\" [ngValue]=\\\"bt\\\"> {{bt?.name}} | {{bt?.account_number}} |\\n                      {{bt?.currency?.code}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <ng-container *ngIf=\\\"payment_type!=2 && payment_type !=3 && payment_type != 5\\\">\\n              <div class=\\\"col-6\\\" *ngIf=\\\"typeOfPayment=='apply-popup' && selectedPaymentConcept\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.programmedDate' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                  <div class=\\\"form-group\\\">\\n                    <input readonly class=\\\"form-control\\\" value=\\\"{{selectedPaymentConcept?.date | date:'dd/MMM/yyyy'}}\\\"\\n                      name=\\\"pendingPayment\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\" *ngIf=\\\"typeOfPayment=='apply-popup'\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.pendingExtraAmt' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                  <div class=\\\"form-group\\\">\\n                    <input readonly class=\\\"form-control\\\" value=\\\"{{pendingPayment}}\\\" name=\\\"pendingPayment\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\" *ngIf=\\\"typeOfPayment=='apply-popup'\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.penaltyAmount' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                  <div class=\\\"form-group\\\">\\n                    <input readonly class=\\\"form-control\\\" value=\\\"{{penaltyAmount}}\\\" name=\\\"penaltyAmount\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\" *ngIf=\\\"typeOfPayment=='apply-popup'\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.currentAmtTobePaid' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                  <div class=\\\"form-group\\\">\\n                    <input autocomplete=\\\"off\\\" readonly required type=\\\"number\\\" step=\\\"0.01\\\" min=\\\"0\\\" class=\\\"form-control\\\"\\n                      [(ngModel)]=\\\"currentAmount\\\" name=\\\"currentAmount\\\">\\n                  </div>\\n                </div>\\n              </div>\\n            </ng-container>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.totalAmtToBePaid' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <input autocomplete=\\\"off\\\" required type=\\\"number\\\" step=\\\"0.01\\\" min=\\\"0\\\" class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"paymentAmount\\\" name=\\\"paymentAmount\\\">\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentReceipt' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <input type=\\\"file\\\" name=\\\"docFile\\\" #docsFile1\\n                    accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                    (change)=\\\"onSelectFile($event.target.files, 'docFile')\\\">\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.paymentDate' | translate}}</label><span class=\\\"color-red\\\">*</span>\\n                <div class=\\\"form-group\\\">\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <p-calendar dateFormat=\\\"dd/M/yy\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"paymentDate\\\" autocomplete=\\\"off\\\"\\n                    [style]=\\\"{'width':'100%'}\\\" name=\\\"date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\"\\n                    (onSelect)=\\\"onSelect($event)\\\" [maxDate]=\\\"today\\\" showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\"\\n                    [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.description' | translate}}</label>\\n                <div class=\\\"form-group\\\">\\n                  <textarea rows=\\\"3\\\" [(ngModel)]=\\\"description\\\" name=\\\"description\\\" class=\\\"form-control\\\"></textarea>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"btn-cont text-right\\\">\\n                <button [disabled]=\\\"isApplyBtnClicked\\\" type=\\\"submit\\\" class=\\\"btn btn-primary-new\\\">\\n                  <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                  {{'addForm.addBtn' | translate}}\\n                </button>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#surplusMoneyModal\\\" #surplusMoneyModalOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"surplusMoneyModal\\\">\\n  <div class=\\\"modal-dialog fadeIndown\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4>{{'viewCollections.surplusMoney' | translate}}</h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #surplusMoneyModalClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeSurplusMoney()\\\">&times;</button>\\n      </div>\\n\\n      <form autocomplete=\\\"off\\\" class=\\\"form-horizontal padding0\\\" role=\\\"form\\\" ngNativeValidate #addSurplusForm=\\\"ngForm\\\">\\n        <div class=\\\"modal-body\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"spacer40\\\"></div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{('viewCollections.chooseWhichPaymentTypeYouwantToApplyForSurplusMoney' | translate) +' '+ (paymentAmount-calculatedPayAmount | currency) }}\\n                  <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"surplus_payment_type\\\" required class=\\\"form-control\\\" [(ngModel)]=\\\"surplus_payment_type\\\"\\n                    (change)=\\\"setPayMentTypeSurplus($event.target.value)\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choose' | translate}}</option>\\n                    <option value=\\\"1\\\">{{'viewCollections.payToFollowing' | translate}}</option>\\n                    <option value=\\\"2\\\">{{'viewCollections.payToRemainingReducePayment' | translate}}</option>\\n                    <option value=\\\"3\\\">{{'viewCollections.payToRemainingPayment' | translate}}</option>\\n                    <option value=\\\"4\\\">{{'viewCollections.payToSpecific' | translate}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\" *ngIf=\\\"surplus_payment_type=='4'\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentConcept' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_choice13\\\" required [(ngModel)]=\\\"surplus_payment_choice_id\\\" class=\\\"form-control\\\"\\n                    (ngModelChange)=\\\"setPaymentSurplusAmount($event)\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentConcept' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentConcepts\\\" [disabled]=\\\"bt?.is_paid_calculated || bt?.is_disabled\\\"\\n                      [ngValue]=\\\"bt\\\">\\n                      {{bt?.name}}\\n                      <span *ngIf=\\\"bt?.is_paid_calculated\\\"> | Paid</span>\\n                    </option>\\n                  </select>\\n                </div>\\n                <p>{{'viewCollections.amountToBePaid' | translate}} : {{surplus_amt}}</p>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"btn-cont text-right\\\">\\n                <button type=\\\"button\\\" (click)=\\\"closeSurplusMoney(); applyCollectionPayment()\\\"\\n                  class=\\\"btn btn-primary-new\\\">\\n                  <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                  {{'addForm.saveBtn' | translate}}</button>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#editPayment\\\" #editPaymentModalOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"editPayment\\\">\\n  <div class=\\\"modal-dialog fadeIndown modal-lg\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4>{{'quickVisualization.editPaymentMade' | translate}}</h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #editPaymentModalClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeEditPaymentModal()\\\">&times;</button>\\n      </div>\\n\\n\\n      <div class=\\\"cust-tabs\\\" style=\\\"padding: 20px;    height: 500px;\\n          overflow-y: scroll;\\\">\\n        <div class=\\\"tab-content white-bg\\\">\\n          <div id=\\\"accordion\\\" class=\\\"table-responsive main-table\\\">\\n            <table class=\\\"table table-bordered table-striped table-align-center edit-table\\\">\\n              <thead>\\n                <tr>\\n                  <th [style.width]=\\\"'210px'\\\" [style.z-index]=\\\"100\\\">\\n                    <b>{{'quickVisualization.concept' | translate}}</b>\\n                  </th>\\n                  <th [style.width]=\\\"'130px'\\\">\\n                    <b>{{'quickVisualization.month' | translate}}</b>\\n                  </th>\\n                  <th [style.width]=\\\"'120px'\\\">\\n                    <b>{{'quickVisualization.paid' | translate}}</b>\\n                  </th>\\n                  <th [style.width]=\\\"'120px'\\\">\\n                    <b>{{'quickVisualization.outstandingPayment' | translate}}</b>\\n                  </th>\\n                  <th [style.width]=\\\"'120px'\\\">\\n                    <b>{{'quickVisualization.toBePaidByUser' | translate}}</b>\\n                  </th>\\n                  <th [style.width]=\\\"'100px'\\\">\\n                    <b>{{'quickVisualization.action' | translate}}</b>\\n                  </th>\\n                  <th [style.width]=\\\"'100px'\\\">\\n                    <b>{{'quickVisualization.collectionCommission' | translate}}</b>\\n                  </th>\\n                </tr>\\n              </thead>\\n              <tbody *ngFor=\\\"let p of paymentConcepts; let i=index\\\">\\n                <tr [ngClass]=\\\"{'remaining_amt': p.key == 'remaining_amt'}\\\">\\n                  <td>\\n                    <a style=\\\"color: #fff;\\\" class=\\\"color-changed\\\" data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\"\\n                      href=\\\"#collapse{{i}}\\\">\\n                      {{p?.name}}\\n                    </a>\\n                  </td>\\n                  <td>{{p?.date | date:'dd/MMM/yyyy'}}</td>\\n                  <td>\\n                    {{p?.paid_amount && p?.paid_amount>'0.1' ? (p?.paid_amount | currency) : ''}}<br>\\n                  </td>\\n                  <td>\\n                    <span [ngClass]=\\\"{'red-color':p?.is_pending}\\\">\\n                      {{p?.outstanding_amount && p?.outstanding_amount > 0 ? (p?.outstanding_amount | currency) : ''}}\\n                    </span>\\n                  </td>\\n                  <td>\\n                    {{p?.amount ? ((p?.amount || 0) | currency) : ''}}\\n                  </td>\\n                  <td>\\n                    <button *ngIf=\\\"!p.calc_payment_amount && p.penalty\\\"\\n                      (click)=\\\"showPenaltyPaymentPopup(p, i, 'penalty-popup', p.id)\\\"\\n                      title=\\\"{{'table.title.editPenalty' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                        src=\\\"assets/img/stamp.png\\\" alt=\\\"img\\\"></button>\\n\\n                    <button *ngIf=\\\"!p.calc_payment_amount && p.penalty\\\" (click)=\\\"deletePenaltyPaymentPopup(p.penalty)\\\"\\n                      title=\\\"{{'table.title.deletePenalty' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                        src=\\\"assets/img/ic_delete.png\\\" alt=\\\"img\\\"></button>\\n                  </td>\\n                  <td>\\n                    <button *ngIf=\\\"p.commission && p.commission.payment\\\"\\n                      (click)=\\\"editCollectionCommReceipt(p.commission.payment)\\\"\\n                      title=\\\"{{'table.title.editCCPayment' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                        src=\\\"assets/img/ic_commission.png\\\" alt=\\\"img\\\"></button>\\n\\n                    <button *ngIf=\\\"p.commission && p.commission.payment\\\"\\n                      (click)=\\\"deleteCollectionCommReceipt(p.commission.payment)\\\"\\n                      title=\\\"{{'table.title.deleteCCPayment' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                        src=\\\"assets/img/ic_delete.png\\\" alt=\\\"img\\\"></button>\\n                    <br>\\n                    <button *ngIf=\\\"p.commission && p.commission.purchase_payment\\\"\\n                      (click)=\\\"editCollectionCommReceipt(p.commission.purchase_payment)\\\"\\n                      title=\\\"{{'table.title.editPCPayment' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                        src=\\\"assets/img/ic_commission.png\\\" alt=\\\"img\\\"></button>\\n\\n                    <button *ngIf=\\\"p.commission && p.commission.purchase_payment\\\"\\n                      (click)=\\\"deleteCollectionCommReceipt(p.commission.purchase_payment)\\\"\\n                      title=\\\"{{'table.title.deletePCPayment' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                        src=\\\"assets/img/ic_delete.png\\\" alt=\\\"img\\\"></button>\\n                    <br>\\n                    <button *ngIf=\\\"p.commission && p.commission.agent_payment\\\"\\n                      (click)=\\\"editCollectionCommReceipt(p.commission.agent_payment)\\\"\\n                      title=\\\"{{'table.title.editACPayment' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                        src=\\\"assets/img/ic_commission.png\\\" alt=\\\"img\\\"></button>\\n\\n                    <button *ngIf=\\\"p.commission && p.commission.agent_payment\\\"\\n                      (click)=\\\"deleteCollectionCommReceipt(p.commission.agent_payment)\\\"\\n                      title=\\\"{{'table.title.deleteACPayment' | translate}}\\\" class=\\\"action-icon\\\"><img\\n                        src=\\\"assets/img/ic_delete.png\\\" alt=\\\"img\\\"></button>\\n\\n                  </td>\\n                </tr>\\n\\n\\n                <tr id=\\\"collapse{{i}}\\\" class=\\\"panel-collapse collapse\\\">\\n                  <td colspan=\\\"8\\\" style=\\\"background: #fff;\\\">\\n                    <table>\\n                      <thead style=\\\"background: #00B96F; color: #fff;\\\">\\n                        <th [style.width]=\\\"'240px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.concept' | translate}}\\n                        </th>\\n                        <th [style.width]=\\\"'300px'\\\" [style.color]=\\\"'#fff'\\\">\\n                          {{'quickVisualization.paymentDate' | translate}}</th>\\n                        <th [style.width]=\\\"'300px'\\\" [style.color]=\\\"'#fff'\\\">\\n                          {{'quickVisualization.paidByUser' | translate}}</th>\\n                        <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">\\n                          {{'quickVisualization.paymentMethods' | translate}}</th>\\n                        <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">\\n                          {{'quickVisualization.paymentAttachment' | translate}}</th>\\n                        <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">\\n                          {{'quickVisualization.paymentDescription' | translate}}</th>\\n                        <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.action' | translate}}\\n                        </th>\\n                      </thead>\\n                      <tbody *ngIf=\\\"p?.collection_paymentss?.length>0\\\">\\n                        <ng-container *ngFor=\\\"let stats of p?.collection_paymentss; let s=index\\\">\\n                          <tr\\n                            *ngIf=\\\"stats.payment_type==1 || stats.payment_type==3 || stats.payment_type==4 || stats.payment_type==5\\\">\\n                            <td [style.backgroundColor]=\\\"'#fff'\\\" [style.color]=\\\"'#222'\\\">\\n                              {{p?.name || 'NA'}}\\n                            </td>\\n                            <td>\\n                              {{stats.payment_date ? (stats.payment_date | date:'dd/MMM/yyyy') : 'NA'}}\\n                            </td>\\n                            <td>\\n                              <span> {{stats?.amount && stats?.amount>'0.1'? (stats?.amount | currency) : ''}}</span>\\n                            </td>\\n                            <td>\\n                              <span> {{stats?.payment_method?.name || 'NA'}}</span>\\n                            </td>\\n                            <td>\\n                              <a class=\\\"green-color fontW500\\\" *ngIf=\\\"stats?.key!='total'\\\" target=\\\"_blank\\\"\\n                                href=\\\"{{stats?.receipt}}\\\">\\n                                {{'quickVisualization.view' | translate}}\\n                              </a>\\n                            </td>\\n                            <td>\\n                              <button class=\\\"action-icon\\\" *ngIf=\\\"stats?.description\\\"\\n                                (click)=\\\"showDescription(stats?.description, 1)\\\">\\n                                <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                              </button>\\n                            </td>\\n                            <td>\\n                              <button class=\\\"action-icon\\\" (click)=\\\"showUpdatePaymentPopup(stats, i, s)\\\">\\n                                <img src=\\\"assets/img/edit.png\\\" alt=\\\"img\\\">\\n                              </button>\\n                              <button [ngClass]=\\\"{'highlight': stats?.id==last_payment_id}\\\"\\n                                [disabled]=\\\"stats?.id!=last_payment_id\\\" class=\\\"action-icon\\\"\\n                                (click)=\\\"deletePayment(stats?.parent_id, i, s)\\\">\\n                                <img src=\\\"assets/img/ic_delete.png\\\" alt=\\\"img\\\">\\n                              </button>\\n                            </td>\\n                          </tr>\\n                        </ng-container>\\n                      </tbody>\\n                    </table>\\n                  </td>\\n                </tr>\\n\\n              </tbody>\\n            </table>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#updatePyamentModal\\\" #updatePaymentModalOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"updatePyamentModal\\\">\\n  <div class=\\\"modal-dialog fadeIndown modal-lg\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4>{{'quickVisualization.editPaymentDetails' | translate}}</h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #updatePaymentModalClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeUpdatePaymentModal(); addForm.reset()\\\">&times;</button>\\n      </div>\\n\\n      <form autocomplete=\\\"off\\\" class=\\\"form-horizontal padding0\\\" role=\\\"form\\\" ngNativeValidate #addForm=\\\"ngForm\\\"\\n        (ngSubmit)=\\\"updateCollectionPayment(addForm.value)\\\">\\n        <div class=\\\"modal-body\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"spacer40\\\"></div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentMethod' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_method\\\" #applyPaymentMethodId required class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"payment_method_id\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentMethod' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentMethods\\\" [value]=\\\"bt.id\\\"> {{bt?.name}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <!-- <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.chooseBank' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                        <select name=\\\"payment_bank\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"bank_id\\\" (ngModelChange)=\\\"get()\\\">\\n                              <option value=\\\"\\\">{{'viewCollections.chooseBank' | translate}}</option>\\n                              <option *ngFor=\\\"let bt of paymentBanks\\\" [ngValue]=\\\"bt\\\"\\n                              [selected]=\\\"bt.bank_id == true\\\"> {{bt?.name}} | {{bt?.account_number}}</option>\\n                        </select>\\n                  </div>\\n                </div>\\n              </div> -->\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentReceipt' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <p *ngIf=\\\"docFile\\\">\\n                    <span>\\n                      <a target=\\\"_blank\\\" href=\\\"{{docFile}}\\\">{{'quickVisualization.clickToViewReceipt' | translate}}</a>\\n                    </span>\\n                    <span>\\n                      <a class=\\\"remove\\\" (click)=\\\"docFile=''\\\"><img src=\\\"assets/img/remove-icon.png\\\" alt=\\\"img\\\"></a>\\n                    </span>\\n                  </p>\\n                  <input *ngIf=\\\"!docFile\\\" type=\\\"file\\\" name=\\\"docFile\\\" #docsFile1\\n                    accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                    (change)=\\\"onSelectFile($event.target.files, 'docFile')\\\">\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.paymentDate' | translate}}</label><span class=\\\"color-red\\\">*</span>\\n                <div class=\\\"form-group\\\">\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <p-calendar dateFormat=\\\"dd/M/yy\\\" class=\\\"form-control\\\" autocomplete=\\\"off\\\" [(ngModel)]=\\\"payment_date\\\"\\n                    [style]=\\\"{'width':'100%'}\\\" name=\\\"date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\"\\n                    (onSelect)=\\\"onSelect($event)\\\" [maxDate]=\\\"today\\\" showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\"\\n                    [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.description' | translate}}</label>\\n                <div class=\\\"form-group\\\">\\n                  <textarea rows=\\\"3\\\" [(ngModel)]=\\\"description\\\" name=\\\"description\\\" class=\\\"form-control\\\"></textarea>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"btn-cont text-right\\\">\\n                <button type=\\\"submit\\\" class=\\\"btn btn-primary-new\\\">\\n                  <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                  {{'addForm.updateBtn' | translate}}</button>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#coll-receipt-Modal\\\" #collectionReceiptOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"coll-receipt-Modal\\\">\\n  <div class=\\\"modal-dialog fadeIndown modal-lg\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4>{{'viewCollections.commissionPayment' | translate}}</h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #collectionReceiptClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeCollReceiptModal(); addForm.reset()\\\">&times;</button>\\n      </div>\\n\\n      <form autocomplete=\\\"off\\\" class=\\\"form-horizontal padding0\\\" role=\\\"form\\\" ngNativeValidate #addForm=\\\"ngForm\\\"\\n        (ngSubmit)=\\\"applyCollectionPayment()\\\">\\n        <div class=\\\"modal-body\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"spacer40\\\"></div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.chooseCommissionType' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"commission_type\\\" #collectionTypeSelect required class=\\\"form-control\\\"\\n                    (change)=\\\"setCommissionType($event.target.value)\\\" [(ngModel)]=\\\"commission_type\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.chooseCommissionType' | translate}}</option>\\n                    <option value=\\\"1\\\">{{'viewCollections.purchaseCommission' | translate}}</option>\\n                    <option value=\\\"2\\\">{{'viewCollections.collectionCommission' | translate}}</option>\\n                    <option value=\\\"3\\\">{{'viewCollections.agentCommission' | translate}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\" *ngIf=\\\"commission_type==1\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentConcept' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_choice\\\" #applyPaymentChoiceId1 required class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"payment_choice_id\\\" (ngModelChange)=\\\"setPaymentAmount($event)\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentConcept' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentConcepts\\\" [ngValue]=\\\"bt\\\"\\n                      [disabled]=\\\"bt?.payment_made==0 || bt?.purchase_payment\\\"> {{bt?.payment_choice?.name}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\" *ngIf=\\\"commission_type==3\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentConcept' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_choice\\\" #applyPaymentChoiceId1 required class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"payment_choice_id\\\" (ngModelChange)=\\\"setPaymentAmount($event)\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentConcept' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentConcepts\\\" [ngValue]=\\\"bt\\\"\\n                      [disabled]=\\\"bt?.payment_made==0 || bt?.agent_payment\\\"> {{bt?.payment_choice?.name}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\" *ngIf=\\\"commission_type==2\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentConcept' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_choice\\\" #applyPaymentChoiceId2 required class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"payment_choice_id\\\" (ngModelChange)=\\\"setPaymentAmount($event)\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentConcept' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentConcepts\\\" [ngValue]=\\\"bt\\\"\\n                      [disabled]=\\\"bt?.payment_made==0 || bt?.payment\\\"> {{bt?.payment_choice?.name}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentMethod' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_method\\\" required #applyPaymentMethodId1 class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"payment_method_id\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentMethod' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentMethods\\\" [value]=\\\"bt.id\\\"> {{bt?.name}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.enterPaymentAmt' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <input autocomplete=\\\"off\\\" readonly required type=\\\"number\\\" step=\\\"0.01\\\" min=\\\"0\\\" class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"paymentAmount\\\" name=\\\"paymentAmount\\\">\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentReceipt' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <input type=\\\"file\\\" name=\\\"docFile\\\" #docsFile2\\n                    accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                    (change)=\\\"onSelectFile($event.target.files, 'docFile')\\\">\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.paymentDate' | translate}} <span class=\\\"color-red\\\">*</span> </label>\\n                <div class=\\\"form-group\\\">\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <p-calendar dateFormat=\\\"dd/M/yy\\\" class=\\\"form-control\\\" autocomplete=\\\"off\\\" [style]=\\\"{'width':'100%'}\\\"\\n                    name=\\\"date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\" (onSelect)=\\\"onSelect($event)\\\"\\n                    [maxDate]=\\\"today\\\" showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\"\\n                    yearRange=\\\"2000:2040\\\"></p-calendar>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.description' | translate}}</label>\\n                <div class=\\\"form-group\\\">\\n                  <textarea rows=\\\"3\\\" [(ngModel)]=\\\"description\\\" name=\\\"description\\\"\\n                    class=\\\"form-control\\\">{{description || ''}}</textarea>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-12\\\" *ngIf=\\\"commission_type!=3 || (commission_type==3 && is_external_agent==1)\\\">\\n              <div class=\\\"btn-cont text-right\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary-new\\\" (click)=\\\"invoiceKeys = invoiceKeys ? false : true\\\">\\n                  {{'viewCollections.addInvice' | translate}}</button>\\n              </div>\\n            </div>\\n\\n            <div *ngIf=\\\"invoiceKeys && !(is_external_agent==0 && commission_type==3)\\\" class=\\\"row\\\">\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.invoiceDate' | translate}} </label>\\n                  <div class=\\\"form-group\\\">\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <p-calendar dateFormat=\\\"dd/M/yy\\\" class=\\\"form-control\\\" autocomplete=\\\"off\\\" [style]=\\\"{'width':'100%'}\\\"\\n                      name=\\\"invoice_date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\"\\n                      (onSelect)=\\\"onSelectInvoiceDate($event)\\\" [maxDate]=\\\"today\\\" showButtonBar=\\\"true\\\"\\n                      [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.invoiceID' | translate}} </label>\\n                  <div class=\\\"form-group\\\">\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <input type=\\\"text\\\" [(ngModel)]=\\\"invoice_id\\\" name=\\\"invoice_id\\\" class=\\\"form-control\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.uploadPDF' | translate}}</label>\\n                  <div class=\\\"form-group\\\">\\n                    <input type=\\\"file\\\" name=\\\"pdf_url\\\" #docsFile3\\n                      accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                      (change)=\\\"onSelectFile($event.target.files, 'pdf_url')\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.uploadXML' | translate}}</label>\\n                  <div class=\\\"form-group\\\">\\n                    <input type=\\\"file\\\" name=\\\"xml_url\\\" #docsFile4\\n                      accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                      (change)=\\\"onSelectFile($event.target.files, 'xml_url')\\\">\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"row\\\" *ngIf=\\\"invoiceKeys || (is_external_agent==0 && commission_type==3)\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"btn-cont text-right\\\">\\n                <button type=\\\"submit\\\" class=\\\"btn btn-primary-new\\\">\\n                  <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                  {{'addForm.addBtn' | translate}}</button>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#edit-coll-receipt-Modal\\\" #editCollectionReceiptOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"edit-coll-receipt-Modal\\\">\\n  <div class=\\\"modal-dialog fadeIndown modal-lg\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4>{{'viewCollections.commissionPayment' | translate}}</h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #editCollectionReceiptClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeEditCollReceiptModal(); addForm.reset()\\\">&times;</button>\\n      </div>\\n\\n      <form autocomplete=\\\"off\\\" class=\\\"form-horizontal padding0\\\" role=\\\"form\\\" ngNativeValidate #addForm=\\\"ngForm\\\"\\n        (ngSubmit)=\\\"updateCollectionCommPayment()\\\">\\n        <div class=\\\"modal-body\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"spacer40\\\"></div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentMethod' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <select name=\\\"payment_method\\\" required #applyPaymentMethodId1 class=\\\"form-control\\\"\\n                    [(ngModel)]=\\\"payment_method_id\\\">\\n                    <option value=\\\"\\\">{{'viewCollections.choosePaymentMethod' | translate}}</option>\\n                    <option *ngFor=\\\"let bt of paymentMethods\\\" [value]=\\\"bt.id\\\"> {{bt?.name}}</option>\\n                  </select>\\n                </div>\\n              </div>\\n            </div>\\n            <!-- <div class=\\\"col-12\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.enterPaymentAmt' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                    <input autocomplete=\\\"off\\\" required type=\\\"number\\\" step=\\\"0.01\\\" min=\\\"0\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"paymentAmount\\\" \\n                        name=\\\"paymentAmount\\\">\\n                  </div>\\n                </div>\\n              </div> -->\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.choosePaymentReceipt' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                <div class=\\\"form-group\\\">\\n                  <p *ngIf=\\\"docFile\\\">\\n                    <span>\\n                      <a target=\\\"_blank\\\" href=\\\"{{docFile}}\\\">{{'quickVisualization.clickToViewReceipt' | translate}}</a>\\n                    </span>\\n                    <span>\\n                      <a class=\\\"remove\\\" (click)=\\\"docFile=''\\\"><img src=\\\"assets/img/remove-icon.png\\\" alt=\\\"img\\\"></a>\\n                    </span>\\n                  </p>\\n                  <input *ngIf=\\\"!docFile\\\" type=\\\"file\\\" name=\\\"docFile\\\" #docsFile1\\n                    accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                    (change)=\\\"onSelectFile($event.target.files, 'docFile')\\\">\\n                </div>\\n              </div>\\n              <!-- <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.choosePaymentReceipt' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                        <input type=\\\"file\\\" name=\\\"docFile\\\" #docsFile2\\n                        accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                        (change)=\\\"onSelectFile($event.target.files)\\\">\\n                    </div>\\n                </div> -->\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.paymentDate' | translate}} <span class=\\\"color-red\\\">*</span> </label>\\n                <div class=\\\"form-group\\\">\\n                  <div class=\\\"clearfix\\\"></div>\\n                  <p-calendar dateFormat=\\\"dd/M/yy\\\" class=\\\"form-control\\\" autocomplete=\\\"off\\\" [(ngModel)]=\\\"payment_date\\\"\\n                    [style]=\\\"{'width':'100%'}\\\" name=\\\"date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\"\\n                    (onSelect)=\\\"onSelect($event)\\\" [maxDate]=\\\"today\\\" showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\"\\n                    [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n              <div class=\\\"form-group-2\\\">\\n                <label>{{'viewCollections.description' | translate}}</label>\\n                <div class=\\\"form-group\\\">\\n                  <textarea rows=\\\"3\\\" [(ngModel)]=\\\"description\\\" name=\\\"description2\\\" class=\\\"form-control\\\"></textarea>\\n                </div>\\n              </div>\\n            </div>\\n            <!-- <div class=\\\"col-12\\\">\\n                <div class=\\\"btn-cont text-right\\\">\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary-new\\\">\\n                        <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                        {{'addForm.addBtn' | translate}}</button>\\n                </div>\\n              </div> -->\\n\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.invoiceDate' | translate}} </label>\\n                  <div class=\\\"form-group\\\">\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <p-calendar dateFormat=\\\"dd/M/yy\\\" class=\\\"form-control\\\" autocomplete=\\\"off\\\" [(ngModel)]=\\\"invoice_date\\\"\\n                      [style]=\\\"{'width':'100%'}\\\" name=\\\"invoice_date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\"\\n                      showIcon=\\\"true\\\" (onSelect)=\\\"onSelectInvoiceDate($event)\\\" [maxDate]=\\\"today\\\" showButtonBar=\\\"true\\\"\\n                      [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.invoiceID' | translate}} </label>\\n                  <div class=\\\"form-group\\\">\\n                    <div class=\\\"clearfix\\\"></div>\\n                    <input type=\\\"text\\\" [(ngModel)]=\\\"invoice_id\\\" name=\\\"invoice_id\\\" class=\\\"form-control\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.uploadPDF' | translate}} </label>\\n                  <div class=\\\"form-group\\\">\\n                    <p *ngIf=\\\"pdf_url\\\">\\n                      <span>\\n                        <a target=\\\"_blank\\\"\\n                          href=\\\"{{pdf_url}}\\\">{{'quickVisualization.clickToViewReceipt' | translate}}</a>\\n                      </span>\\n                      <span>\\n                        <a class=\\\"remove\\\" (click)=\\\"pdf_url=''\\\"><img src=\\\"assets/img/remove-icon.png\\\" alt=\\\"img\\\"></a>\\n                      </span>\\n                    </p>\\n                    <input *ngIf=\\\"!pdf_url\\\" type=\\\"file\\\" name=\\\"pdf_url\\\" #docsFile3\\n                      accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                      (change)=\\\"onSelectFile($event.target.files, 'pdf_url')\\\">\\n                  </div>\\n                </div>\\n\\n                <!-- <div class=\\\"form-group-2\\\">\\n                      <label>{{'viewCollections.uploadPDF' | translate}}</label>\\n                      <div class=\\\"form-group\\\">\\n                          <input type=\\\"file\\\" name=\\\"pdf_url\\\" #docsFile3\\n                          accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                          (change)=\\\"onSelectFile($event.target.files, 'pdf_url')\\\">\\n                      </div>\\n                  </div> -->\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                  <label>{{'viewCollections.uploadXML' | translate}} </label>\\n                  <div class=\\\"form-group\\\">\\n                    <p *ngIf=\\\"xml_url\\\">\\n                      <span>\\n                        <a target=\\\"_blank\\\"\\n                          href=\\\"{{xml_url}}\\\">{{'quickVisualization.clickToViewReceipt' | translate}}</a>\\n                      </span>\\n                      <span>\\n                        <a class=\\\"remove\\\" (click)=\\\"xml_url=''\\\"><img src=\\\"assets/img/remove-icon.png\\\" alt=\\\"img\\\"></a>\\n                      </span>\\n                    </p>\\n                    <input *ngIf=\\\"!xml_url\\\" type=\\\"file\\\" name=\\\"xml_url\\\" #docsFile4\\n                      accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                      (change)=\\\"onSelectFile($event.target.files, 'xml_url')\\\">\\n                  </div>\\n                </div>\\n\\n                <!-- <div class=\\\"form-group-2\\\">\\n                      <label>{{'viewCollections.uploadXML' | translate}}</label>\\n                      <div class=\\\"form-group\\\">\\n                          <input type=\\\"file\\\" name=\\\"xml_url\\\" #docsFile4\\n                          accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                          (change)=\\\"onSelectFile($event.target.files, 'xml_url')\\\">\\n                      </div>\\n                  </div> -->\\n              </div>\\n              <div class=\\\"col-12\\\">\\n                <div class=\\\"btn-cont text-right\\\">\\n                  <button type=\\\"submit\\\" class=\\\"btn btn-primary-new\\\">\\n                    <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                    {{'addForm.addBtn' | translate}}</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#des-modal\\\" #viewDesModal></a>\\n<div class=\\\"modal animated\\\" id=\\\"des-modal\\\">\\n  <div class=\\\"modal-dialog fadeIndown\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4 *ngIf=\\\"title==1\\\">{{'quickVisualization.paymentDescription' | translate}}</h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #viewDesModalClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeDescModal()\\\">&times;</button>\\n      </div>\\n\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"form-group-2\\\">\\n          <div class=\\\"form-group\\\">\\n            <textarea rows=\\\"4\\\" readonly required class=\\\"form-control note\\\" name=\\\"description\\\"\\n              [(ngModel)]=\\\"description\\\"></textarea>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#collection-folders\\\" #foldersModalOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"collection-folders\\\">\\n  <div class=\\\"modal-dialog fadeIndown\\\">\\n    <div class=\\\"modal-content notary-avail\\\">\\n      <div class=\\\"modal-header popup-header\\\">\\n        <h4>{{'table.title.collectionFolders' | translate}}</h4>\\n        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n          #foldersModalClose>&times;</button>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeFoldersModal()\\\">&times;</button>\\n      </div>\\n\\n      <div class=\\\"cust-tabs\\\" style=\\\"padding: 20px;    height: 500px;\\n                  overflow-y: scroll;\\\">\\n        <!-- <div id=\\\"accordion\\\" class=\\\"table-responsive main-table\\\"> -->\\n        <table class=\\\"table table-bordered table-striped folder-table\\\">\\n          <thead>\\n            <tr>\\n              <th [style.width]=\\\"'310px'\\\" [style.z-index]=\\\"100\\\">\\n                <b>{{'quickVisualization.name' | translate}}</b>\\n              </th>\\n              <th [style.width]=\\\"'130px'\\\">\\n                <b>{{'quickVisualization.docsCount' | translate}}</b>\\n              </th>\\n              <!-- <th [style.width]=\\\"'120px'\\\">\\n                                  <b>{{'quickVisualization.lastCommit' | translate}}</b>\\n                              </th> -->\\n            </tr>\\n          </thead>\\n          <tbody *ngFor=\\\"let p of collectionFolders; let i=index\\\">\\n            <tr>\\n              <td>\\n                <a class=\\\"color-changed\\\" data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapse{{i}}\\\">\\n                  <img src=\\\"assets/img/ic_folder_1.svg\\\">{{p?.name}}\\n                </a>\\n              </td>\\n              <td>{{p?.folder_docs?.length || 0}}</td>\\n              <!-- <td>{{p?.updated_at | date:'dd/MMM/yyyy'}}</td> -->\\n            </tr>\\n\\n            <tr id=\\\"collapse{{i}}\\\" class=\\\"panel-collapse collapse\\\">\\n              <td colspan=\\\"3\\\">\\n                <!-- add document -->\\n                <div class=\\\"white-bg\\\">\\n                  <div class=\\\"row\\\">\\n                    <div class=\\\"col-8\\\">\\n                      <p class=\\\"p16 marginB0\\\">{{'addCollection.addDocxNameAndChooseFile' | translate}}</p>\\n                    </div>\\n                    <div class=\\\"col-3 text-right\\\">\\n                      <a class=\\\"add\\\" href=\\\"javascript://\\\" (click)=\\\"addDocs(i, p.id)\\\">\\n                        <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                        {{'commonBlock.add' | translate}}\\n                      </a>\\n\\n                      <ng-template #noAddPermissiom>\\n                        <a class=\\\"add\\\" href=\\\"javascript://\\\">{{'commonBlock.add' | translate}}</a>\\n                      </ng-template>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div class=\\\"form-group-2\\\">\\n                  <div class=\\\"form-group\\\">\\n                    <input type=\\\"text\\\" autocomplete=\\\"off\\\" name=\\\"docsName\\\" [(ngModel)]=\\\"docsName\\\">\\n                  </div>\\n                </div>\\n                <div class=\\\"form-group-2\\\">\\n                  <div class=\\\"form-group\\\">\\n                    <input type=\\\"file\\\" name=\\\"docFile\\\" #docsFile\\n                      accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                      (change)=\\\"onSelectFile($event.target.files, 'docFile')\\\">\\n                  </div>\\n                </div>\\n\\n                <!-- list all documents -->\\n                <div class=\\\"write-note white-bg\\\">\\n                  <div class=\\\"wn-block\\\" *ngFor=\\\"let item of p?.folder_docs; let s=index\\\">\\n                    <div class=\\\"circle\\\">\\n                      <span></span>\\n                    </div>\\n                    <a class=\\\"edit\\\" href=\\\"javascript://\\\"\\n                      (click)=\\\"editDocsPopup(item, i, s)\\\">{{'addCollection.edit' | translate}}</a>\\n\\n                    <a class=\\\"delete\\\" href=\\\"javascript://\\\"\\n                      (click)=\\\"deleteDocsPopup(item, i, s)\\\" *ngIf=\\\"payment_folder_id != p.id\\\">{{'commonBlock.delete' | translate}}</a>\\n\\n                    <ng-template #noDeletePermissiom>\\n                      <a class=\\\"delete\\\" href=\\\"javascript://\\\" *ngIf=\\\"payment_folder_id != p.id\\\">{{'commonBlock.delete' | translate}}</a>\\n                    </ng-template>\\n                    <p class=\\\"time\\\" title=\\\"'Click to view'\\\">\\n                      <a target=\\\"_blank\\\" href=\\\"{{item.display_name}}\\\">\\n                        {{item?.name}}\\n                      </a></p>\\n                  </div>\\n                </div>\\n                <div class=\\\"padding20 center\\\" *ngIf=\\\"p?.folder_docs?.length == 0\\\">\\n                  <p class=\\\"show-not-found\\\">\\n                    {{'message.error.noDocumentUploadedYet' | translate}}\\n                  </p>\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n          <div class=\\\"padding20 center\\\" *ngIf=\\\"collectionFolders?.length == 0\\\">\\n            <p class=\\\"show-not-found\\\">\\n              {{'message.error.nnFolderCreated' | translate}}\\n            </p>\\n          </div>\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- Trigger the modal with a button -->\\n<button type=\\\"button\\\" style=\\\"display: none;\\\" class=\\\"btn btn-info\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal\\\"\\n  #localityOpen>Open Modal</button>\\n\\n<!-- Modal -->\\n<div id=\\\"myModal\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\n  <div class=\\\"modal-dialog\\\">\\n\\n    <!-- Modal content-->\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header my-modal-header\\\">\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeEditModal()\\\">&times;</button>\\n        <h4 class=\\\"modal-title\\\"> {{'editDocName.title' | translate}}</h4>\\n      </div>\\n      <form class=\\\"form-horizontal form-model0P\\\" role=\\\"form\\\" novalidate #addForm=\\\"ngForm\\\"\\n        (ngSubmit)=\\\"checkIfLocalitySpanishNameEntered(addForm)\\\">\\n        <div class=\\\"modal-body model-body10P\\\">\\n          <div class=\\\"form-group\\\">\\n            <input autocomplete=\\\"off\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"{{'editDocName.name' | translate}}\\\"\\n              id=\\\"name_en\\\" required [(ngModel)]=\\\"modelForDoc.name_en\\\" name=\\\"name_en\\\" #name_en=\\\"ngModel\\\">\\n          </div>\\n\\n        </div>\\n        <div class=\\\"modal-footer btn-cont\\\">\\n          <button type=\\\"submit\\\" [disabled]=\\\"addForm.invalid\\\" class=\\\"btn btn-primary-new\\\">{{'editDocName.submit' | translate}}</button>\\n          <button style=\\\"display:none;\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\" #localityClose\\n            data-dismiss=\\\"modal\\\">{{'addForm.close' | translate}}</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"closeEditModal()\\\">{{'editDocName.close' | translate}}</button>\\n        </div>\\n      </form>\\n\\n    </div>\\n\\n  </div>\\n</div>\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport * as moment from 'moment';\nimport { UserModel } from 'src/app/models/inhouse-users.model';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { IProperty } from 'src/app/common/property';\nimport { SellerSelections } from 'src/app/models/addProperty.model';\nimport { Constant } from 'src/app/common/constants';\nimport { ApiConstants } from 'src/app/common/api-constants';\nimport { AdminService } from 'src/app/services/admin.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PropertyService } from 'src/app/services/property.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Notes } from '../../models/leads.model';\nimport { CommonService } from '../../services/common.service';\nimport { NgForm, FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { ToastrService } from 'ngx-toastr';\nimport { ExcelDownload } from 'src/app/common/excelDownload';\nimport {Document} from 'src/app/models/document.model';\ndeclare let swal: any;\n\n@Component({\n  selector: 'app-collections',\n  templateUrl: './collections.component.html',\n  styleUrls: ['./collections.component.css'],\n  providers: [Notes, Document]\n})\nexport class CollectionsComponent implements OnInit {\n\n  public parameter: IProperty = {};\n  public location: IProperty = {};\n  items: any = [];\n  total: any = 0;\n  configurations: any = [];\n  countries: any;\n  property_status: string;\n  price_sort = 1;\n  availability_sort = 1;\n  lead_sort = 1;\n  keyword: string;\n  selecter_seller: SellerSelections;\n  allSellers: Array<SellerSelections>;\n  allExtBrokers: Array<UserModel>;\n  allUsers: Array<UserModel>;\n  property: any;\n  reason: string;\n  item: any;\n  locale: any;\n  property_collection_id: string;\n  docFile: string;\n  payment_date: any = new Date();\n  collection_commission_id: number;\n  payment_choice_id: any;\n  surplus_payment_choice_id: any;\n  payment_method_id: number;\n  bank_id: number;\n  description: string;\n  typeOfPayment: string;\n  collectionIndex: number;\n  last_payment_id: string;\n  selectedPaymentConcept: any;\n  public scrollbarOptions = { axis: 'y', theme: 'dark' };\n  invoiceKeys: boolean;\n  xml_url: any;\n  pdf_url: any;\n  invoice_id: string;\n  invoice_date: any;\n  currentAmount: any;\n  penaltyPercent: number;\n  paymentAmount: any;\n  ivaAmount: any;\n  cashSum: any;\n  paymentConcepts: Array<any>;\n  add_collection_commission: any;\n  percent: number;\n  amount: number;\n  selectedCollectionCommission: any;\n  payment_type: any;\n  payment_id: any;\n  surplus_payment_type: string;\n  paymentMethods: Array<any>;\n  pendingPayment: any;\n  penaltyAmount: any;\n  paymentDate: Date;\n  calculatedPayAmount: any;\n  commission_type: any;\n  today: Date;\n  selectedItem: any;\n  is_external_agent: any;\n  collectionCommission: any;\n  penaltyForm: FormGroup;\n  showError: boolean;\n  surplus_amt: any;\n  disablePayToRemaining = true;\n  isApplyBtnClicked = false;\n  title: any;\n  collectionFolders: Array<any>;\n  docs: Array<any>;\n  docsName: string;\n  folderIndex: number;\n  paymentBanks: Array<any>;\n  payment_bank: any;\n  seller_type: any;\n  isPenaltyFormSub: boolean;\n  cashLimit: any;\n  private exportfinalData: Array<any>;\n  folderId: number;\n  payment_folder_id: number;\n\n  @ViewChild('viewDesModal') viewDesModal: ElementRef;\n  @ViewChild('viewDesModalClose') viewDesModalClose: ElementRef;\n  @ViewChild('applyPaymentChoiceId') applyPaymentChoiceId: ElementRef;\n  @ViewChild('applyPaymentMethodId') applyPaymentMethodId: ElementRef;\n  @ViewChild('applyPaymentChoiceId1') applyPaymentChoiceId1: ElementRef;\n  @ViewChild('applyPaymentChoiceId2') applyPaymentChoiceId2: ElementRef;\n  @ViewChild('applyPaymentMethodId1') applyPaymentMethodId1: ElementRef;\n  @ViewChild('modalOpen') modalOpen: ElementRef;\n  @ViewChild('modalClose') modalClose: ElementRef;\n  @ViewChild('notesModalOpen') notesModalOpen: ElementRef;\n  @ViewChild('notesModalClose') notesModalClose: ElementRef;\n  @ViewChild('paymentModalOpen') paymentModalOpen: ElementRef;\n  @ViewChild('paymentModalClose') paymentModalClose: ElementRef;\n  @ViewChild('editPaymentModalOpen') editPaymentModalOpen: ElementRef;\n  @ViewChild('editPaymentModalClose') editPaymentModalClose: ElementRef;\n  @ViewChild('updatePaymentModalOpen') updatePaymentModalOpen: ElementRef;\n  @ViewChild('updatePaymentModalClose') updatePaymentModalClose: ElementRef;\n  @ViewChild('viewCollectionClose') viewCollectionClose: ElementRef;\n  @ViewChild('collectionReceiptOpen') collectionReceiptOpen: ElementRef;\n  @ViewChild('collectionReceiptClose') collectionReceiptClose: ElementRef;\n  @ViewChild('editCollectionReceiptOpen') editCollectionReceiptOpen: ElementRef;\n  @ViewChild('editCollectionReceiptClose') editCollectionReceiptClose: ElementRef;\n  @ViewChild('penaltyModalOpen') penaltyModalOpen: ElementRef;\n  @ViewChild('penaltyModalClose') penaltyModalClose: ElementRef;\n  @ViewChild('collectionTypeSelect') collectionTypeSelect: ElementRef;\n  @ViewChild('surplusMoneyModalOpen') surplusMoneyModalOpen: ElementRef;\n  @ViewChild('surplusMoneyModalClose') surplusMoneyModalClose: ElementRef;\n  @ViewChild('docsFile1') docsFile1: ElementRef;\n  @ViewChild('docsFile2') docsFile2: ElementRef;\n  @ViewChild('docsFile') docsFile: ElementRef;\n  @ViewChild('foldersModalOpen') foldersModalOpen: ElementRef;\n  @ViewChild('foldersModalClose') foldersModalClose: ElementRef;\n  @ViewChild('localityOpen') localityOpen: ElementRef;\n  @ViewChild('localityClose') localityClose: ElementRef;\n\n  collectionStatusFilter = [\n    { name: 'Up to Date', value: 1 },\n    { name: 'Payment Period', value: 2 },\n    { name: 'Overdue Payment', value: 3 },\n    { name: 'Cancelled', value: 4 },\n    { name: 'Settled', value: 5 },\n    { name: 'Inconsistency', value: 6 },\n    { name: 'Only Commission for sale', value: 7 }];\n\n  constructor(\n    public constant: Constant,\n    public apiConstants: ApiConstants,\n    public admin: AdminService,\n    private propertyService: PropertyService,\n    private spinner: NgxSpinnerService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private translate: TranslateService,\n    public model: Notes,\n    private cs: CommonService,\n    private fb: FormBuilder,\n    private toastr: ToastrService,\n    public modelForDoc: Document\n  ) { }\n\n  ngOnInit() {\n    this.admin.globalSettings$.subscribe(success => {\n      this.cashLimit = success['cash_limit'];\n    });\n    this.isPenaltyFormSub = false;\n    this.invoiceKeys = false;\n    this.showError = false;\n    this.today = new Date();\n    this.commission_type = '';\n    this.parameter.flag = 1;\n    this.model = new Notes();\n    this.initPenaltyForm();\n    this.parameter.itemsPerPage = 25; // this.constant.itemsPerPage;\n    this.parameter.page = this.constant.p;\n    this.parameter.dash_flag = this.propertyService.dash_flag ? this.propertyService.dash_flag : this.constant.dash_flag;\n    this.getPaymentMethods();\n    this.getCountries();\n    this.initCalendarLocale();\n\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.parameter.collection_id = params['id'];\n        this.parameter.dash_flag = 4;\n      }\n    });\n    this.getListing();\n  }\n\n  initCalendarLocale() {\n    if (this.translate.defaultLang === 'en') {\n      this.locale = {\n        firstDayOfWeek: 0,\n        dayNames: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n        dayNamesShort: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        dayNamesMin: ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],\n        monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October',\n          'November', 'December'],\n        monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        today: 'Today',\n        clear: 'Clear',\n        dateFormat: 'mm/dd/yy',\n        weekHeader: 'Wk',\n        dataType: 'string'\n      };\n    } else {\n      this.locale = {\n        firstDayOfWeek: 0,\n        dayNames: ['domingo', 'lunes', 'martes', 'mircoles', 'jueves', 'viernes', 'sbado'],\n        dayNamesShort: ['dom', 'lun', 'mar', 'mi', 'jue', 'vie', 'sb'],\n        dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],\n        monthNames: ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',\n          'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'],\n        monthNamesShort: ['ene', 'feb', 'mar', 'abr', 'may', 'jun',\n          'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\n        today: 'Hoy',\n        clear: 'Clara',\n        dateFormat: 'mm/dd/yy',\n        weekHeader: 'Sm',\n        dataType: 'string'\n      };\n    }\n  }\n\n  initPenaltyForm() {\n    this.penaltyForm = this.fb.group({\n      id: [''],\n      collection_payment_choice_id: ['', [Validators.required]],\n      amount: ['', [Validators.required]],\n      description: [''],\n      percent: ['', Validators.required],\n      payment_concept_amt: ['', Validators.required]\n    });\n  }\n\n  get getPenaltyControls() {\n    return this.penaltyForm.controls;\n  }\n\n  getListing() {\n    this.spinner.show();\n    const input: any = JSON.parse(JSON.stringify(this.parameter));\n    if (this.parameter.deal_to_date && this.parameter.deal_from_date) {\n      input.deal_to_date = this.parameter.deal_to_date;\n      input.deal_from_date = this.parameter.deal_from_date;\n     // console.log('this.parameter.deal_from_date', this.parameter.deal_from_date);\n    }\n    if (this.parameter.min) {\n      input.min = moment(this.parameter.min).format('YYYY-MM-DD');\n    } else {\n      delete input.min;\n    }\n    if (this.parameter.max) {\n      input.max = moment(this.parameter.max).format('YYYY-MM-DD');\n    } else {\n      delete input.max;\n    }\n    if (this.parameter.deal_purchase_date) {\n      input.deal_purchase_date = moment(this.parameter.deal_purchase_date).format('YYYY-MM-DD');\n    } else {\n      delete input.deal_purchase_date;\n    }\n\n    input.is_approved = this.parameter.flag;\n    this.admin.postDataApi('getCollection', input).subscribe(\n      success => {\n      //  console.log('getcollection ', success);\n        this.items = success.data;\n        this.total = success.total_count;\n\n        // fetching payment status\n        for (let index = 0; index < this.items.length; index++) {\n          const element = this.items[index];\n          const dif = (element.deal_price || 0).toFixed(2) - (element.total_deals_sum || 0).toFixed(2);\n          const currency_id = element.currency_id;\n\n          if (!element.total_deals_sum) {\n            element.payment_status = 6;\n          } else if ((dif >= 5 && currency_id == 78) || (dif >= 0.5 && currency_id == 124)) {\n            element.payment_status = 6;\n          } else if (element.next_payment && element.next_payment.date) {\n            // const diff: any = moment().diff(moment(element.next_payment.date, 'YYYY-MM-DD'), 'days', true);\n            // if (diff > 0 && diff <= 5) {\n            //   element.payment_status = 2;\n            // } else if (diff > 5) {\n            //   element.payment_status = 3;\n            // } else if (diff <= 0) {\n            //   element.payment_status = 1;\n            // }\n            element.payment_status = element.collection_status;\n          } else {\n            element.payment_status = 5;\n          }\n\n          // fetching commissions %\n          let cc_percent = 0, cc_received = 0, cc_receipt = 0, cc_invoice = 0, cc_active = 0;\n          let pc_received = 0, pc_receipt = 0, pc_invoice = 0, pc_active = 0;\n          let ac_receipt = 0, ac_invoice = 0, ac_active = 0;\n          for (let i = 0; i < element.collection_commissions.length; i++) {\n            const ele = element.collection_commissions[i];\n            cc_percent = cc_percent + (ele.add_collection_commission ? ele.percent : 0);\n            cc_received = cc_received + (ele.add_collection_commission ? ele.amount : 0);\n            pc_received = pc_received + (ele.add_purchase_commission ? ele.purchase_comm_amount : 0);\n            // console.log('aaaaa', pc_received, ele.purchase_comm_amount)\n            if (ele.add_collection_commission) {\n              cc_active++;\n            }\n            if (ele.payment) {\n              cc_receipt++;\n              if (ele.payment.invoice_id) {\n                cc_invoice++;\n              }\n            }\n\n            if (ele.add_purchase_commission) {\n              pc_active++;\n            }\n            if (ele.purchase_payment) {\n              pc_receipt++;\n              if (ele.purchase_payment.invoice_id) {\n                pc_invoice++;\n              }\n            }\n\n            if (ele.add_agent_commission) {\n              ac_active++;\n            }\n            if (ele.agent_payment) {\n              ac_receipt++;\n              if (ele.agent_payment.invoice_id) {\n                ac_invoice++;\n              }\n            }\n          }\n          // console.log('pc_received', pc_received)\n          element['sum_pc'] = pc_received;\n          element['cc_percent'] = this.numberUptoNDecimal((cc_percent / cc_active), 3);\n          element['cc_received'] = element.iva_percent && element.add_iva_to_cc ?\n            (cc_received + (cc_received * element.iva_percent) / 100) : cc_received;\n          element['cc_receipt'] = cc_receipt == cc_active && cc_receipt != 0 ? 1 : 0;\n          element['cc_invoice'] = cc_invoice == cc_active && cc_invoice != 0 ? 1 : 0;\n          element['pc_received'] = element.iva_percent && element.add_iva_to_pc ?\n            (pc_received + (pc_received * element.iva_percent) / 100) : pc_received;\n          element['pc_receipt'] = pc_receipt == pc_active && pc_receipt != 0 ? 1 : 0;\n          element['pc_invoice'] = pc_invoice == pc_active && pc_invoice != 0 ? 1 : 0;\n\n          element['ac_receipt'] = ac_receipt == ac_active && ac_receipt != 0 ? 1 : 0;\n          element['ac_invoice'] = ac_invoice == ac_active && ac_invoice != 0 ? 1 : 0;\n        }\n\n        this.spinner.hide();\n      },\n      error => {\n        this.spinner.hide();\n      });\n  }\n\n  getPaymentMethods() {\n    this.admin.postDataApi('getPaymentMethods', {})\n      .subscribe(\n        success => {\n          this.paymentMethods = success.data;\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  getCountries() {\n    this.admin.postDataApi('getCountryLocality', {}).subscribe(r => {\n      this.location.countries = r['data'];\n    });\n  }\n\n  getPropertyConfigurations() {\n    this.admin.postDataApi('getPropertyConfigurations', {}).subscribe(r => {\n      this.configurations = r['data'];\n    });\n  }\n\n  onCountryChange(id) {\n    this.parameter.country_id = id;\n    this.location.states = []; this.parameter.state_id = '0';\n    this.location.cities = []; this.parameter.city_id = '0';\n    this.location.localities = []; this.parameter.locality_id = '0';\n    this.parameter.buildings = []; this.parameter.building_id = '0';\n    if (!id || id.toString() === '0') {\n      return false;\n    }\n\n    this.parameter.country_id = id;\n    const selectedCountry = this.location.countries.filter(x => x.id.toString() === id);\n    this.location.states = selectedCountry[0].states;\n  }\n\n  onStateChange(id) {\n    this.location.cities = []; this.parameter.city_id = '0';\n    this.location.localities = []; this.parameter.locality_id = '0';\n    this.parameter.buildings = []; this.parameter.building_id = '0';\n    if (!id || id.toString() === '0') {\n      return false;\n    }\n\n    this.parameter.state_id = id;\n    const selectedState = this.location.states.filter(x => x.id.toString() === id);\n    this.location.cities = selectedState[0].cities;\n  }\n\n  onCityChange(id) {\n    this.location.localities = []; this.parameter.locality_id = '0';\n    this.parameter.buildings = []; this.parameter.building_id = '0';\n    if (!id || id.toString() === '0') {\n      return false;\n    }\n\n    this.parameter.city_id = id;\n    const selectedCountry = this.location.cities.filter(x => x.id.toString() === id);\n    this.location.localities = selectedCountry[0].localities;\n  }\n\n  onLocalityChange(id) {\n    this.parameter.buildings = []; this.parameter.building_id = '0';\n    if (!id || id.toString() === '0') {\n      return false;\n    }\n    this.parameter.locality_id = id;\n  }\n\n  getLocalityBuildings(id) {\n    if (!id || id.toString() === '0') {\n      return false;\n    }\n    this.parameter.locality_id = id;\n    this.spinner.show();\n    this.admin.postDataApi('getLocalityBuildings', this.parameter)\n      .subscribe(\n        success => {\n          this.spinner.hide();\n          this.parameter.buildings = success.data;\n        }, error => {\n          this.spinner.hide();\n        });\n  }\n\n  setBuilding(building_id) {\n    this.parameter.building_id = building_id;\n  }\n\n  changeFlag(flag: number) {\n    this.parameter.dash_flag = flag;\n    this.propertyService.dash_flag = flag;\n    if (flag === 5) {\n      return false;\n    }\n    this.resetDates();\n    this.getListing();\n  }\n\n  changeAppUnappFlag(flag) {\n    this.parameter.flag = flag;\n    this.parameter.page = this.constant.p;\n    this.getListing();\n  }\n\n  sort_by(sort_by) {\n    if (this.parameter.sort_by !== sort_by) {\n      this.parameter.sort_by = sort_by;\n      this.parameter.sort_by_order = 1;\n    } else {\n      this.parameter.sort_by_order = this.parameter.sort_by_order ? 0 : 1;\n    }\n    this.getListing();\n  }\n\n  getPage(page) {\n    this.parameter.page = page;\n    this.getListing();\n  }\n\n  openCancellationModal(item, status) {\n    this.item = item;\n    this.parameter.status = status;\n    this.modalOpen.nativeElement.click();\n  }\n\n  closeModal() {\n    this.modalClose.nativeElement.click();\n  }\n\n  changeStatus(item: any, status: number) {\n    item.is_approved = status;\n    const input = { id: item.id, is_approved: status };\n    this.admin.postDataApi('approveCollection', input).subscribe(r => {\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.collectionStatusChanged'), this.translate.instant('swal.success'));\n    },\n      error => {\n        this.toastr.clear();\n        this.toastr.error(error.error.message, this.translate.instant('swal.error'));\n      });\n  }\n\n  resetFilters() {\n    this.location.countries = JSON.parse(JSON.stringify(this.location.countries));\n    this.onCountryChange('0');\n    this.parameter.is_selected = false;\n    this.parameter.page = this.constant.p;\n    this.parameter.dash_flag = this.constant.dash_flag;\n    this.parameter.total = 0;\n    this.parameter.count_flag = 1;\n    this.resetDates();\n    this.getListing();\n  }\n\n  resetDates() {\n    this.parameter.min = '';\n    this.parameter.max = '';\n  }\n\n  deletePopup(item: any, index: number) {\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' +\n        this.translate.instant('message.error.wantToDeleteCollection'),\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Yes'\n    }).then((result) => {\n      if (result.value) {\n        this.deleteCollection(item, index);\n      }\n    });\n  }\n\n  deleteCollection(item: any, index: number) {\n    this.admin.postDataApi('deleteCollection', { id: item.id }).subscribe(r => {\n      this.toastr.success(this.translate.instant('message.success.deletedSuccessfully'), this.translate.instant('swal.success'));\n      this.items.splice(index, 1);\n    },\n      error => {\n        this.toastr.error(error.error.message, this.translate.instant('swal.error'));\n      });\n  }\n\n  cancelPopup(item: any, index: number, status: number) {\n    const t = status == 1 ?\n      this.translate.instant('message.error.wantToCancelCollection') :\n      this.translate.instant('message.error.wantToActiveCollection');\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' + t,\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Yes'\n    }).then((result) => {\n      if (result.value) {\n        this.cancelPropertyCollections(item, index, status);\n      }\n    });\n  }\n\n  cancelPropertyCollections(item: any, index: number, status: number) {\n    this.admin.postDataApi('cancelPropertyCollections',\n      { property_collection_id: item.id, status: status }).subscribe(r => {\n        const t = status == 1 ?\n          this.translate.instant('message.success.cancelledSuccessfully') :\n          this.translate.instant('message.success.activedSuccessfully');\n        this.toastr.success(t, this.translate.instant('swal.success'));\n        this.items[index].is_cancelled = status;\n      },\n        error => {\n          this.toastr.error(error.error.message, this.translate.instant('swal.error'));\n        });\n  }\n\n  getNotes(item) {\n    this.property_collection_id = item.id;\n    const input = { property_collection_id: item.id };\n    this.admin.postDataApi('getCollectionNote', input).subscribe(r => {\n      this.parameter.items = r.data;\n      this.notesModalOpen.nativeElement.click();\n    });\n  }\n\n  closeNotesModal() {\n    this.notesModalClose.nativeElement.click();\n  }\n\n  addNote() {\n    if (!this.model.note) {\n      return;\n    }\n    this.spinner.show();\n    this.admin.postDataApi('collectionNote', { property_collection_id: this.property_collection_id, note: this.model.note }).subscribe(r => {\n      this.spinner.hide();\n      this.model = new Notes();\n      this.parameter.items.push(r.data);\n\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.addedSuccessfully'), this.translate.instant('swal.success'));\n      this.closeNotesModal();\n    });\n  }\n\n  deleteLeadPopup(note_id, index) {\n    this.parameter.text = this.translate.instant('message.error.wantToDeleteNote');\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' + this.parameter.text,\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Delete!'\n    }).then((result) => {\n      if (result.value) {\n        this.deleteLeadNote(note_id, index);\n      }\n    });\n  }\n\n  deleteLeadNote(note_id, index) {\n    this.admin.postDataApi('deleteCollectionNote', { id: note_id }).subscribe(r => {\n      this.parameter.items.splice(index, 1);\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.deletedSuccessfully'), this.translate.instant('swal.success'));\n    });\n  }\n\n  showEditPaymentPopup(item: any, i: number) {\n    this.paymentConcepts = [];\n    this.property_collection_id = item.id;\n    this.collectionIndex = i;\n    // adding purchase and collection commission in payment concept\n    if (item.collection_commissions && item.collection_commissions.length > 0) {\n      for (let index = 0; index < item.collection_commissions.length; index++) {\n        const element = item.collection_commissions[index];\n        if (item.payment_choices[index]) {\n          item.payment_choices[index]['commission'] = element;\n        }\n      }\n    }\n    this.paymentConcepts = [...item.payment_choices];\n    // this.last_payment_id = item.last_payment ? item.last_payment.collection_payment_id : '';\n    this.last_payment_id = item.last_payment ? item.last_payment.parent_id : '';\n    this.seller_type = item.seller_type;\n    this.showPaymentBanks(item);\n    this.getCollectionDetails();\n    this.editPaymentModalOpen.nativeElement.click();\n  }\n\n  showUpdatePaymentPopup(item: any, i: number) {\n    this.payment_id = item.id;\n    this.payment_type = item.payment_type;\n    this.payment_method_id = item.payment_method.id;\n    this.payment_bank =  item.payment_bank? item.payment_bank.id : 0;\n    this.description = item.description;\n    this.docFile = item.receipt;\n    this.payment_date = item.payment_date ? this.getDateWRTTimezone(item.payment_date, 'DD/MMM/YYYY') : '';\n    this.closeEditPaymentModal();\n    this.updatePaymentModalOpen.nativeElement.click();\n  }\n\n  closeUpdatePaymentModal() {\n    this.updatePaymentModalClose.nativeElement.click();\n  }\n\n\n  updateCollectionPayment(formdata: NgForm) {\n    // checking if date selected and receipt selected\n    if (!this.payment_date) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseSelectPaymentDate'), this.translate.instant('swal.error'));\n      return false;\n    }\n    if (!this.docFile) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChooseReceipt'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    const offset = new Date(this.payment_date).getTimezoneOffset();\n    if (offset < 0) {\n      this.payment_date = moment(this.payment_date).subtract(offset, 'minutes').toDate();\n    } else {\n      this.payment_date = moment(this.payment_date).add(offset, 'minutes').toDate();\n    }\n\n    // inpur params\n    const input = {\n      payment_id: this.payment_id,\n      payment_method_id: this.payment_method_id,\n      // is_agency: this.payment_bank ? this.payment_bank.is_agency : null,\n      // bank_id: this.payment_bank ? this.payment_bank.bank_id : null,\n      // legal_rep_bank_id: this.payment_bank ? this.payment_bank.legal_rep_bank_id : null,\n      receipt: this.docFile,\n      description: this.description,\n      payment_date: this.payment_date\n    };\n\n    this.admin.postDataApi('updateCollectionPayment', input).subscribe(r => {\n      this.router.navigate(['/dashboard/collections/quick-visualization', this.property_collection_id]);\n      this.closeUpdatePaymentModal();\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.savedSuccessfully'), this.translate.instant('swal.success'));\n    }, error => {\n      this.toastr.error(error.message, this.translate.instant('swal.error'));\n      return false;\n    });\n  }\n\n  getCollectionDetails() {\n    const reducingP = [];\n    for (let index = 0; index < this.paymentConcepts.length; index++) {\n      const m = this.paymentConcepts[index];\n      m.payment_date = m.collection_payment > 0 ? this.getDateWRTTimezone(m.collection_payment.payment_date, 'YYYY-MM-DD') : '';\n      m.paid_amount = m.calc_payment_amount ? m.calc_payment_amount : 0;\n\n      let c = {};\n      // if type=2 means reducing payment => add one more row\n      if (m.collection_paymentss && m.collection_paymentss.length > 0) {\n        for (let i = 0; i < m.collection_paymentss.length; i++) {\n          const paymnts = m.collection_paymentss[i];\n          paymnts.payment_bank = null;\n          // payment bank\n          if (paymnts.is_agency == 1) {\n            // payment directly received by agency\n            if (paymnts.bank_id) {\n              // agency bank\n              paymnts['payment_bank'] = paymnts.agency_banks;\n            } else if (paymnts.legal_rep_bank_id) {\n              // agency legal rep bank\n              paymnts['payment_bank'] = paymnts.legal_rep_bank;\n            }\n          } else {\n            // payment directly received by seller\n            if (this.seller_type != 2) {  // seller as person or developer\n              if (paymnts.bank_id) {\n                // seller bank\n                paymnts['payment_bank'] = paymnts.legal_representative_banks;\n              } else if (paymnts.legal_rep_bank_id) {\n                // seller legal rep bank\n                paymnts['payment_bank'] = paymnts.legal_rep_bank;\n              }\n            } else {  // seller as legal entity\n              if (paymnts.bank_id) {\n                // seller bank\n                paymnts['payment_bank'] = paymnts.legal_entitiy_bank;\n              } else if (paymnts.legal_rep_bank_id) {\n                // seller legal rep bank\n                paymnts['payment_bank'] = paymnts.legal_rep_bank;\n              }\n            }\n          }\n          c = {\n            key: 'remaining_amt',\n            name: '',\n            paid_amount: paymnts.full_amount,\n            is_paid_calculated: 0,\n            outstanding_amount: 0,\n            index: index + i,\n            payment_type: 2,  // in real its 2\n            receipt: paymnts.receipt,\n            description: paymnts.description,\n            display_choice_id: paymnts.display_choice_id,\n            created_at: paymnts.created_at\n          };\n          if (paymnts.payment_type == 2) {\n            c['name'] = 'Payment to remaining (Reduce Amount)';\n            c['collection_paymentss'] = [{\n              id: paymnts.id,\n              parent_id: paymnts.parent_id,\n              payment_type: 1,  // in real its 2\n              paid_amount: paymnts.amount,\n              amount: paymnts.amount,\n              payment_date: this.getDateWRTTimezone(paymnts.payment_date, 'YYYY-MM-DD'),\n              receipt: paymnts.receipt,\n              description: paymnts.description,\n              payment_method: paymnts.payment_method,\n              payment_bank: paymnts.payment_bank\n            }];\n            reducingP.push(c);\n          } else if (paymnts.payment_type == 3 && paymnts.display_choice_id) {\n            c['name'] = 'Payment to remaining (Reduce Time)';\n            c['collection_paymentss'] = [{\n              id: paymnts.id,\n              parent_id: paymnts.parent_id,\n              payment_type: 3,  // in real its 3\n              paid_amount: paymnts.full_amount,\n              amount: paymnts.full_amount,\n              payment_date: this.getDateWRTTimezone(paymnts.payment_date, 'YYYY-MM-DD'),\n              receipt: paymnts.receipt,\n              description: paymnts.description,\n              payment_method: paymnts.payment_method,\n              payment_bank: paymnts.payment_bank\n            }];\n            reducingP.push(c);\n          } else if (paymnts.payment_type == 5 && paymnts.display_choice_id) {\n            c['name'] = 'Total Payment';\n            c['collection_paymentss'] = [{\n              id: paymnts.id,\n              parent_id: paymnts.parent_id,\n              payment_type: 5,  // in real its 5\n              paid_amount: paymnts.full_amount,\n              amount: paymnts.full_amount,\n              payment_date: this.getDateWRTTimezone(paymnts.payment_date, 'YYYY-MM-DD'),\n              receipt: paymnts.receipt,\n              description: paymnts.description,\n              payment_method: paymnts.payment_method,\n              payment_bank: paymnts.payment_bank\n            }];\n            reducingP.push(c);\n          }\n        }\n      }\n\n      m['outstanding_amount'] = m.amount - (m.calc_payment_amount || 0);\n      if ((m.amount - (m.calc_payment_amount || 0)) >= 0) {\n        const a = (m.calc_payment_amount || 0);\n        m['is_pending'] = a ? 1 : 0;\n      }\n    }\n\n    // now insert at reducing remaining payments at type=2 index\n    // sorting reducingP according to date => in case user is paying using type 3 consecutively many times\n    reducingP.sort(this.sortFunction);\n\n    for (let i = 0; i < reducingP.length; i++) {\n      const element = reducingP[i];\n      // for payment_type 3,5 check display_choice_id\n      // loop is for if need to insert 2 type 2 payments on same index\n      for (let j = 0; j < this.paymentConcepts.length; j++) {\n        const e = this.paymentConcepts[j];\n        if (e.id == element.display_choice_id) {\n          this.paymentConcepts.splice(j, 0, element);\n          break;\n        }\n      }\n    }\n\n    // calculating new paid amt, by skipping type 2\n    for (let index = 0; index < this.paymentConcepts.length; index++) {\n      const element = this.paymentConcepts[index];\n      if (element.collection_paymentss && element.collection_paymentss.length > 0) {\n        for (let i = 0; i < element.collection_paymentss.length; i++) {\n          const ele = element.collection_paymentss[i];\n          if (ele.payment_type == 2) {\n            const v = ele.amt_share || 0;\n            const ids = ele.choices_ids.split(',');\n            for (let j = 0; j < this.paymentConcepts.length; j++) {\n              const e = this.paymentConcepts[j];\n              if (e.id) {\n                const d = e.id.toString();\n                const h = ids.indexOf(d);\n                if (h >= 0) {\n                  const obj = {\n                    id: ele.id,\n                    amount: v,\n                    name: 'Payment to remaining (Reduce Amount)',\n                    payment_type: 1,  // in real its 3\n                    paid_amount: v,\n                    payment_date: this.getDateWRTTimezone(ele.payment_date, 'YYYY-MM-DD'),\n                    receipt: ele.receipt,\n                    description: ele.description,\n                    payment_method: ele.payment_method,\n                    payment_bank: ele.payment_bank\n                  };\n                  this.paymentConcepts[j].paid_amount = parseFloat(this.paymentConcepts[j].paid_amount) - parseFloat(v);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  deletePayment(payment_id: string, mainIndex: number, index: number) {\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' +\n        this.translate.instant('message.error.wantToDeletePayment'),\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Yes'\n    }).then((result) => {\n      if (result.value) {\n        // this.admin.postDataApi('deleteCollectionPayment', {payment_id: payment_id})\n        this.admin.postDataApi('deletePayment', { parent_id: payment_id })\n          .subscribe(\n            success => {\n              // this.paymentConcepts[mainIndex].collection_paymentss.splice(index, 1);\n              this.router.navigate(['/dashboard/collections/quick-visualization', this.property_collection_id]);\n              this.closeEditPaymentModal();\n              this.toastr.clear();\n              this.toastr.success(this.translate.instant('message.success.deletedSuccessfully'), this.translate.instant('swal.success'));\n            },\n            error => {\n              this.toastr.error(error.message, this.translate.instant('swal.error'));\n            });\n      }\n    });\n  }\n\n  showApplyPaymentPopup(item: any, i: number, type: string) {\n    this.paymentConcepts = [];\n    this.surplus_payment_type = null;\n    this.payment_type = null;\n    this.paymentDate = null;\n    this.payment_choice_id = null;\n    this.property_collection_id = item.id;\n    this.typeOfPayment = type;\n    this.collectionIndex = i;\n    this.paymentConcepts = [...item.payment_choices];\n    const check = this.paymentConcepts.find(r => r.name.includes('Monthly Installment'));\n    this.disablePayToRemaining = true;\n    if (check) {\n      this.disablePayToRemaining = false;\n    }\n    this.calculateCash();\n    this.showPaymentBanks(item);\n    this.paymentModalOpen.nativeElement.click();\n  }\n\n  calculateCash() {\n    this.cashSum = 0;\n    for (let index = 0; index < this.paymentConcepts.length; index++) {\n      const m = this.paymentConcepts[index];\n      if (m.collection_paymentss && m.collection_paymentss.length > 0) {\n        for (let i = 0; i < m.collection_paymentss.length; i++) {\n          const paymnts = m.collection_paymentss[i];\n         // console.log(paymnts);\n          if (paymnts.payment_method_id == this.apiConstants.payment_method_id) {\n            this.cashSum = parseFloat(this.cashSum) + parseFloat(paymnts.amount);\n          }\n        }\n      }\n    }\n  }\n\n  showPaymentBanks(item: any) {\n    // payment banks\n    this.paymentBanks = [];\n    if (item.payment_received_by) {\n      // payment directly received by agency\n      if (item.property.building && item.property.building.agency_id) {\n        // agency banks\n        for (let index = 0; index < item.property.building.agency.agency_banks.length; index++) {\n          const element = item.property.building.agency.agency_banks[index];\n          element.name = 'Agency Bank | ' + element.bank_name;\n          element.is_agency = 1;\n          element.bank_id = element.id;\n          element.legal_rep_bank_id = null;\n          this.paymentBanks.push(element);\n        }\n\n        // agency legal representative banks\n        if (item.property.building.agency.legal_representative) {\n          for (let index = 0; index < item.property.building.agency.legal_representative.legal_rep_banks.length; index++) {\n            const element = item.property.building.agency.legal_representative.legal_rep_banks[index];\n            element.name = 'Agency Legal Rep Bank | ' + element.bank_name;\n            element.is_agency = 1;\n            element.bank_id = null;\n            element.legal_rep_bank_id = element.id;\n            this.paymentBanks.push(element);\n          }\n        }\n      }\n    } else {\n      // payment directly received by seller\n      if (item.seller_type != 2) {\n        // seller (as a person or developer) banks\n        for (let index = 0; index < item.seller.legal_rep_banks.length; index++) {\n          const element = item.seller.legal_rep_banks[index];\n          element.name = 'Seller Bank | ' + element.bank_name;\n          element.is_agency = 2;\n          element.bank_id = element.id;\n          element.legal_rep_bank_id = null;\n          this.paymentBanks.push(element);\n        }\n\n        // agency legal representative banks\n        if (item.seller.legal_representative) {\n          for (let index = 0; index < item.seller.legal_representative.legal_rep_banks.length; index++) {\n            const element = item.seller.legal_representative.legal_rep_banks[index];\n            element.name = 'Seller Legal Rep Bank | ' + element.bank_name;\n            element.is_agency = 2;\n            element.bank_id = null;\n            element.legal_rep_bank_id = element.id;\n            this.paymentBanks.push(element);\n          }\n        }\n      } else {\n        // seller (as a legal entity) banks\n        if (item.seller_legal_entity && item.seller_legal_entity.legal_entity_banks) {\n          for (let index = 0; index < item.seller_legal_entity.legal_entity_banks.length; index++) {\n            const element = item.seller_legal_entity.legal_entity_banks[index];\n            element.name = 'Seller Bank | ' + element.bank_name;\n            element.is_agency = 2;\n            element.bank_id = element.id;\n            element.legal_rep_bank_id = null;\n            this.paymentBanks.push(element);\n          }\n\n          // agency legal representative banks\n          if (item.seller_legal_entity.legal_reps && item.seller_legal_entity.legal_reps.legal_rep_banks) {\n            for (let index = 0; index < item.seller_legal_entity.legal_reps.legal_rep_banks.length; index++) {\n              const element = item.seller_legal_entity.legal_reps.legal_rep_banks[index];\n              element.name = 'Seller Legal Rep Bank | ' + element.bank_name;\n              element.is_agency = 2;\n              element.bank_id = null;\n              element.legal_rep_bank_id = element.id;\n              this.paymentBanks.push(element);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  setPaymentConceptAmount(id: any) {\n    this.paymentConcepts.map(r => {\n      if (r.id == id) {\n        this.penaltyForm.controls.payment_concept_amt.patchValue(r.amount || 0);\n      }\n    });\n  }\n\n  setPaymentAmount(item: any) {\n    if (this.typeOfPayment === 'commission-popup') {\n      if (this.commission_type == 1 && item.add_purchase_commission == 0) {\n        this.toastr.clear();\n        this.toastr.error(this.translate.instant('message.error.pleaseEnablePurchaseCommission'), this.translate.instant('swal.error'));\n        this.closeCollReceiptModal();\n        return false;\n      }\n      if (this.commission_type == 2 && item.add_collection_commission == 0) {\n        this.toastr.clear();\n        this.toastr.error(this.translate.instant('message.error.pleaseEnableCollectionCommission'), this.translate.instant('swal.error'));\n        this.closeCollReceiptModal();\n        return false;\n      }\n      if (this.commission_type == 3 && item.add_agent_commission == 0) {\n        this.toastr.clear();\n        this.toastr.error(this.translate.instant('message.error.pleaseEnableAgentCommission'), this.translate.instant('swal.error'));\n        this.closeCollReceiptModal();\n        return false;\n      }\n      this.ivaAmount = 0;\n      if (this.commission_type == 1) {\n        this.paymentAmount = item.purchase_comm_amount || 0;\n        if ((this.selectedItem.iva_percent && this.selectedItem.add_iva_to_pc)) {\n          this.ivaAmount = (this.paymentAmount * this.selectedItem.iva_percent) / 100;\n          this.paymentAmount = this.paymentAmount + this.ivaAmount;\n        }\n      } else if (this.commission_type == 3) {\n        this.paymentAmount = item.agent_comm_amount || 0;\n        if ((this.selectedItem.iva_percent && this.selectedItem.add_iva_to_ac)) {\n          this.ivaAmount = (this.paymentAmount * this.selectedItem.iva_percent) / 100;\n          this.paymentAmount = this.paymentAmount + this.ivaAmount;\n        }\n      } else {\n        this.paymentAmount = item.amount || 0;\n        if ((this.selectedItem.iva_percent && this.selectedItem.add_iva_to_cc)) {\n          this.ivaAmount = (this.paymentAmount * this.selectedItem.iva_percent) / 100;\n          this.paymentAmount = this.paymentAmount + this.ivaAmount;\n        }\n      }\n      // this.paymentAmount = this.commission_type == 1 ? (item.purchase_comm_amount || 0) : (item.amount || 0);\n      this.selectedCollectionCommission = item;\n    } else {\n      this.selectedPaymentConcept = item;\n      let amt: any = 0; let penaltyamt: any = 0;\n      let amtPaid: any = 0;\n      let currentAmt: any = 0;\n      let currentAmtPaid: any = 0;\n      // checking if method is pay to specific (4), then user will pay only for that specific installment\n      // + user cannot pay more than the amount+penalty\n      if (this.payment_type == 4) {\n        currentAmt = item['amount'];\n        currentAmtPaid = item['calc_payment_amount'] || 0;\n        this.penaltyAmount = item.penalty ? parseFloat(item.penalty.amount).toFixed(2) : 0;\n        this.pendingPayment = 0.00; // amt already paid\n        this.currentAmount = (parseFloat(currentAmt) - parseFloat(currentAmtPaid)).toFixed(2);\n        this.paymentAmount = (parseFloat(this.currentAmount) + parseFloat(this.pendingPayment) +\n          parseFloat(this.penaltyAmount)).toFixed(2);\n        this.calculatedPayAmount = [...this.paymentAmount];\n      } else if (this.payment_type == 1) {\n        for (let index = 0; index < this.paymentConcepts.length; index++) {\n          const r = this.paymentConcepts[index];\n          currentAmt = r['amount'];\n          currentAmtPaid = r['calc_payment_amount'] || 0;\n          if (r['id'] != item['id']) {\n            penaltyamt = r['penalty'] ? parseFloat(r['penalty']['amount']) : 0;\n            amt = parseFloat(amt) + parseFloat(r['amount']) + parseFloat(penaltyamt);\n            amtPaid = parseFloat(amtPaid) + parseFloat(currentAmtPaid);\n          } else {\n            break;\n          }\n        }\n        this.penaltyAmount = item.penalty ? parseFloat(item.penalty.amount).toFixed(2) : 0;\n        this.pendingPayment = (amt - amtPaid).toFixed(2);\n        this.currentAmount = (parseFloat(currentAmt) - parseFloat(currentAmtPaid)).toFixed(2);\n        this.paymentAmount = (parseFloat(this.currentAmount) + parseFloat(this.pendingPayment) + parseFloat(this.penaltyAmount)).toFixed(2);\n        this.calculatedPayAmount = [...this.paymentAmount];\n      }\n    }\n  }\n\n  closePaymentModal() {\n    this.paymentModalClose.nativeElement.click();\n  }\n\n  closeEditPaymentModal() {\n    this.paymentConcepts = [];\n    this.editPaymentModalClose.nativeElement.click();\n  }\n\n  onSelect(e) {\n    this.paymentDate = moment.utc(e).toDate();\n  }\n\n  onSelectInvoiceDate(e) {\n    this.invoice_date = moment.utc(e).toDate();\n  }\n\n  applyCollectionPayment() {\n    // checking if date selected and receipt selected\n    let callApi = true;\n    if (!this.paymentDate) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseSelectPaymentDate'), this.translate.instant('swal.error'));\n      return false;\n    }\n    if (!this.docFile) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChooseReceipt'), this.translate.instant('swal.error'));\n      return false;\n    }\n    if (!this.paymentAmount || this.paymentAmount == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterValidAmt'), this.translate.instant('swal.error'));\n      return false;\n    }\n    if (this.surplus_payment_type == '4' && !this.surplus_payment_choice_id) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChoosePayments'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    let amt = this.paymentAmount;\n    // in case of pay to following, if user is paying surplus money ask the user, what he wants to do with durplus money\n    if (this.payment_type == 1 && this.calculatedPayAmount < this.paymentAmount) {\n      if (!this.surplus_payment_type) {\n        this.askUserForSurplusMomey();\n        return;\n      } else {\n        amt = this.calculatedPayAmount;\n      }\n    }\n\n    // check for type 1, user can not pay more than the sum of all installments\n    if (this.payment_type == '1') {\n      let a = 0;\n      this.paymentConcepts.map(v => {\n        if (!v['is_paid_calculated']) {\n          const remaining_amt = parseFloat(v['amount']) - parseFloat(v['calc_payment_amount']);\n          a = a + remaining_amt + (v['penalty'] ? parseFloat(v['penalty']['amount']) : 0);\n        }\n      }, 0);\n      if (this.paymentAmount > a) {\n        this.toastr.clear();\n        this.toastr.error(this.translate.instant('message.error.payToFollowingCheck'), this.translate.instant('swal.error'));\n        return false;\n      }\n    }\n\n    // check for type 2 abd 2, user cannot pay more than sum of remaining MI\n    if (this.payment_type == '2' || this.payment_type == '3') {\n      let a: any = 0;\n      this.paymentConcepts.map(v => {\n        if (!v['is_paid_calculated'] && v.name.includes('Monthly Installment')) {\n          const remaining_amt = parseFloat(v['amount']) - parseFloat(v['calc_payment_amount']);\n          a = parseFloat(a) + remaining_amt + (v['penalty'] ? parseFloat(v['penalty']['amount']) : 0);\n          a = a.toFixed(2);\n        }\n      }, 0);\n      if (this.paymentAmount > a) {\n        this.toastr.clear();\n        this.toastr.error(this.translate.instant('message.error.payToRemainingcheck'), this.translate.instant('swal.error'));\n        return false;\n      }\n    }\n\n    // check for type 3, user can only pay exact amount of M1, or sum of M1 & M2, or sum of M1,M2,M3 and soon\n    const a1 = this.surplus_payment_type == '3' ? this.paymentAmount - this.calculatedPayAmount : this.paymentAmount;\n    if (this.payment_type == '3' || this.surplus_payment_type == '3') {\n      let a: any = 0;\n      let index = this.paymentConcepts.length - 1;\n      for (index; index >= 0; index--) {\n        const v = this.paymentConcepts[index];\n        if (!v['is_paid_calculated'] && v.name.includes('Monthly Installment')) {\n          const remaining_amt = parseFloat(v['amount']) - parseFloat(v['calc_payment_amount']);\n          a = parseFloat(a) + remaining_amt + (v['penalty'] ? parseFloat(v['penalty']['amount']) : 0);\n          a = a.toFixed(2);\n        }\n        // using a1 and not this.paymentAmount because, need to check for both direct type 3 and type 3 in surplus popup\n        if (a1 > a) {\n          continue;\n        } else if (a1 == a) {\n          break;\n        } else if (this.paymentAmount < a) {\n          this.toastr.clear();\n          this.toastr.error(this.translate.instant('message.error.payToRemainingReduceTimecheck'), this.translate.instant('swal.error'));\n          this.surplus_payment_type == '3' ?\n            this.surplusMoneyModalClose.nativeElement.click() :\n            this.paymentModalClose.nativeElement.click();\n          return false;\n        }\n      }\n    }\n\n    // in pay to specific, user is allowed to pay either exact amount or partial amt\n    if (this.payment_type == 4 && this.calculatedPayAmount < this.paymentAmount) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.payToSpecificCheck'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    // in total payment, user is allowed to pay sum of exact remaining amount (sum of installments and penalty)\n    if (this.payment_type == 5 && this.calculatedPayAmount != this.paymentAmount) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.totalPayemntCheck'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    const offset = new Date(this.paymentDate).getTimezoneOffset();\n    if (offset < 0) {\n      this.paymentDate = moment(this.paymentDate).subtract(offset, 'minutes').toDate();\n    } else {\n      this.paymentDate = moment(this.paymentDate).add(offset, 'minutes').toDate();\n    }\n\n    const input = {\n      property_collection_id: this.property_collection_id,\n      payment_method_id: this.payment_method_id,\n      is_agency: this.payment_bank ? this.payment_bank.is_agency : null,\n      bank_id: this.payment_bank ? this.payment_bank.bank_id : null,\n      legal_rep_bank_id: this.payment_bank ? this.payment_bank.legal_rep_bank_id : null,\n      amount: amt,\n      receipt: this.docFile,\n      description: this.description,\n      payment_date: this.paymentDate,\n      full_amount: this.paymentAmount // sending real amount entered by user\n    };\n\n    // send commission_type, collection_commission_id, percent incase of applying commission\n    if (this.typeOfPayment === 'commission-popup') {\n      delete input.amount;\n      input['commission_type'] = this.commission_type;\n      input['collection_commission_id'] = this.selectedCollectionCommission.id;\n      input['percent'] = this.selectedCollectionCommission.percent;\n      input['invoice_id'] = this.invoice_id;\n      input['pdf_url'] = this.pdf_url;\n      input['xml_url'] = this.xml_url;\n      input['amount'] = amt - this.ivaAmount;\n      input['iva_amount'] = this.ivaAmount;\n\n      if (this.invoice_date) {\n        const offset1 = new Date(this.invoice_date).getTimezoneOffset();\n        if (offset < 0) {\n          input['invoice_date'] = moment(this.invoice_date).subtract(offset1, 'minutes').toDate();\n        } else {\n          input['invoice_date'] = moment(this.invoice_date).add(offset1, 'minutes').toDate();\n        }\n      }\n    } else {\n      // applying payment\n      // for edit the wrong amount uploaded\n      // if (this.selectedPaymentConcept && this.selectedPaymentConcept['collection_payment']) {\n      //   input['id'] = this.selectedPaymentConcept['collection_payment']['id']\n      // }\n      // for type==2&3, no need to pass collection_payment_choice_id\n      if (this.payment_type == 1 || this.payment_type == 4) {\n        input['collection_payment_choice_id'] = this.payment_choice_id['id'];\n      }\n      input['type'] = this.payment_type;\n    }\n\n\n    if (this.typeOfPayment == 'apply-popup' && (this.cashSum + this.paymentAmount > this.cashLimit)) {\n      callApi = false;\n      swal({\n        html: this.translate.instant('message.error.cashLimitReached'),\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: this.constant.confirmButtonColor,\n        cancelButtonColor: this.constant.cancelButtonColor,\n        confirmButtonText: 'Ok'\n      }).then((result) => {\n        if (result.value) {\n          // continue;\n          this.callToPaymentApi(input);\n        } else {\n          return;\n        }\n      });\n      // swal(this.translate.instant('swal.error'), this.translate.instant('message.error.cashLimitReached'), 'error');\n      // this.toastr.clear();\n      // this.toastr.error(this.translate.instant('message.error.cashLimitReached'), this.translate.instant('swal.error'));\n      // return false;\n    }\n    const url = this.typeOfPayment === 'apply-popup' ? 'applyCollectionPayment' : 'applyCommissionPayment';\n\n    if (callApi) {\n      this.isApplyBtnClicked = true;\n      this.admin.postDataApi(url, input).subscribe(r => {\n        this.isApplyBtnClicked = false;\n        if (this.surplus_payment_type) {\n          input['amount'] = this.paymentAmount - this.calculatedPayAmount;\n          input['type'] = this.surplus_payment_type;\n          input['parent_id'] = r.data['id'];   // send parent_id in case of type 1 and surplus (to make parent delete)\n          if (this.surplus_payment_type == '4') {\n            input['collection_payment_choice_id'] = this.surplus_payment_choice_id;\n          }\n\n          this.admin.postDataApi(url, input).subscribe(r => {\n            // if (this.surplus_payment_type == '1' || this.surplus_payment_type == '4') {\n            //   input['collection_payment_choice_id'] = this.payment_choice_id['id']\n            // }\n          });\n        }\n\n        this.router.navigate(['/dashboard/collections/quick-visualization', this.property_collection_id]);\n        this.paymentModalClose.nativeElement.click();\n        this.closeCollReceiptModal();\n\n        this.toastr.clear();\n        this.toastr.success(this.translate.instant('message.success.savedSuccessfully'), this.translate.instant('swal.success'));\n      }, error => {\n        this.paymentConcepts = [];\n        this.isApplyBtnClicked = false;\n        this.docsFile1.nativeElement.value = '';\n        this.paymentModalClose.nativeElement.click();\n        this.closeCollReceiptModal();\n        // this.toastr.error(error.message, this.translate.instant('swal.error'));\n        return false;\n      });\n    }\n  }\n\n  callToPaymentApi(input) {\n\n    const url = this.typeOfPayment === 'apply-popup' ? 'applyCollectionPayment' : 'applyCommissionPayment';\n\n    this.isApplyBtnClicked = true;\n    this.admin.postDataApi(url, input).subscribe(r => {\n      this.isApplyBtnClicked = false;\n      if (this.surplus_payment_type) {\n        input['amount'] = this.paymentAmount - this.calculatedPayAmount;\n        input['type'] = this.surplus_payment_type;\n        input['parent_id'] = r.data['id'];   // send parent_id in case of type 1 and surplus (to make parent delete)\n        if (this.surplus_payment_type == '4') {\n          input['collection_payment_choice_id'] = this.surplus_payment_choice_id;\n        }\n\n        this.admin.postDataApi(url, input).subscribe(r => {\n          // if (this.surplus_payment_type == '1' || this.surplus_payment_type == '4') {\n          //   input['collection_payment_choice_id'] = this.payment_choice_id['id']\n          // }\n        });\n      }\n\n      this.router.navigate(['/dashboard/collections/quick-visualization', this.property_collection_id]);\n      this.paymentModalClose.nativeElement.click();\n      this.closeCollReceiptModal();\n\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.savedSuccessfully'), this.translate.instant('swal.success'));\n    }, error => {\n      this.paymentConcepts = [];\n      this.isApplyBtnClicked = false;\n      this.docsFile1.nativeElement.value = '';\n      this.paymentModalClose.nativeElement.click();\n      this.closeCollReceiptModal();\n      // this.toastr.error(error.message, this.translate.instant('swal.error'));\n      return false;\n    });\n  }\n\n  askUserForSurplusMomey() {\n    this.closePaymentModal();\n    this.surplusMoneyModalOpen.nativeElement.click();\n  }\n\n  closeSurplusMoney() {\n    this.surplusMoneyModalClose.nativeElement.click();\n  }\n\n  onSelectFile(files, key: string) {\n    this.parameter.loading = true;\n    this.cs.saveAttachment(files[0]).subscribe(\n      success => {\n        this.parameter.loading = false;\n        this[key] = success['data'].name;\n      }, error => {\n        this.parameter.loading = false;\n      }\n    );\n  }\n\n  setCommissionType(type: any) {\n    this.paymentConcepts = [];\n    for (let index = 0; index < this.selectedItem.collection_commissions.length; index++) {\n      const element = this.selectedItem.collection_commissions[index];\n      element['payment_made'] = 0;\n      if (this.selectedItem.payment_choices[index] && this.selectedItem.payment_choices[index].is_paid_calculated) {\n        element['payment_made'] = 1;\n      }\n      if (type == 1) {\n        if (element.add_purchase_commission == 1) {\n          this.paymentConcepts.push(element);\n        }\n      } else if (type == 3) {\n        if (element.add_agent_commission == 1) {\n          this.paymentConcepts.push(element);\n        }\n      } else {\n        if (element.add_collection_commission == 1) {\n          this.paymentConcepts.push(element);\n        }\n      }\n    }\n  }\n\n  showCollectionCommReceipt(item: any, i: number, type: string) {\n    this.property_collection_id = item.id;\n    this.selectedItem = item;\n    this.collectionIndex = i;\n    this.paymentConcepts = item.collection_commissions;\n    this.typeOfPayment = type;\n    this.is_external_agent = item.deal_commission_agents && item.deal_commission_agents.length > 0 && item.deal_commission_agents[0].broker ?\n      item.deal_commission_agents[0].broker.is_external_agent : 0;\n    this.collectionReceiptOpen.nativeElement.click();\n  }\n\n  editCollectionCommReceipt(item: any) {\n    this.payment_id = item.id;\n    this.payment_method_id = item.payment_method.id;\n    this.description = item.description;\n    this.docFile = item.receipt;\n    this.amount = item.amount;\n    this.commission_type = item.commission_type;\n    this.collection_commission_id = item.collection_commission_id;\n    this.payment_date = item.payment_date ? this.getDateWRTTimezone(item.payment_date, 'DD/MMM/YYYY') : '';\n    this.invoice_date = item.invoice_date ? this.getDateWRTTimezone(item.invoice_date, 'DD/MMM/YYYY') : '';\n    this.pdf_url = item.pdf_url;\n    this.xml_url = item.xml_url;\n    this.invoice_id = item.invoice_id;\n\n    this.closeEditPaymentModal();\n    this.editCollectionReceiptOpen.nativeElement.click();\n  }\n\n  deleteCollectionCommReceipt(item: any) {\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' +\n        this.translate.instant('message.error.wantToDeleteCommission'),\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Yes'\n    }).then((result) => {\n      if (result.value) {\n        this.admin.postDataApi('deleteCommissionPayment', { id: item.id, commission_type: item.commission_type })\n          .subscribe(\n            success => {\n              this.router.navigate(['/dashboard/collections/quick-visualization', this.property_collection_id]);\n              this.closeEditPaymentModal();\n              this.toastr.clear();\n              this.toastr.success(this.translate.instant('message.success.deletedSuccessfully'), this.translate.instant('swal.success'));\n            },\n            error => {\n              this.toastr.error(error.error.message, this.translate.instant('swal.error'));\n            });\n      }\n    });\n  }\n\n  closeEditCollReceiptModal() {\n    this.editCollectionReceiptClose.nativeElement.click();\n  }\n\n  updateCollectionCommPayment() {\n    // checking if date selected and receipt selected\n    if (!this.payment_date) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseSelectPaymentDate'), this.translate.instant('swal.error'));\n      return false;\n    }\n    if (!this.docFile) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChooseReceipt'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    const offset = new Date(this.payment_date).getTimezoneOffset();\n    if (offset < 0) {\n      this.payment_date = moment(this.payment_date).subtract(offset, 'minutes').toDate();\n    } else {\n      this.payment_date = moment(this.payment_date).add(offset, 'minutes').toDate();\n    }\n\n    // inpur params\n    const input = {\n      id: this.payment_id,\n      payment_method_id: this.payment_method_id,\n      receipt: this.docFile,\n      description: this.description,\n      payment_date: this.payment_date,\n      collection_commission_id: this.collection_commission_id,\n      commission_type: this.commission_type,\n      amount: this.amount\n    };\n    input['invoice_id'] = this.invoice_id;\n    input['pdf_url'] = this.pdf_url;\n    input['xml_url'] = this.xml_url;\n    // input['amount'] = amt - this.ivaAmount;\n    // input['iva_amount'] = this.ivaAmount;\n\n    if (this.invoice_date) {\n      const offset1 = new Date(this.invoice_date).getTimezoneOffset();\n      if (offset < 0) {\n        input['invoice_date'] = moment(this.invoice_date).subtract(offset1, 'minutes').toDate();\n      } else {\n        input['invoice_date'] = moment(this.invoice_date).add(offset1, 'minutes').toDate();\n      }\n    }\n\n    this.admin.postDataApi('applyCommissionPayment', input).subscribe(r => {\n      this.router.navigate(['/dashboard/collections/quick-visualization', this.property_collection_id]);\n      this.closeEditCollReceiptModal();\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.savedSuccessfully'), this.translate.instant('swal.success'));\n    }, error => {\n      this.toastr.error(error.message, this.translate.instant('swal.error'));\n      return false;\n    });\n  }\n\n  getPenaltyAmount(percent: number) {\n    const paymentConceptAmount = this.penaltyForm.controls.payment_concept_amt.value;\n    if (!paymentConceptAmount || paymentConceptAmount == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChoosePaymentConcept'), this.translate.instant('swal.error'));\n      this.penaltyForm.controls.percent.patchValue(0);\n      return;\n    }\n    const paymentAmount = ((percent * paymentConceptAmount) / 100).toFixed(2);\n    this.penaltyForm.controls.amount.patchValue(paymentAmount);\n  }\n\n  getPenaltyPercentage(amount: number) {\n    const paymentConceptAmount = this.penaltyForm.controls.payment_concept_amt.value;\n    if (!paymentConceptAmount || paymentConceptAmount == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChoosePaymentConcept'), this.translate.instant('swal.error'),);\n      this.penaltyForm.controls.amount.patchValue(0);\n      return;\n    }\n    const penaltyPercent = ((amount * 100) / paymentConceptAmount).toFixed(3);\n    this.penaltyForm.controls.percent.patchValue(penaltyPercent);\n  }\n\n  closeCollReceiptModal() {\n    this.paymentAmount = 0; this.docFile = ''; this.description = '';\n    this.penaltyAmount = 0; this.pendingPayment = 0; this.currentAmount = 0;\n    // this.docsFile.nativeElement.value = '';\n    if (this.commission_type == 1) {\n      this.collectionTypeSelect.nativeElement.value = '';\n      this.applyPaymentMethodId1.nativeElement.value = '';\n      this.applyPaymentChoiceId1.nativeElement.value = '';\n    } else if (this.commission_type == 2) {\n      this.collectionTypeSelect.nativeElement.value = '';\n      this.applyPaymentMethodId1.nativeElement.value = '';\n      this.applyPaymentChoiceId2.nativeElement.value = '';\n    }\n    this.commission_type = '';\n    this.collectionReceiptClose.nativeElement.click();\n  }\n\n  closeCollCommissionModal() {\n    this.viewCollectionClose.nativeElement.click();\n  }\n\n  showPenaltyPaymentPopup(item: any, i: number, type: string, collection_payment_choice_id: string) {\n    if (collection_payment_choice_id) {\n      this.editPaymentModalOpen.nativeElement.click();\n      this.penaltyForm.controls.payment_concept_amt.patchValue(item.amount);\n      this.penaltyForm.controls.amount.patchValue(item.penalty.amount);\n      this.penaltyForm.controls.description.patchValue(item.penalty.description);\n      this.penaltyForm.controls.percent.patchValue(((item.penalty.amount * 100) / item.amount).toFixed(2));\n      this.penaltyForm.controls.id.patchValue(item.penalty.id);\n      this.penaltyForm.controls.collection_payment_choice_id.patchValue(item.penalty.collection_payment_choice_id);\n    } else {\n      this.property_collection_id = item.id;\n      this.typeOfPayment = type;\n      this.collectionIndex = i;\n      this.paymentConcepts = item.payment_choices;\n    }\n    this.penaltyModalOpen.nativeElement.click();\n  }\n\n\n  deletePenaltyPaymentPopup(i: any) {\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' +\n        this.translate.instant('message.error.wantToDeletePenalty'),\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Yes'\n    }).then((result) => {\n      if (result.value) {\n        this.admin.postDataApi('deleteCollectionPenalty', { id: i.id, collection_payment_choice_id: i.collection_payment_choice_id })\n          .subscribe(\n            success => {\n              this.router.navigate(['/dashboard/collections/quick-visualization', this.property_collection_id]);\n              this.closeEditPaymentModal();\n              this.toastr.clear();\n              this.toastr.success(this.translate.instant('message.success.deletedSuccessfully'), this.translate.instant('swal.success'));\n            },\n            error => {\n              this.toastr.error(error.error.message, this.translate.instant('swal.error'));\n            });\n      }\n    });\n  }\n\n  closePenaltyPaymentPopup() {\n    this.penaltyForm.reset();\n    this.penaltyModalClose.nativeElement.click();\n  }\n\n  applyCollectionPenalty(formdata) {\n    if (this.penaltyForm.invalid) {\n      this.showError = true;\n      this.isPenaltyFormSub = false;\n      return;\n    }\n    this.isPenaltyFormSub = true;\n    this.admin.postDataApi('applyCollectionPenalty', this.penaltyForm.value).subscribe(r => {\n      // let paymentChoiceIndex = 0;\n      // for (let index = 0; index < this.items[this.collectionIndex].payment_choices.length; index++) {\n      //   const element = this.items[this.collectionIndex].payment_choices[index];\n      //   if (element.id == this.payment_choice_id) {\n      //     paymentChoiceIndex = index;\n      //   }\n      // }\n      // this.items[this.collectionIndex].payment_choices[paymentChoiceIndex]['penalty'] = r.data;\n      this.router.navigate(['/dashboard/collections/quick-visualization', this.property_collection_id]);\n      this.closePenaltyPaymentPopup();\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.savedSuccessfully', this.translate.instant('swal.success')));\n    });\n  }\n\n  quickCollectionView(item: any) {\n    this.router.navigate(['/dashboard/collections/quick-visualization', item.id]);\n  }\n\n  viewAccountStatement(item: any) {\n    this.router.navigate(['/dashboard/collections/account-statement', item.id]);\n  }\n\n  setPayMentType(payment_type: string) {\n    this.payment_type = payment_type;\n    if (payment_type == '1') {\n      this.paymentConcepts.map(r => r.is_disabled = true);\n      for (let index = 0; index < this.paymentConcepts.length; index++) {\n        if (!this.paymentConcepts[index].is_paid_calculated) {\n          this.paymentConcepts[index].is_disabled = false;\n          break;\n        }\n      }\n    }\n    if (this.typeOfPayment == 'apply-popup') {\n      this.docsFile1.nativeElement.value = '';\n    } else {\n      this.docsFile2.nativeElement.value = '';\n    }\n    if (this.payment_type && this.payment_type != '2' && this.payment_type != '3' && this.payment_type != '5') {\n      this.applyPaymentChoiceId.nativeElement.value = '';\n    }\n    this.closeCollReceiptModal();\n    if (this.payment_type == 5) {\n      let amt: any = 0; let penaltyamt: any = 0;\n      let amtPaid: any = 0;\n      let currentAmt: any = 0;\n      let currentAmtPaid: any = 0;\n      this.penaltyAmount = 0;\n      for (let index = 0; index < this.paymentConcepts.length; index++) {\n        const r = this.paymentConcepts[index];\n        currentAmt = r['amount'];\n        currentAmtPaid = r['calc_payment_amount'] || 0;\n        penaltyamt = r['penalty'] ? parseFloat(r['penalty']['amount']) : 0;\n        amt = parseFloat(amt) + parseFloat(r['amount']) + parseFloat(penaltyamt);\n        amtPaid = parseFloat(amtPaid) + parseFloat(currentAmtPaid);\n      }\n      this.paymentAmount = (amt - amtPaid).toFixed(2);\n      this.calculatedPayAmount = [...this.paymentAmount];\n    }\n    this.applyPaymentMethodId.nativeElement.value = '';\n  }\n\n  setPayMentTypeSurplus(payment_type: string) {\n    this.surplus_payment_type = payment_type;\n    // incase user select type 4 in surplus popup => therefore, needs to disable selected concept in payment modal\n    this.paymentConcepts.map(r => r.is_disabled = false);\n    for (let index = 0; index < this.paymentConcepts.length; index++) {\n      // paid and if selected concept => only then disable\n      if (this.payment_choice_id['id'] == this.paymentConcepts[index].id) {\n        this.paymentConcepts[index].is_disabled = true;\n        break;\n      }\n    }\n  }\n\n  setPaymentSurplusAmount(item) {\n    this.selectedPaymentConcept = item;\n    this.surplus_payment_choice_id = item.id;\n    let currentAmt: any = 0;\n    let currentAmtPaid: any = 0;\n    // checking if method is pay to specific (4),\n    // then user will pay only for that specific installment + user cannot pay more than the amount+penalty\n    if (this.surplus_payment_type == '4') {\n      currentAmt = item['amount'];\n      currentAmtPaid = item['calc_payment_amount'] || 0;\n      const penaltyAmount: any = item.penalty ? parseFloat(item.penalty.amount).toFixed(2) : 0;\n      const currentAmount: any = (parseFloat(currentAmt) - parseFloat(currentAmtPaid)).toFixed(2);\n      this.surplus_amt = (parseFloat(currentAmount) + parseFloat(penaltyAmount)).toFixed(2);\n    }\n\n    if ((this.paymentAmount - this.calculatedPayAmount) > this.surplus_amt) {\n      this.surplus_payment_choice_id = '';\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.payToSpecificCheck'), this.translate.instant('swal.error'));\n      return false;\n    }\n  }\n\n  getDateWRTTimezone(date: any, format: any) {\n    const offset = new Date(date).getTimezoneOffset();\n    if (offset < 0) {\n      return moment(date).subtract(offset, 'minutes').format(format);\n    } else {\n      return moment(date).add(offset, 'minutes').format(format);\n    }\n  }\n\n  getLastPaymentConcept(item: any) {\n    // payment_type == 1 means => pay to following => means show concept name\n    // payment_type == 2 means => pay to remaining (reduce amt) => show same\n    // payment_type == 3 means => pay to remaining (reduce time) => show same\n    if (item.last_payment.payment_type == 1 || item.last_payment.payment_type == 4) {\n      return item.last_payment.name;\n    } else if (item.last_payment.payment_type == 2) {\n      return 'Payment to remaining (Reduce Amount)';\n    } else if (item.last_payment.payment_type == 3) {\n      return 'Payment to remaining (Reduce Amount)';\n    } else {\n      return 'Total Payment';\n    }\n  }\n\n  getRemainingAmt(p: any) {\n    const v = (((p.deal_price || 0) + (p.penalty || 0)) - (p.total_payment_recieved || 0));\n    return v > 0 ? v : 0;\n  }\n\n  showDescription(description: string, title: any) {\n    if (description) {\n      this.title = title;\n      this.description = description;\n      this.viewDesModal.nativeElement.click();\n    }\n  }\n\n  closeDescModal() {\n    this.viewDesModalClose.nativeElement.click();\n  }\n\n  sortFunction(a, b) {\n    const dateA = new Date(a.created_at).getTime();\n    const dateB = new Date(b.created_at).getTime();\n    return dateA > dateB ? 1 : -1;\n  }\n\n  openFoldersModal(collectionFolders: Array<any>, payment_folder_id) {\n    this.collectionFolders = [];\n    this.collectionFolders = collectionFolders;\n    this.payment_folder_id = payment_folder_id;\n    this.foldersModalOpen.nativeElement.click();\n  }\n\n  closeFoldersModal() {\n    this.foldersModalClose.nativeElement.click();\n  }\n\n  addDocs(folderIndex: number, collection_folder_id: number) {\n    if (!this.docsName) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterDocuName'), this.translate.instant('swal.error'));\n      return;\n    }\n    if (!this.docFile) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterDocuFile'), this.translate.instant('swal.error'));\n      return;\n    }\n    const input = { name: this.docsName, display_name: this.docFile, collection_folder_id: collection_folder_id };\n    const allDocx: Array<any> = this.collectionFolders[folderIndex].folder_docs;\n    this.admin.postDataApi('addFolderDoc', input).subscribe(success => {\n      input['id'] = success['data'];\n      allDocx.push(input);\n      this.collectionFolders[folderIndex].folder_docs = allDocx;\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.addedSuccessfully'), this.translate.instant('swal.success'));\n      this.docFile = ''; this.docsName = '';\n      this.docsFile.nativeElement.value = '';\n    });\n  }\n\n  deleteDocsPopup(item: any, folderIndex: number, docIndex: number) {\n    swal({\n      html: this.translate.instant('message.error.areYouSure') + '<br>' +\n        this.translate.instant('message.error.wantToDeleteDocs'),\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: this.constant.confirmButtonColor,\n      cancelButtonColor: this.constant.cancelButtonColor,\n      confirmButtonText: 'Yes'\n    }).then((result) => {\n      if (result.value) {\n        this.deleteDocs(item, folderIndex, docIndex);\n      }\n    });\n  }\n\n  deleteDocs(item: any, folderIndex: number, docIndex: number) {\n    this.collectionFolders[folderIndex].folder_docs.splice(docIndex, 1);\n    if (item.id) {\n      this.admin.postDataApi('deleteFolderDoc', { id: item.id }).subscribe(success => {\n        this.toastr.clear();\n        this.toastr.success(this.translate.instant('message.success.deletedSuccessfully'), this.translate.instant('swal.success'));\n      });\n    }\n  }\n\n  showInvoicekeys() {\n    this.invoiceKeys = this.invoiceKeys ? false : true;\n  }\n  numberUptoNDecimal(num: any, n: number) {\n    return num ? num.toFixed(n) : 0;\n  }\n\n  getExportlisting = (): void => {\n    this.spinner.show();\n    this.exportfinalData = [];\n    const input: any = JSON.parse(JSON.stringify(this.parameter));\n    if (this.parameter.deal_to_date && this.parameter.deal_from_date) {\n      input.deal_to_date = this.parameter.deal_to_date;\n      input.deal_from_date = this.parameter.deal_from_date;\n      // console.log('this.parameter.deal_from_date', this.parameter.deal_from_date);\n    }\n    if (this.parameter.min) {\n      input.min = moment(this.parameter.min).format('YYYY-MM-DD');\n    } else {\n      delete input.min;\n    }\n    if (this.parameter.max) {\n      input.max = moment(this.parameter.max).format('YYYY-MM-DD');\n    } else {\n      delete input.max;\n    }\n    if (this.parameter.deal_purchase_date) {\n      input.deal_purchase_date = moment(this.parameter.deal_purchase_date).format('YYYY-MM-DD');\n    } else {\n      delete input.deal_purchase_date;\n    }\n\n    input.is_approved = this.parameter.flag;\n    input.page = 0;\n    this.admin.postDataApi('getCollection', input).subscribe((success) => {\n      this.exportfinalData = success.data || [];\n\n      // fetching payment status\n      for (let index = 0; index < this.items.length; index++) {\n        const element = this.items[index];\n        const dif = (element.deal_price || 0).toFixed(2) - (element.total_deals_sum || 0).toFixed(2);\n        const currency_id = element.currency_id;\n\n        if (!element.total_deals_sum) {\n          element.payment_status = 6;\n        } else if ((dif >= 5 && currency_id == 78) || (dif >= 0.5 && currency_id == 124)) {\n          element.payment_status = 6;\n        } else if (element.next_payment && element.next_payment.date) {\n          // const diff: any = moment().diff(moment(element.next_payment.date, 'YYYY-MM-DD'), 'days', true);\n          // if (diff > 0 && diff <= 5) {\n          //   element.payment_status = 2;\n          // } else if (diff > 5) {\n          //   element.payment_status = 3;\n          // } else if (diff <= 0) {\n          //   element.payment_status = 1;\n          // }\n          element.payment_status = element.collection_status;\n        } else {\n          element.payment_status = 5;\n        }\n\n        // fetching commissions %\n        let cc_percent = 0, cc_received = 0, cc_receipt = 0, cc_invoice = 0, cc_active = 0;\n        let pc_received = 0, pc_receipt = 0, pc_invoice = 0, pc_active = 0;\n        let ac_receipt = 0, ac_invoice = 0, ac_active = 0;\n        for (let i = 0; i < element.collection_commissions.length; i++) {\n          const ele = element.collection_commissions[i];\n          cc_percent = cc_percent + (ele.add_collection_commission ? ele.percent : 0);\n          cc_received = cc_received + (ele.add_collection_commission ? ele.amount : 0);\n          pc_received = pc_received + (ele.add_purchase_commission ? ele.purchase_comm_amount : 0);\n          // console.log('aaaaa', pc_received, ele.purchase_comm_amount)\n          if (ele.add_collection_commission) {\n            cc_active++;\n          }\n          if (ele.payment) {\n            cc_receipt++;\n            if (ele.payment.invoice_id) {\n              cc_invoice++;\n            }\n          }\n\n          if (ele.add_purchase_commission) {\n            pc_active++;\n          }\n          if (ele.purchase_payment) {\n            pc_receipt++;\n            if (ele.purchase_payment.invoice_id) {\n              pc_invoice++;\n            }\n          }\n\n          if (ele.add_agent_commission) {\n            ac_active++;\n          }\n          if (ele.agent_payment) {\n            ac_receipt++;\n            if (ele.agent_payment.invoice_id) {\n              ac_invoice++;\n            }\n          }\n        }\n        // console.log('pc_received', pc_received)\n        element['sum_pc'] = pc_received;\n        element['cc_percent'] = this.numberUptoNDecimal((cc_percent / cc_active), 3);\n        element['cc_received'] = element.iva_percent && element.add_iva_to_cc ?\n          (cc_received + (cc_received * element.iva_percent) / 100) : cc_received;\n        element['cc_receipt'] = cc_receipt == cc_active && cc_receipt != 0 ? 1 : 0;\n        element['cc_invoice'] = cc_invoice == cc_active && cc_invoice != 0 ? 1 : 0;\n        element['pc_received'] = element.iva_percent && element.add_iva_to_pc ?\n          (pc_received + (pc_received * element.iva_percent) / 100) : pc_received;\n        element['pc_receipt'] = pc_receipt == pc_active && pc_receipt != 0 ? 1 : 0;\n        element['pc_invoice'] = pc_invoice == pc_active && pc_invoice != 0 ? 1 : 0;\n\n        element['ac_receipt'] = ac_receipt == ac_active && ac_receipt != 0 ? 1 : 0;\n        element['ac_invoice'] = ac_invoice == ac_active && ac_invoice != 0 ? 1 : 0;\n      }\n\n      this.makeExportData();\n      this.spinner.hide();\n    },\n      (error) => {\n      //  console.log(error);\n        this.spinner.hide();\n      });\n  }\n\n  makeExportData = (): void => {\n    if (this.exportfinalData.length > 0) {\n      const tempExportData = [];\n      for (let index = 0; index < this.exportfinalData.length; index++) {\n        const p = this.exportfinalData[index];\n\n        tempExportData.push({\n          'ID Account': p.id || '',\n          'Buyer Name': (p.buyer_type == 2) ? (p.buyer_legal_entity || {}).comm_name || '' : (p.buyer || {}).name + ' ' + (p.buyer || {}).first_surname + ' ' + (p.buyer || {}).second_surname || '',\n          'Buyer Legal Representative': (p.buyer_type == 2) ? (((p.buyer_legal_entity || {}).legal_reps || {}).name) ? (((p.buyer_legal_entity || {}).legal_reps || {}).name + ' ' + ((p.buyer_legal_entity || {}).legal_reps || {}).first_surname + ' ' + ((p.buyer_legal_entity || {}).legal_reps || {}).second_surname) : ''\n            : (((p.buyer || {}).legal_representative || {}).name) ? (((p.buyer || {}).legal_representative || {}).name + ' ' + ((p.buyer || {}).legal_representative || {}).first_surname + ' ' + ((p.buyer || {}).legal_representative || {}).second_surname) : '',\n          'Seller Name': (p.seller_type == 2) ? (p.seller_legal_entity || {}).comm_name || '' : (p.seller || {}).name + ' ' + (p.seller || {}).first_surname + ' ' + (p.seller || {}).second_surname,\n          'Seller Legal Representative': (p.seller_type == 2) ? ((p.seller_legal_entity || {}).legal_reps || {}).name + ' ' + ((p.seller_legal_entity || {}).legal_reps || {}).first_surname + ' ' + ((p.seller_legal_entity || {}).legal_reps || {}).second_surname :\n            ((p.seller || {}).legal_representative || {}).name + ' ' + ((p.seller || {}).legal_representative || {}).first_surname + ' ' + ((p.seller || {}).legal_representative || {}).second_surname,\n          'Name of Building': ((p.property || {}).building || {}).name || '',\n          'Name of Tower': ((p.property || {}).building_towers || {}).tower_name || '',\n          'Name of Apartment': (p.property || {}).name || '',\n          'Configuration': ((p.property || {}).building_configuration || {}).name || '',\n          'Locality': ((p.property || {}).locality || {}).name || '',\n          'Purchase Date': p.deal_purchase_date ? this.getDateWRTTimezone(p.deal_purchase_date, 'DD/MMM/YYYY') : '',\n          'Last Concept': p.last_payment ? this.getLastPaymentConcept(p) : '',\n          'Last Date Of Payment': (p.last_payment || {}).payment_date ? (p.last_payment || {}).payment_date : '',//(p?.last_payment?.payment_date | date:'dd/MMM/yyyy') :\n          'Last Amount': '$ ' + ((p.last_payment || {}).collection_amount || 0),\n          'Next Concept': (p.next_payment || {}).name || '',\n          'Next Date Of Payment': (p.next_payment || {}).date ? (p.next_payment || {}).date : '',//(p.next_payment?.date | date:'dd/MMM/yyyy') :\n          'Next Amount': '$ ' + (((p.next_payment || {}).amount || 0) - ((p.next_payment || {}).calc_payment_amount || 0)),\n          'Currency': (p.currency || {}).code || '',\n          'Sozu Commission (in %)': p.comm_total_commission ? p.comm_total_commission : 0,//(p.comm_total_commission | number : '1.2-3') :\n          'IVA Added in Amount': p.add_iva_to_pc ? 'Yes' : 'No',\n          'PC Amount': '$ ' + (p.pc_received || 0),\n          'PC Receipt': p.pc_receipt ? 'Yes' : 'No',\n          'PC Invoice': p.pc_invoice ? 'Yes' : 'No',\n          'Collection Commission (in %)': p.cc_percent || 0,\n          'IVA Added in Amount 2': p.add_iva_to_cc ? 'Yes' : 'No',\n          'CC Amount': '$ ' + (p.cc_received || 0),\n          'CC Receipt': p.cc_receipt ? 'Yes' : 'No',\n          'CC Invoice': p.cc_invoice ? 'Yes' : 'No',\n          'Agent Commission (in %)': p.comm_shared_commission ? p.comm_shared_commission : 0,//(p?.comm_shared_commission | number : '1.2-3') :\n          'IVA Added in Amount 3': p.add_iva_to_ac ? 'Yes' : 'No',\n          'AC Receipt': p.ac_receipt ? 'Yes' : 'No',\n          'AC Invoice': p.ac_invoice ? 'Yes' : 'No',\n          'Commission Agent': (((p.deal_commission_agents || [])[0] || []).broker || {}).name ? ((((p.deal_commission_agents || [])[0] || []).broker || {}).name + ' ' + (((p.deal_commission_agents || [])[0] || []).broker || {}).first_surname + ' ' + (((p.deal_commission_agents || [])[0] || []).broker || {}).second_surname) : '',\n          'Price': '$ ' + (p.deal_price || 0),\n          'Penalty': '$ ' + (p.penalty || 0),\n          'Amount Paid': '$ ' + (p.total_payment_recieved || 0),\n          'Remanining Amount': '$ ' + (this.getRemainingAmt(p) || 0),\n          // 'Status Account': ''\n        });\n\n      }\n      new ExcelDownload().exportAsExcelFile(tempExportData, 'collections');\n    }\n  }\n  editDocsPopup(item: any, folderIndex: number, docIndex: number){\n    this.modelForDoc.name_en = item.name;\n    this.modelForDoc.id = item.id\n    this.folderId = this.collectionFolders[folderIndex].id;\n    this.localityOpen.nativeElement.click();\n  }\n\n  checkIfLocalitySpanishNameEntered(document) {\n    const self = this;\n    if (document.name === '') {\n      swal({\n        text: this.translate.instant('message.error.saveName'),\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: this.constant.confirmButtonColor,\n        cancelButtonColor: this.constant.cancelButtonColor,\n        confirmButtonText: 'Yes'\n      }).then((result) => {\n        if (result.value) {\n          this.editDocument(document);\n        }\n      });\n    } else {\n      self.editDocument(document);\n    }\n  } \n\n  closeEditModal() {\n    this.localityClose.nativeElement.click();\n  }\n\n  editDocument(document){\n    let self = this;\n    this.spinner.show();\n    let param = {\n      id:this.modelForDoc.id,\n      name:this.modelForDoc.name_en\n    }\n    this.admin.postDataApi('updateDocFolderName', param).subscribe(\n      r => {\n        self.spinner.hide();\n        self.collectionFolders.filter(folder =>{\n          if(folder.id == self.folderId){\n          folder.folder_docs.filter(doc =>{\n            if(doc.id == self.modelForDoc.id){\n            doc.name = self.modelForDoc.name_en;\n          }\n        });\n      }\n        });\n        self.closeEditModal();\n      }, error => {\n        self.spinner.hide();\n      });\n  }\n}\n","\n// third party libraries\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { AgmCoreModule } from '@agm/core';\nimport { Ng2TelInputModule } from 'ng2-tel-input';\nimport { NgxPaginationModule } from 'ngx-pagination';\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\nimport { MalihuScrollbarModule } from 'ngx-malihu-scrollbar';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ToastrModule } from 'ngx-toastr';\n\n// general components\nimport { AclUserGuard } from 'src/app/guards/acl-user.guard';\nimport { SharedModule } from 'src/app/modules/shared.module';\nimport { CalendarModule, DropdownModule } from 'primeng/primeng';\n// import { DropdownModule } from 'primeng/dropdown';\nimport { AddEditCollectionComponent } from './add-edit-collection/add-edit-collection.component';\nimport { CollectionsComponent } from './collections.component';\nimport { AnalyticsComponent } from './analytics/analytics.component';\nimport { QuickVisualizationComponent } from './quick-visualization/quick-visualization.component';\nimport { AccountStatementComponent } from './account-statement/account-statement.component';\n\nconst routes: Routes = [\n  // {\n  //   path: 'view-collections', component: CollectionsComponent,\n  //   canActivate: [AclUserGuard], data: { roles: ['Property Management', 'can_read', ''] }\n  // }\n  {\n    path: 'view-collections', component: CollectionsComponent,\n    canActivate: [AclUserGuard], data: { roles: ['Manage Collections', 'can_read', ''] }\n  },\n  {\n    path: 'view-collections/:id', component: CollectionsComponent,\n    canActivate: [AclUserGuard], data: { roles: ['Manage Collections', 'can_read', ''] }\n  },\n  {\n    path: 'add-collection/:id', component: AddEditCollectionComponent,\n    canActivate: [AclUserGuard], data: { roles: ['Manage Collections', 'can_create', ''] }\n  },\n  {\n    path: 'edit-collection/:id', component: AddEditCollectionComponent,\n    canActivate: [AclUserGuard], data: { roles: ['Manage Collections', 'can_update', ''] }\n  },\n  {\n    path: 'quick-visualization/:id', component: QuickVisualizationComponent,\n    canActivate: [AclUserGuard], data: { roles: ['Manage Collections', 'can_read', ''] }\n  },\n  {\n    path: 'account-statement/:id', component: AccountStatementComponent,\n    canActivate: [AclUserGuard], data: { roles: ['Manage Collections', 'can_read', ''] }\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes),\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NgxSpinnerModule,\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyDykCJGMqHIwJluSmSiqKTJBVN2KauM_uQ',\n      libraries: ['drawing', 'places']\n    }),\n    Ng2TelInputModule,\n    NgxPaginationModule,\n    CalendarModule,\n    SharedModule,\n    LazyLoadImageModule,\n    MalihuScrollbarModule.forRoot(),\n    TranslateModule,\n    DropdownModule,\n    ToastrModule.forRoot({\n      maxOpened: 1,\n      preventDuplicates: true,\n      autoDismiss: true\n    })\n  ],\n  declarations: [\n    CollectionsComponent,\n    AddEditCollectionComponent,\n    AnalyticsComponent,\n    QuickVisualizationComponent,\n    AccountStatementComponent\n  ]\n})\n\nexport class CollectionsModule { }\n\n","module.exports = \"\\n  th, td {\\n    padding: 5px;\\n    text-align: center;\\n  }\\n  h5{\\n    margin-top: 15px;\\n  }\\n  textarea {\\n    background: #fff !important;\\n  }\\n  .red-color{\\n    color: red;\\n  }\\n  table.table-striped.quick-table{\\n    table-layout: fixed;\\n  }\\n  table.table-striped.quick-table th, table.table-striped.quick-table td {\\n  width: 70px;\\n  word-break: break-word;\\n}\\n  .remaining_amt{\\n  background: #faebd7b0 !important;\\n  font-weight: 600;\\n}\\n  /* freeze first col and row */\\n  .main-table{\\n  height: 700px;\\n}\\n  table.table-striped.quick-table th, table.table-striped.quick-table td {\\n  width: 190px;\\n}\\n  table.table-striped.quick-table {\\n  table-layout: fixed;\\n  width:100%;\\n}\\n  table.table-striped.quick-table td:nth-child(1), table.table-striped.quick-table th:nth-child(1),\\ntable.table-striped.quick-table thead tr th \\n{\\n  position:-webkit-sticky;\\n  position:sticky;\\n  left:0;\\n  top: 0;\\n  z-index:1;\\n  background-color: #00B96F;\\n  color: #fff;\\n}\\n  table.table-striped.quick-table th:first-child {\\n  z-index:20;\\n}\\n  /* freeze first col and row */\\n  .sticky{\\n  position: sticky;  \\n  position: -webkit-sticky;  \\n  top: 46px;\\n  overflow: hidden;\\n  z-index: 100000;\\n}\\n  .content{\\n  height: 200vh;\\n}\\n  .black{\\n  color: #222;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2NvbGxlY3Rpb25zL3F1aWNrLXZpc3VhbGl6YXRpb24vcXVpY2stdmlzdWFsaXphdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7RUFDRTtJQUNFLGFBQWE7SUFDYixtQkFBbUI7R0FDcEI7RUFDRDtJQUNFLGlCQUFpQjtHQUNsQjtFQUVEO0lBQ0UsNEJBQTRCO0dBQzdCO0VBQ0Q7SUFDRSxXQUFXO0dBQ1o7RUFDRDtJQUNFLG9CQUFvQjtHQUNyQjtFQUVIO0VBQ0UsWUFBWTtFQUNaLHVCQUF1QjtDQUN4QjtFQUNEO0VBQ0UsaUNBQWlDO0VBQ2pDLGlCQUFpQjtDQUNsQjtFQUdELDhCQUE4QjtFQUM5QjtFQUNFLGNBQWM7Q0FDZjtFQUNEO0VBQ0UsYUFBYTtDQUNkO0VBQ0Q7RUFDRSxvQkFBb0I7RUFDcEIsV0FBVztDQUNaO0VBQ0Q7OztFQUdFLHdCQUFnQjtFQUFoQixnQkFBZ0I7RUFDaEIsT0FBTztFQUNQLE9BQU87RUFDUCxVQUFVO0VBQ1YsMEJBQTBCO0VBQzFCLFlBQVk7Q0FDYjtFQUNEO0VBQ0UsV0FBVztDQUNaO0VBQ0QsOEJBQThCO0VBRTlCO0VBQ0UsaUJBQWlCO0VBQ2pCLHlCQUF5QjtFQUN6QixVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLGdCQUFnQjtDQUNqQjtFQUdEO0VBQ0UsY0FBYztDQUNmO0VBQ0Q7RUFDRSxZQUFZO0NBQ2IiLCJmaWxlIjoic3JjL2FwcC9sYXlvdXQvY29sbGVjdGlvbnMvcXVpY2stdmlzdWFsaXphdGlvbi9xdWljay12aXN1YWxpemF0aW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgdGgsIHRkIHtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG4gIGg1e1xuICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gIH1cblxuICB0ZXh0YXJlYSB7XG4gICAgYmFja2dyb3VuZDogI2ZmZiAhaW1wb3J0YW50O1xuICB9XG4gIC5yZWQtY29sb3J7XG4gICAgY29sb3I6IHJlZDtcbiAgfVxuICB0YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxle1xuICAgIHRhYmxlLWxheW91dDogZml4ZWQ7XG4gIH1cbiAgXG50YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHRoLCB0YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHRkIHtcbiAgd2lkdGg6IDcwcHg7XG4gIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG59XG4ucmVtYWluaW5nX2FtdHtcbiAgYmFja2dyb3VuZDogI2ZhZWJkN2IwICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cblxuLyogZnJlZXplIGZpcnN0IGNvbCBhbmQgcm93ICovXG4ubWFpbi10YWJsZXtcbiAgaGVpZ2h0OiA3MDBweDtcbn1cbnRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGgsIHRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGQge1xuICB3aWR0aDogMTkwcHg7XG59XG50YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHtcbiAgdGFibGUtbGF5b3V0OiBmaXhlZDtcbiAgd2lkdGg6MTAwJTtcbn1cbnRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGQ6bnRoLWNoaWxkKDEpLCB0YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHRoOm50aC1jaGlsZCgxKSxcbnRhYmxlLnRhYmxlLXN0cmlwZWQucXVpY2stdGFibGUgdGhlYWQgdHIgdGggXG57XG4gIHBvc2l0aW9uOnN0aWNreTtcbiAgbGVmdDowO1xuICB0b3A6IDA7XG4gIHotaW5kZXg6MTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwQjk2RjtcbiAgY29sb3I6ICNmZmY7XG59XG50YWJsZS50YWJsZS1zdHJpcGVkLnF1aWNrLXRhYmxlIHRoOmZpcnN0LWNoaWxkIHtcbiAgei1pbmRleDoyMDtcbn1cbi8qIGZyZWV6ZSBmaXJzdCBjb2wgYW5kIHJvdyAqL1xuXG4uc3RpY2t5e1xuICBwb3NpdGlvbjogc3RpY2t5OyAgXG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTsgIFxuICB0b3A6IDQ2cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHotaW5kZXg6IDEwMDAwMDtcbn1cblxuXG4uY29udGVudHtcbiAgaGVpZ2h0OiAyMDB2aDtcbn1cbi5ibGFja3tcbiAgY29sb3I6ICMyMjI7XG59Il19 */\"","module.exports = \"<div class=\\\"container-fluid\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-lg-9 col-md-9 col-6\\\">\\n      <div class=\\\"title-group\\\">\\n        <h5><a routerLink=\\\"/dashboard/collections/view-collections/{{property_collection_id}}\\\" href=\\\"javascript://\\\"><i\\n              class=\\\"fa fa-angle-double-left\\\" style=\\\"font-size: 1.5em;\\\"></i> </a> &nbsp;&nbsp;{{'quickVisualization.label' | translate}}</h5>\\n      </div>\\n    </div>\\n     \\n    <div class=\\\"col-lg-2 col-md-2 col-6\\\">\\n      <div class=\\\"btn-cont text-right\\\">\\n          <a class=\\\"btn\\\" href=\\\"javascript://\\\" style=\\\"display: none;\\\" data-toggle=\\\"modal\\\" data-target=\\\"#addInhouseUser\\\" #inhouseUserModalOpen>{{'table.addNewBtn' | translate}}</a>\\n          <a class=\\\"btn btn-primary-new\\\" href=\\\"javascript://\\\" (click)=\\\"showApplyPaymentPopup()\\\">\\n            {{'table.title.applyPayment' | translate}}\\n          </a>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"col-lg-1 col-md-1 col-6\\\">\\n      <div class=\\\"btn-cont text-right\\\">\\n          <a routerLink=\\\"/dashboard/collections/view-collections\\\" \\n          class=\\\"btn btn-primary-new\\\" href=\\\"javascript://\\\">{{'quickVisualization.back' | translate}}</a>\\n        </div>\\n    </div>\\n  </div>\\n\\n  <hr>\\n\\n  <h5>{{'quickVisualization.stackholdersInformation' | translate}}</h5>\\n  <div class=\\\"row cust-tabs\\\">\\n    <div class=\\\"col-md-4\\\">\\n\\n        <div class=\\\"table-responsive\\\">\\n          <table class=\\\"table table-bordered white-bg\\\">\\n            <tbody id=\\\"accordion\\\">\\n              <tr>\\n                <th rowspan=\\\"3\\\">{{'quickVisualization.buyer' | translate}}:</th>\\n                <td *ngIf=\\\"model?.buyer_type==2\\\">\\n                  {{model?.buyer_legal_entity?.comm_name || ('table.tr.td.NA' | translate)}}\\n                </td>\\n                <td *ngIf=\\\"model?.buyer_type!=2\\\">\\n                  {{model?.buyer?.name ? (model?.buyer?.name + ' ' + model?.buyer?.first_surname + ' ' + model?.buyer?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.email || ('table.tr.td.NA' | translate)}}</td>\\n                <td *ngIf=\\\"model?.buyer_type!=2\\\">{{model?.buyer?.email || ('table.tr.td.NA' | translate)}}</td>\\n              </tr>\\n              <tr>\\n                <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.phone ? model?.buyer_legal_entity?.dial_code + ' ' + model?.buyer_legal_entity?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                <td *ngIf=\\\"model?.buyer_type!=2\\\">{{model?.buyer?.phone ? model?.buyer?.dial_code + ' ' + model?.buyer?.phone : ('table.tr.td.NA' | translate)}}</td>\\n              </tr>\\n              <ng-container *ngFor=\\\"let buyer_bank of buyerBanks; let sb=index\\\">\\n                <tr>\\n                  <td></td>\\n                  <td>\\n                   <a class=\\\"black\\\" data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapseBB{{sb}}\\\">\\n                     <b>Bank {{sb+1}}</b>\\n                    </a>\\n                  </td>\\n                </tr>\\n                <tr id=\\\"collapseBB{{sb}}\\\" class=\\\"panel-collapse collapse\\\">\\n                  <td></td>\\n                  <table [style.width]=\\\"'100%'\\\">\\n                    <tbody>\\n                      <tr><th>{{'quickVisualization.bankName' | translate}}</th></tr>\\n                      <tr><td>{{buyer_bank?.bank_name || 'NA'}}</td></tr>\\n                      <tr><th>{{'quickVisualization.accountNumber' | translate}}</th></tr>\\n                      <tr><td>{{buyer_bank?.account_number || 'NA'}}</td></tr>\\n                      <tr><th>{{'quickVisualization.clabeSwift' | translate}}</th></tr>\\n                      <tr><td>{{buyer_bank?.swift || 'NA'}}</td></tr>\\n                      <tr><th>{{'quickVisualization.currency' | translate}}</th></tr>\\n                      <tr><td>{{buyer_bank?.currency?.code || 'NA'}}</td></tr>\\n                    </tbody>\\n                    </table>\\n                </tr>\\n              </ng-container>\\n            </tbody>\\n          </table>\\n        </div>\\n          <div class=\\\"table-responsive\\\">\\n            <table class=\\\"table table-bordered white-bg\\\">\\n              <tbody>\\n                <tr>\\n                  <th rowspan=\\\"3\\\">{{'quickVisualization.seller' | translate}}:</th>\\n                  <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.comm_name || ('table.tr.td.NA' | translate)}}</td>\\n                  <td *ngIf=\\\"model?.seller_type!=2\\\">\\n                    {{model?.seller?.name ? (model?.seller?.name + ' ' + model?.seller?.first_surname + ' ' + model?.seller?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.email || ('table.tr.td.NA' | translate)}}</td>\\n                  <td *ngIf=\\\"model?.seller_type!=2\\\">{{model?.seller?.email || ('table.tr.td.NA' | translate)}}</td>\\n                </tr>\\n                <tr>\\n                  <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.phone ? model?.seller_legal_entity?.dial_code + ' ' + model?.seller_legal_entity?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                  <td *ngIf=\\\"model?.seller_type!=2\\\">{{model?.seller?.phone ? model?.seller?.dial_code + ' ' + model?.seller?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                </tr>\\n                <ng-container *ngFor=\\\"let seller_bank of sellerBanks; let sb=index\\\">\\n                  <tr>\\n                    <td></td>\\n                    <td>\\n                     <a class=\\\"black\\\" data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapseSB{{sb}}\\\">\\n                       <b>Bank {{sb+1}}</b>\\n                      </a>\\n                    </td>\\n                  </tr>\\n                  <tr id=\\\"collapseSB{{sb}}\\\" class=\\\"panel-collapse collapse\\\">\\n                    <td></td>\\n                    <table [style.width]=\\\"'100%'\\\">\\n                      <tbody>\\n                        <tr><th>{{'quickVisualization.bankName' | translate}}</th></tr>\\n                        <tr><td>{{seller_bank?.bank_name || 'NA'}}</td></tr>\\n                        <tr><th>{{'quickVisualization.accountNumber' | translate}}</th></tr>\\n                        <tr><td>{{seller_bank?.account_number || 'NA'}}</td></tr>\\n                        <tr><th>{{'quickVisualization.clabeSwift' | translate}}</th></tr>\\n                        <tr><td>{{seller_bank?.swift || 'NA'}}</td></tr>\\n                        <tr><th>{{'quickVisualization.currency' | translate}}</th></tr>\\n                        <tr><td>{{seller_bank?.currency?.code || 'NA'}}</td></tr>\\n                      </tbody>\\n                      </table>\\n                  </tr>\\n                </ng-container>\\n              </tbody>\\n            </table>\\n          </div>\\n          <div class=\\\"table-responsive\\\">\\n            <table class=\\\"table table-bordered white-bg\\\">\\n              <tbody>\\n                <tr>\\n                  <th rowspan=\\\"3\\\">\\n                    {{model?.deal_commission_agents?.length>0 && model?.deal_commission_agents[0]?.broker?.is_external_agent==1 ? ('quickVisualization.outsideAgent' | translate) : ('quickVisualization.inhouseAgent' | translate)}}:\\n                  </th>\\n                  <td>\\n                    {{model?.deal_commission_agents?.length>0 ? \\n                      (model?.deal_commission_agents[0]?.broker?.name + ' ' + model?.deal_commission_agents[0]?.broker?.first_surname + ' ' +model?.deal_commission_agents[0]?.broker?.second_surname) : \\n                      ('table.tr.td.NA' | translate)}}</td>\\n                </tr>\\n                <tr>\\n                  <td>{{model?.deal_commission_agents?.length>0 ? model?.deal_commission_agents[0]?.broker?.email : ('table.tr.td.NA' | translate)}}</td>\\n                </tr>\\n                <tr>\\n                  <td>{{model?.deal_commission_agents?.length>0 ? model?.deal_commission_agents[0]?.broker?.dial_code + ' ' +model?.deal_commission_agents[0]?.broker?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n    </div>\\n\\n    <div class=\\\"col-md-1\\\"></div>\\n\\n    <div class=\\\"col-md-4\\\">\\n\\n          <div class=\\\"table-responsive\\\">\\n            <table class=\\\"table table-bordered white-bg\\\">\\n              <tbody>\\n                <tr>\\n                  <th rowspan=\\\"3\\\">{{'quickVisualization.buyerLegal' | translate}} <br> {{'quickVisualization.representativeContact' | translate}}:</th>\\n                    <td *ngIf=\\\"model?.buyer_type==1\\\">\\n                      {{model?.buyer?.legal_representative?.name ? (model?.buyer?.legal_representative?.name + ' ' + model?.buyer?.legal_representative?.first_surname + ' ' + model?.buyer?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </td>\\n                    <td *ngIf=\\\"model?.buyer_type==2\\\">\\n                      {{model?.buyer_legal_entity?.legal_reps?.name ? (model?.buyer_legal_entity?.legal_reps?.name + ' ' +model?.buyer_legal_entity?.legal_reps?.first_surname + ' ' + model?.buyer_legal_entity?.legal_reps?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </td>\\n                    <td *ngIf=\\\"model?.buyer_type==3\\\">\\n                      {{model?.buyer?.legal_representative?.name ? (model?.buyer?.legal_representative?.name + ' ' + model?.buyer?.legal_representative?.first_surname + ' ' + model?.buyer?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </td>\\n                 </tr>\\n                <tr>\\n                  <td *ngIf=\\\"model?.buyer_type==1\\\">{{model?.buyer_leg_rep_email || ('table.tr.td.NA' | translate)}}</td>\\n                  <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.legal_reps?.email || ('table.tr.td.NA' | translate)}}</td>\\n                  <td *ngIf=\\\"model?.buyer_type==3\\\">{{model?.buyer?.legal_representative?.email || ('table.tr.td.NA' | translate)}}</td>\\n                 </tr>\\n                <tr>\\n                  <td *ngIf=\\\"model?.buyer_type==1\\\">{{model?.buyer_leg_rep_phone ? model?.buyer?.dial_code + ' '+ model?.buyer_leg_rep_phone : ('table.tr.td.NA' | translate)}}</td>\\n                  <td *ngIf=\\\"model?.buyer_type==2\\\">{{model?.buyer_legal_entity?.legal_reps?.phone ? model?.buyer_legal_entity?.legal_reps?.dial_code + ' '+ model?.buyer_legal_entity?.legal_reps?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                  <td *ngIf=\\\"model?.buyer_type==3\\\">{{model?.buyer?.legal_representative?.phone ? model?.buyer?.dial_code + ' ' + model?.buyer?.legal_representative?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                </tr>\\n                <ng-container *ngFor=\\\"let buyer_rep_banks of buyerRepBanks; let sb=index\\\">\\n                  <tr>\\n                    <td></td>\\n                    <td>\\n                     <a class=\\\"black\\\" data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapseBRB{{sb}}\\\">\\n                       <b>Bank {{sb+1}}</b>\\n                      </a>\\n                    </td>\\n                  </tr>\\n                  <tr id=\\\"collapseBRB{{sb}}\\\" class=\\\"panel-collapse collapse\\\">\\n                    <td></td>\\n                    <table [style.width]=\\\"'100%'\\\">\\n                      <tbody>\\n                        <tr><th>{{'quickVisualization.bankName' | translate}}</th></tr>\\n                        <tr><td>{{buyer_rep_banks?.bank_name || 'NA'}}</td></tr>\\n                        <tr><th>{{'quickVisualization.accountNumber' | translate}}</th></tr>\\n                        <tr><td>{{buyer_rep_banks?.account_number || 'NA'}}</td></tr>\\n                        <tr><th>{{'quickVisualization.clabeSwift' | translate}}</th></tr>\\n                        <tr><td>{{buyer_rep_banks?.swift || 'NA'}}</td></tr>\\n                        <tr><th>{{'quickVisualization.currency' | translate}}</th></tr>\\n                        <tr><td>{{buyer_rep_banks?.currency?.code || 'NA'}}</td></tr>\\n                      </tbody>\\n                      </table>\\n                  </tr>\\n                </ng-container>\\n              </tbody>\\n            </table>\\n          </div>\\n            <div class=\\\"table-responsive\\\">\\n              <table class=\\\"table table-bordered white-bg\\\">\\n                <tbody>\\n                  <tr>\\n                    <th rowspan=\\\"3\\\">{{'quickVisualization.sellerLegal' | translate}} <br> {{'quickVisualization.representativeContact' | translate}}:</th>\\n                    <td *ngIf=\\\"model?.seller_type==1\\\">\\n                      {{model?.seller?.legal_representative?.name ? (model?.seller?.legal_representative?.name + ' ' + model?.seller?.legal_representative?.first_surname + ' ' + model?.seller?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </td>\\n                    <td *ngIf=\\\"model?.seller_type==2\\\">\\n                      {{model?.seller_legal_entity?.legal_reps?.name ? (model?.seller_legal_entity?.legal_reps?.name + ' ' +model?.seller_legal_entity?.legal_reps?.first_surname + ' ' + model?.seller_legal_entity?.legal_reps?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </td>\\n                    <td *ngIf=\\\"model?.seller_type==3\\\">\\n                      {{model?.seller?.legal_representative?.name ? (model?.seller?.legal_representative?.name + ' ' + model?.seller?.legal_representative?.first_surname + ' ' + model?.seller?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}\\n                    </td>\\n                 </tr>\\n                <tr>\\n                  <td *ngIf=\\\"model?.seller_type==1\\\">{{model?.seller_leg_rep_email || ('table.tr.td.NA' | translate)}}</td>\\n                  <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.legal_reps?.email || ('table.tr.td.NA' | translate)}}</td>\\n                  <td *ngIf=\\\"model?.seller_type==3\\\">{{model?.seller?.legal_representative?.email || ('table.tr.td.NA' | translate)}}</td>\\n                 </tr>\\n                 <tr>\\n                   <td *ngIf=\\\"model?.seller_type==1\\\">{{model?.seller_leg_rep_phone ? model?.seller?.dial_code + ' '+ model?.seller_leg_rep_phone : ('table.tr.td.NA' | translate)}}</td>\\n                   <td *ngIf=\\\"model?.seller_type==2\\\">{{model?.seller_legal_entity?.legal_reps?.phone ? model?.seller_legal_entity?.legal_reps?.dial_code + ' '+ model?.seller_legal_entity?.legal_reps?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                   <td *ngIf=\\\"model?.seller_type==3\\\">{{model?.seller?.legal_representative?.phone ? model?.seller?.dial_code + ' ' + model?.seller?.legal_representative?.phone : ('table.tr.td.NA' | translate)}}</td>\\n                 </tr>\\n                 <ng-container *ngFor=\\\"let seller_rep_banks of sellerRepBanks; let sb=index\\\">\\n                   <tr>\\n                     <td></td>\\n                     <td>\\n                      <a class=\\\"black\\\" data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapseSRB{{sb}}\\\">\\n                        <b>Bank {{sb+1}}</b>\\n                       </a>\\n                     </td>\\n                   </tr>\\n                   <tr id=\\\"collapseSRB{{sb}}\\\" class=\\\"panel-collapse collapse\\\">\\n                     <td></td>\\n                     <table [style.width]=\\\"'100%'\\\">\\n                       <tbody>\\n                         <tr><th>{{'quickVisualization.bankName' | translate}}</th></tr>\\n                         <tr><td>{{seller_rep_banks?.bank_name || 'NA'}}</td></tr>\\n                         <tr><th>{{'quickVisualization.accountNumber' | translate}}</th></tr>\\n                         <tr><td>{{seller_rep_banks?.account_number || 'NA'}}</td></tr>\\n                         <tr><th>{{'quickVisualization.clabeSwift' | translate}}</th></tr>\\n                         <tr><td>{{seller_rep_banks?.swift || 'NA'}}</td></tr>\\n                         <tr><th>{{'quickVisualization.currency' | translate}}</th></tr>\\n                         <tr><td>{{seller_rep_banks?.currency?.code || 'NA'}}</td></tr>\\n                       </tbody>\\n                       </table>\\n                   </tr>\\n                 </ng-container>\\n                </tbody>\\n              </table>\\n            </div>\\n      </div>\\n  </div>\\n\\n\\n    <h5>{{'quickVisualization.generalPropertyInformation' | translate}}</h5>\\n    <div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\">\\n\\n          <div class=\\\"table-responsive\\\">\\n            <table class=\\\"table table-bordered white-bg\\\">\\n              <tbody>\\n                  <tr>\\n                      <th>{{'quickVisualization.project' | translate}}:</th>\\n                      <td>{{model?.property?.building?.name || ('table.tr.td.NA' | translate)}}</td>\\n                    </tr>\\n                    <tr>\\n                      <th>{{'quickVisualization.tower' | translate}}:</th>\\n                      <td>{{model?.property?.building_towers?.tower_name || ('table.tr.td.NA' | translate)}}</td>\\n                    </tr>\\n                    <tr>\\n                      <th>{{'quickVisualization.floor' | translate}}:</th>\\n                      <td>\\n                          {{model?.property?.floor_num ? (model?.property?.floor_num == 0 ? ('addCollection.groundFloor' | translate) : ('addCollection.floor' | translate) + ' ' + model?.property?.floor_num) : ('table.tr.td.NA' | translate)}}\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>{{'quickVisualization.model' | translate}}:</th>\\n                      <td>{{model?.property?.building_configuration?.name || ('table.tr.td.NA' | translate)}}</td>\\n                    </tr>\\n                    <tr>\\n                      <th>{{'quickVisualization.propertyName' | translate}}:</th>\\n                      <td>{{model?.property?.name || ('table.tr.td.NA' | translate)}}</td>\\n                    </tr>\\n                    <tr>\\n                      <th>{{'quickVisualization.price' | translate}}:</th>\\n                      <td>{{(model?.deal_price || 0) | currency}}</td>\\n                    </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n      </div>\\n  \\n      <div class=\\\"col-md-1\\\"></div>\\n  \\n      <div class=\\\"col-md-4\\\">  \\n            <div class=\\\"table-responsive\\\">\\n              <table class=\\\"table table-bordered white-bg\\\">\\n                  <tbody>\\n                      <tr>\\n                          <th>{{'quickVisualization.purchaseDate' | translate}}:</th>\\n                          <td>{{model?.deal_purchase_date ? (model?.deal_purchase_date | date:'dd/MMM/yyyy') : ('table.tr.td.NA' | translate)}}</td>\\n                        </tr>\\n                        <tr>\\n                          <th>{{'quickVisualization.currency' | translate}}:</th>\\n                          <td>{{model?.currency?.code || ('table.tr.td.NA' | translate)}}</td>\\n                        </tr>\\n                  </tbody>\\n              </table>\\n            </div>\\n              <div class=\\\"table-responsive\\\">\\n                <table class=\\\"table table-bordered white-bg\\\">\\n                    <tbody>\\n                          <tr>\\n                              <th>\\n                                <a data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#coll\\\">\\n                                  {{'quickVisualization.paid' | translate}}:\\n                                </a>\\n                              </th>\\n                              <td>{{(model?.total_payment_recieved || 0) | currency}}</td>\\n                          </tr>\\n                          <tr id=\\\"coll\\\" class=\\\"panel-collapse collapse\\\">\\n                            <td colspan=\\\"2\\\">\\n                              <table>\\n                                <tbody>\\n                                  <tr *ngFor=\\\"let d of data2\\\">\\n                                    <th>{{d?.name_en}}</th>\\n                                    <td>{{(d?.total_amount || 0) | currency}}</td>\\n                                  </tr>\\n                                </tbody>\\n                              </table>\\n                            </td>\\n                          </tr>\\n                          <tr>\\n                            <th>{{'quickVisualization.remaining' | translate}}:</th>\\n                            <!-- <td>{{((model?.total || 0) - (model?.paid || 0)) | currency}}</td> -->\\n                            <td>{{remainingAmt > 0 ? (remainingAmt | currency) : ( 0 | currency)}}</td>\\n                           <!-- <td>{{(totalOutstanding || 0) | currency}}</td> -->\\n                          </tr>\\n                          <tr>\\n                            <th>{{'quickVisualization.totalPenalty' | translate}}:</th>\\n                            <td>{{(model?.penalty || 0) | currency}}</td>\\n                          </tr>\\n                    </tbody>\\n                </table>\\n              </div>\\n        </div>\\n\\n  </div>\\n\\n<h5>{{'quickVisualization.paymentInformation' | translate}}</h5>\\n      <div id=\\\"accordion\\\" class=\\\"table-responsive main-table\\\">\\n        <table class=\\\"table table-bordered table-striped table-align-center quick-table\\\" >\\n          <thead class=\\\"header\\\" id=\\\"myHeader\\\" >  \\n            <tr>\\n              <th [style.width]=\\\"'200px'\\\" [style.z-index]=\\\"100\\\">\\n                <b>{{'quickVisualization.concept' | translate}}</b>\\n              </th>\\n              <th [style.width]=\\\"'140px'\\\">\\n                <b>{{'quickVisualization.month' | translate}}</b>\\n              </th>\\n              <!-- <th [style.width]=\\\"'140px'\\\">\\n                <b>{{'quickVisualization.paymentDate' | translate}}</b>\\n              </th> -->\\n              <th [style.width]=\\\"'120px'\\\">\\n                  <b>{{'quickVisualization.paid' | translate}}</b>\\n              </th>\\n              <!-- <th [style.width]=\\\"'150px'\\\">\\n                <b>{{'quickVisualization.paymentMethods' | translate}}</b>\\n              </th> -->\\n              <th [style.width]=\\\"'120px'\\\">\\n                  <b>{{'quickVisualization.outstandingPayment' | translate}}</b>\\n              </th>\\n              <!-- <th [style.width]=\\\"'120px'\\\">\\n                  <b>{{'quickVisualization.paidByUser' | translate}}</b>\\n              </th> -->\\n              <th [style.width]=\\\"'120px'\\\">\\n                  <b>{{'quickVisualization.toBePaidByUser' | translate}}</b>\\n              </th>\\n              <!-- <th>\\n                  <b>{{'quickVisualization.paymentAttachment' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.paymentDescription' | translate}}</b>\\n              </th> -->\\n              <th [style.width]=\\\"'120px'\\\">\\n                  <b>{{'quickVisualization.penaltyFLP' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.penaltyDescription' | translate}}</b>\\n              </th>\\n              <th [style.width]=\\\"'120px'\\\">\\n                  <b>{{'quickVisualization.purchasedCommission' | translate}}</b>\\n              </th>\\n              <th [style.width]=\\\"'150px'\\\">\\n                  <b>{{'quickVisualization.dateOfPC' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.PCAttachment' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.PCDescription' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.invoiceDate' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.invoiceID' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.pdfDoc' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.xmlDoc' | translate}}</b>\\n              </th>\\n              <th [style.width]=\\\"'120px'\\\">\\n                  <b>{{'quickVisualization.collectionCommission' | translate}}</b>\\n              </th>\\n              <th [style.width]=\\\"'150px'\\\">\\n                  <b>{{'quickVisualization.dateOfCC' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.CCAttachment' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.CCDescription' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.invoiceDate' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.invoiceID' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.pdfDoc' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.xmlDoc' | translate}}</b>\\n              </th>\\n              <th [style.width]=\\\"'120px'\\\">\\n                  <b>{{'quickVisualization.agentCommission' | translate}}</b>\\n              </th>\\n              <th [style.width]=\\\"'150px'\\\">\\n                  <b>{{'quickVisualization.dateOfAC' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.ACAttachment' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.ACDescription' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.invoiceDate' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.invoiceID' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.pdfDoc' | translate}}</b>\\n              </th>\\n              <th>\\n                  <b>{{'quickVisualization.xmlDoc' | translate}}</b>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody *ngFor=\\\"let p of allPaymentConcepts; let i=index\\\">\\n            <tr [ngClass]=\\\"{'remaining_amt': p.key == 'remaining_amt'}\\\">\\n              <td>\\n                <a style=\\\"color: #fff;\\\" class=\\\"color-changed\\\" data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapse{{i}}\\\">\\n                    {{p?.name}}\\n                </a>\\n              </td>\\n              <td>{{p?.date | date:'dd/MMM/yyyy'}}</td>\\n              <!-- <td>{{p?.payment_date || ''}}</td> -->\\n              <td>\\n                <!-- {{p?.paid_amount}}<br> -->\\n                {{p?.paid_amount && p?.paid_amount>'0.1' ? (p?.paid_amount | currency) : ''}}<br>\\n                <!-- {{p?.new_paid_amt ? (p?.new_paid_amt | currency) : ''}}  -->\\n                <!-- {{p?.is_paid_calculated == 1 ? p?.amount : (p?.collection_payment ? (p?.collection_payment?.amount | currency) : '')}} -->\\n              </td>\\n              <!-- <td>{{p?.collection_payment?.payment_method?.name || ''}}</td> -->\\n              <td>\\n                <span [ngClass]=\\\"{'red-color':p?.is_pending}\\\">\\n                  {{p?.outstanding_amount && p?.outstanding_amount > 0 ? (p?.outstanding_amount | currency) : ''}}\\n                </span>\\n                <!-- <span [ngClass]=\\\"{'red-color':(p?.amount != p?.collection_payment?.amount) && p?.collection_payment?.amount}\\\">\\n                  {{p?.is_paid_calculated!=1 && p?.amount ? ((p?.amount || 0) | currency) : ''}}\\n                </span> -->\\n              </td>\\n              <!-- <td>\\n                {{p?.collection_payment ? (p?.collection_payment?.amount | currency) : ''}}\\n              </td> -->\\n              <td>\\n                  {{p?.amount ? ((p?.amount || 0) | currency) : ''}}\\n              </td>\\n              <!-- <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"p?.collection_payment && p?.key!='total'\\\" target=\\\"_blank\\\" href=\\\"{{p?.collection_payment?.receipt}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>\\n              <td>\\n                <button class=\\\"action-icon\\\" *ngIf=\\\"p?.collection_payment?.description\\\" (click)=\\\"showDescription(p?.collection_payment?.description, 1)\\\">\\n                    <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                </button>\\n              </td> -->\\n              <td>\\n                {{p?.penalty ? ((p?.penalty?.amount || 0) | currency) : ''}}\\n              </td>\\n              <td>\\n                  <button class=\\\"action-icon\\\" *ngIf=\\\"p?.penalty?.description\\\" (click)=\\\"showDescription(p?.penalty?.description, 2)\\\">\\n                      <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                  </button>\\n              </td>\\n              <td>\\n                {{collectionCommission[i]?.purchase_payment ? \\n                  ((collectionCommission[i]['purchase_payment']?.amount + (collectionCommission[i]['purchase_payment']?.iva_amount || 0)) | currency) : ''}}</td>\\n              <td>\\n                {{collectionCommission[i]?.purchase_payment ? (collectionCommission[i]['purchase_payment']?.payment_date | date:'dd/MMM/yyyy') : ''}}</td>\\n              <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"collectionCommission[i]?.purchase_payment\\\" target=\\\"_blank\\\" href=\\\"{{collectionCommission[i]?.purchase_payment?.receipt}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>\\n              <td>\\n                  <button class=\\\"action-icon\\\" *ngIf=\\\"collectionCommission[i]?.purchase_payment?.description\\\" (click)=\\\"showDescription(collectionCommission[i]?.purchase_payment?.description, 3)\\\">\\n                      <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                  </button>\\n              </td>\\n              <td>{{collectionCommission[i]?.purchase_payment ?\\n                (collectionCommission[i]['purchase_payment']?.invoice_date | date:'dd/MMM/yyyy') : ''}}</td>\\n              <td>{{collectionCommission[i]?.purchase_payment ?\\n                (collectionCommission[i]['purchase_payment']?.invoice_id) : ''}}</td>\\n              <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"collectionCommission[i]?.purchase_payment && collectionCommission[i]?.purchase_payment?.pdf_url\\\" target=\\\"_blank\\\" href=\\\"{{collectionCommission[i]?.purchase_payment?.pdf_url}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>\\n              <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"collectionCommission[i]?.purchase_payment && collectionCommission[i]?.purchase_payment?.xml_url\\\" target=\\\"_blank\\\" href=\\\"{{collectionCommission[i]?.purchase_payment?.xml_url}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>\\n              <td> {{collectionCommission[i]?.payment ? \\n                ((collectionCommission[i]['payment']?.amount + (collectionCommission[i]['payment']?.iva_amount || 0)) | currency) : ''}}</td>\\n              <td>\\n                {{collectionCommission[i]?.payment ? (collectionCommission[i]['payment']?.payment_date | date:'dd/MMM/yyyy') : ''}}</td>\\n              <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"collectionCommission[i]?.payment\\\" target=\\\"_blank\\\" href=\\\"{{collectionCommission[i]?.payment?.receipt}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>\\n              <td>\\n                  <button class=\\\"action-icon\\\" *ngIf=\\\"collectionCommission[i]?.payment?.description\\\" (click)=\\\"showDescription(collectionCommission[i]?.payment?.description, 4)\\\">\\n                      <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                  </button>\\n              </td>   \\n              <td>{{collectionCommission[i]?.payment ? (collectionCommission[i]['payment']?.invoice_date | date:'dd/MMM/yyyy') : ''}}</td>\\n              <td>{{collectionCommission[i]?.payment ? (collectionCommission[i]['payment']?.invoice_id) : ''}}</td>\\n              <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"collectionCommission[i]?.payment && collectionCommission[i]?.payment?.pdf_url\\\" target=\\\"_blank\\\" href=\\\"{{collectionCommission[i]?.payment?.pdf_url}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>\\n              <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"collectionCommission[i]?.payment && collectionCommission[i]?.payment?.xml_url\\\" target=\\\"_blank\\\" href=\\\"{{collectionCommission[i]?.payment?.xml_url}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>   \\n\\n              <td>\\n                {{collectionCommission[i]?.agent_payment ? \\n                  ((collectionCommission[i]['agent_payment']?.amount + (collectionCommission[i]['agent_payment']?.iva_amount || 0)) | currency) : ''}}</td>\\n              <td>\\n                {{collectionCommission[i]?.agent_payment ? (collectionCommission[i]['agent_payment']?.payment_date | date:'dd/MMM/yyyy') : ''}}</td>\\n              <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"collectionCommission[i]?.agent_payment\\\" target=\\\"_blank\\\" href=\\\"{{collectionCommission[i]?.agent_payment?.receipt}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>\\n              <td>\\n                  <button class=\\\"action-icon\\\" *ngIf=\\\"collectionCommission[i]?.agent_payment?.description\\\" (click)=\\\"showDescription(collectionCommission[i]?.agent_payment?.description, 5)\\\">\\n                      <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                  </button>\\n              </td>\\n              <td>{{collectionCommission[i]?.agent_payment ?\\n                (collectionCommission[i]['agent_payment']?.invoice_date | date:'dd/MMM/yyyy') : ''}}</td>\\n              <td>{{collectionCommission[i]?.agent_payment ?\\n                (collectionCommission[i]['agent_payment']?.invoice_id) : ''}}</td>\\n              <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"collectionCommission[i]?.agent_payment && collectionCommission[i]?.agent_payment?.pdf_url\\\" target=\\\"_blank\\\" href=\\\"{{collectionCommission[i]?.agent_payment?.pdf_url}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>\\n              <td>\\n                <a class=\\\"green-color fontW500\\\" *ngIf=\\\"collectionCommission[i]?.agent_payment && collectionCommission[i]?.agent_payment?.xml_url\\\" target=\\\"_blank\\\" href=\\\"{{collectionCommission[i]?.agent_payment?.xml_url}}\\\">\\n                  {{'quickVisualization.view' | translate}}\\n                </a>\\n              </td>        \\n              </tr>\\n            \\n            \\n              <tr id=\\\"collapse{{i}}\\\" class=\\\"panel-collapse collapse\\\">\\n                  <td colspan=\\\"8\\\" style=\\\"background: #fff;\\\">\\n                  <table>\\n                    <thead style=\\\"background: #00B96F; color: #fff;\\\">\\n                      <th [style.width]=\\\"'240px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.concept' | translate}}</th>\\n                      <th [style.width]=\\\"'300px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paymentDate' | translate}}</th>\\n                      <th [style.width]=\\\"'300px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paidByUser' | translate}}</th>\\n                      <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paymentMethods' | translate}}</th>\\n                      <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.bankDetails' | translate}}</th>\\n                      <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paymentAttachment' | translate}}</th>\\n                      <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.paymentDescription' | translate}}</th>\\n                      <th [style.width]=\\\"'200px'\\\" [style.color]=\\\"'#fff'\\\">{{'quickVisualization.action' | translate}}</th>\\n                    </thead>\\n                    <tbody *ngIf=\\\"p?.collection_paymentss?.length>0\\\">\\n                      <ng-container *ngFor=\\\"let stats of p?.collection_paymentss; let s=index\\\">\\n                      <tr *ngIf=\\\"stats.payment_type==1 || stats.payment_type==3 || stats.payment_type==4 || stats.payment_type==5\\\">\\n                        <td [style.backgroundColor]=\\\"'#fff'\\\" [style.color]=\\\"'#222'\\\">\\n                          {{p?.name || 'NA'}}\\n                        </td>\\n                        <td>\\n                          {{stats.payment_date ? (stats.payment_date | date:'dd/MMM/yyyy') : 'NA'}}\\n                        </td>\\n                        <td>\\n                          <span> {{stats?.amount ? (stats?.amount | currency) : ''}}</span> \\n                        </td>\\n                        <td>\\n                          <span> {{stats?.payment_method?.name || 'NA'}}</span> \\n                        </td>\\n                        <td>\\n                          <a class=\\\"green-color cursor-pointer fontW500\\\" *ngIf=\\\"stats?.payment_bank\\\" (click)=\\\"showBank(stats?.payment_bank)\\\">\\n                            {{'quickVisualization.view' | translate}}\\n                          </a>\\n                        </td>\\n                        <td>\\n                          <a class=\\\"green-color fontW500\\\" *ngIf=\\\"stats?.key!='total'\\\" target=\\\"_blank\\\" href=\\\"{{stats?.receipt}}\\\">\\n                            {{'quickVisualization.view' | translate}}\\n                          </a>\\n                        </td>\\n                        <td>\\n                          <button class=\\\"action-icon\\\" *ngIf=\\\"stats?.description\\\" (click)=\\\"showDescription(stats?.description, 1)\\\">\\n                              <img src=\\\"assets/img/eye-icon.png\\\" alt=\\\"img\\\">\\n                          </button>\\n                        </td>\\n                        <td>\\n                          <button class=\\\"action-icon\\\" (click)=\\\"showUpdatePaymentPopup(stats, i, s)\\\">\\n                            <img src=\\\"assets/img/edit.png\\\" alt=\\\"img\\\">\\n                          </button>\\n                        </td>\\n                      </tr>\\n                    </ng-container>\\n                    </tbody>\\n                  </table>\\n                </td>\\n                </tr>\\n            \\n          </tbody>\\n        </table>\\n      </div>\\n</div>\\n\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#bank-modal\\\" #viewBankDetailsModal></a>\\n<div class=\\\"modal animated\\\" id=\\\"bank-modal\\\">\\n      <div class=\\\"modal-dialog fadeIndown\\\">\\n            <div class=\\\"modal-content notary-avail\\\">\\n                  <div class=\\\"modal-header popup-header\\\">\\n                        <h4>{{'quickVisualization.bankDetails' | translate}}</h4>\\n                        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" #closeBankDetailsModal>&times;</button>\\n                        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeBankModal()\\\">&times;</button>\\n                  </div>\\n\\n                  <div class=\\\"modal-body\\\">\\n                    <table [style.width]=\\\"'100%'\\\">\\n                      <tbody>\\n                        <tr><th>{{'quickVisualization.bankName' | translate}}</th></tr>\\n                        <tr><td>{{paymentBank?.bank_name || 'NA'}}</td></tr>\\n                        <tr><th>{{'quickVisualization.accountNumber' | translate}}</th></tr>\\n                        <tr><td>{{paymentBank?.account_number || 'NA'}}</td></tr>\\n                        <tr><th>{{'quickVisualization.clabeSwift' | translate}}</th></tr>\\n                        <tr><td>{{paymentBank?.swift || 'NA'}}</td></tr>\\n                        <tr><th>{{'quickVisualization.currency' | translate}}</th></tr>\\n                        <tr><td>{{paymentBank?.currency?.code || 'NA'}}</td></tr>\\n                      </tbody>\\n                    </table>\\n                  </div>\\n            </div>\\n      </div>\\n</div>\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#des-modal\\\" #viewDesModal></a>\\n<div class=\\\"modal animated\\\" id=\\\"des-modal\\\">\\n      <div class=\\\"modal-dialog fadeIndown\\\">\\n            <div class=\\\"modal-content notary-avail\\\">\\n                  <div class=\\\"modal-header popup-header\\\">\\n                        <h4 *ngIf=\\\"title==1\\\">{{'quickVisualization.paymentDescription' | translate}}</h4>\\n                        <h4 *ngIf=\\\"title==2\\\">{{'quickVisualization.penaltyDescription' | translate}}</h4>\\n                        <h4 *ngIf=\\\"title==3\\\">{{'quickVisualization.PCDescription' | translate}}</h4>\\n                        <h4 *ngIf=\\\"title==4\\\">{{'quickVisualization.CCDescription' | translate}}</h4>\\n                        <h4 *ngIf=\\\"title==5\\\">{{'quickVisualization.ACDescription' | translate}}</h4>\\n                        <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" #viewDesModalClose>&times;</button>\\n                        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeDescModal()\\\">&times;</button>\\n                  </div>\\n\\n                  <div class=\\\"modal-body\\\">\\n                        <div class=\\\"form-group-2\\\">\\n                              <div class=\\\"form-group\\\">\\n                                    <textarea rows=\\\"4\\\" readonly required class=\\\"form-control note\\\" name=\\\"description\\\" [(ngModel)]=\\\"description\\\"></textarea>\\n                              </div>\\n                        </div>\\n                  </div>\\n            </div>\\n      </div>\\n</div>\\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#updatePyamentModal\\\" #updatePaymentModalOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"updatePyamentModal\\\">\\n    <div class=\\\"modal-dialog fadeIndown modal-lg\\\">\\n        <div class=\\\"modal-content notary-avail\\\">\\n              <div class=\\\"modal-header popup-header\\\">\\n          <h4>{{'quickVisualization.editPaymentDetails' | translate}}</h4>\\n            <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" #updatePaymentModalClose>&times;</button>\\n            <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeUpdatePaymentModal(); addForm.reset()\\\">&times;</button>\\n        </div>\\n  \\n        <form autocomplete=\\\"off\\\" class=\\\"form-horizontal padding0\\\" role=\\\"form\\\" ngNativeValidate #addForm=\\\"ngForm\\\" (ngSubmit)=\\\"updateCollectionPayment()\\\">\\n          <div class=\\\"modal-body\\\">\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-12\\\">\\n                <div class=\\\"spacer40\\\"></div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.choosePaymentMethod' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                        <select name=\\\"payment_method\\\" required class=\\\"form-control\\\" [(ngModel)]=\\\"payment_method_id\\\">\\n                              <option value=\\\"\\\">{{'viewCollections.choosePaymentMethod' | translate}}</option>\\n                              <option *ngFor=\\\"let bt of paymentMethods\\\" [value]=\\\"bt.id\\\"> {{bt?.name}}</option>\\n                        </select>\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.choosePaymentReceipt' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                      <p *ngIf=\\\"docFile\\\">\\n                        <span>\\n                          <a target=\\\"_blank\\\" href=\\\"{{docFile}}\\\">{{'quickVisualization.clickToViewReceipt' | translate}}</a>\\n                        </span>\\n                        <span>\\n                          <a class=\\\"remove\\\" (click)=\\\"docFile=''\\\"><img src=\\\"assets/img/remove-icon.png\\\" alt=\\\"img\\\"></a>\\n                        </span>\\n                      </p>\\n                        <input *ngIf=\\\"!docFile\\\" type=\\\"file\\\" name=\\\"docFile\\\" #docsFile1\\n                        accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                        (change)=\\\"onSelectFile($event.target.files)\\\">\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.paymentDate' | translate}}</label><span class=\\\"color-red\\\">*</span>\\n                    <div class=\\\"form-group\\\">\\n                      <div class=\\\"clearfix\\\"></div>\\n                      <p-calendar dateFormat=\\\"dd/M/yy\\\" class=\\\"form-control\\\" autocomplete=\\\"off\\\" [(ngModel)]=\\\"payment_date\\\" \\n                        [style]=\\\"{'width':'100%'}\\\" name=\\\"payment_date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\" \\n                        (onSelect)=\\\"onSelect($event)\\\" [maxDate]=\\\"today1\\\"\\n                        showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-12\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.description' | translate}}</label>\\n                    <div class=\\\"form-group\\\">\\n                          <textarea rows=\\\"3\\\" [(ngModel)]=\\\"description\\\" name=\\\"description\\\" class=\\\"form-control\\\"></textarea>\\n                 </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-12\\\">\\n                <div class=\\\"btn-cont text-right\\\">\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary-new\\\">\\n                        <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                        {{'addForm.updateBtn' | translate}}</button>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n  \\n\\n\\n<a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#entityModal\\\" #paymentModalOpen></a>\\n<div class=\\\"modal animated\\\" id=\\\"entityModal\\\">\\n    <div class=\\\"modal-dialog fadeIndown modal-lg\\\">\\n        <div class=\\\"modal-content notary-avail\\\">\\n              <div class=\\\"modal-header popup-header\\\">\\n          <h4>{{'viewCollections.applyPayment' | translate}}</h4>\\n            <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" #paymentModalClose>&times;</button>\\n            <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closePaymentModal(); addForm.reset()\\\">&times;</button>\\n        </div>\\n  \\n        <form autocomplete=\\\"off\\\" class=\\\"form-horizontal padding0\\\" role=\\\"form\\\" ngNativeValidate #addForm=\\\"ngForm\\\" (ngSubmit)=\\\"applyCollectionPayment()\\\">\\n          <div class=\\\"modal-body\\\">\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-12\\\">\\n                <div class=\\\"spacer40\\\"></div>\\n              </div>\\n              <div class=\\\"col-12\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.choosePaymentType' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                        <select name=\\\"payment_type\\\" required class=\\\"form-control\\\" [(ngModel)]=\\\"payment_type\\\" (change)=\\\"setPayMentType($event.target.value)\\\">\\n                          <option value=\\\"\\\">{{'viewCollections.choose' | translate}}</option>      \\n                          <option value=\\\"1\\\">{{'viewCollections.payToFollowing' | translate}}</option>\\n                          <option value=\\\"2\\\" [disabled]=\\\"disablePayToRemaining\\\">{{'viewCollections.payToRemainingReducePayment' | translate}}</option>\\n                          <option value=\\\"3\\\" [disabled]=\\\"disablePayToRemaining\\\">{{'viewCollections.payToRemainingPayment' | translate}}</option>\\n                          <option value=\\\"4\\\">{{'viewCollections.payToSpecific' | translate}}</option>\\n                          <option value=\\\"5\\\">{{'viewCollections.totalPayment' | translate}}</option>\\n                        </select>\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\" *ngIf=\\\"payment_type!=2 && payment_type !=3 && payment_type != 5\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.choosePaymentConcept' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                        <select name=\\\"payment_choice\\\" #applyPaymentChoiceId required class=\\\"form-control\\\" [(ngModel)]=\\\"payment_choice_id\\\" (ngModelChange)=\\\"setPaymentAmount($event)\\\">\\n                              <option value=\\\"\\\">{{'viewCollections.choosePaymentConcept' | translate}}</option>\\n                               <option *ngFor=\\\"let bt of paymentConcepts\\\" [disabled]=\\\"bt?.is_paid_calculated || (bt?.is_disabled && payment_type==1)\\\" [ngValue]=\\\"bt\\\"> \\n                                 {{bt?.name}}\\n                                 <span *ngIf=\\\"bt?.is_paid_calculated\\\"> | Paid</span>\\n                                </option>\\n                        </select>\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.choosePaymentMethod' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                        <select name=\\\"payment_method\\\" #applyPaymentMethodId required class=\\\"form-control\\\" [(ngModel)]=\\\"payment_method_id\\\">\\n                              <option value=\\\"\\\">{{'viewCollections.choosePaymentMethod' | translate}}</option>\\n                              <option *ngFor=\\\"let bt of paymentMethods\\\" [value]=\\\"bt.id\\\"> {{bt?.name}}</option>\\n                        </select>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.chooseBank' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                        <select name=\\\"payment_bank\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"payment_bank\\\">\\n                              <option value=\\\"\\\">{{'viewCollections.chooseBank' | translate}}</option>\\n                              <option *ngFor=\\\"let bt of paymentBanks\\\" [ngValue]=\\\"bt\\\"> {{bt?.name}} | {{bt?.account_number}} | {{bt?.currency?.code}}</option>\\n                        </select>\\n                  </div>\\n                </div>\\n              </div>\\n              <ng-container  *ngIf=\\\"payment_type!=2 && payment_type !=3 && payment_type != 5\\\">\\n              <div class=\\\"col-6\\\" *ngIf=\\\"selectedPaymentConcept\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.programmedDate' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                    <input readonly class=\\\"form-control\\\" value=\\\"{{selectedPaymentConcept?.date | date:'dd/MMM/yyyy'}}\\\" name=\\\"pendingPayment\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.pendingExtraAmt' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                    <input readonly class=\\\"form-control\\\" value=\\\"{{pendingPayment}}\\\" name=\\\"pendingPayment\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.penaltyAmount' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                    <input readonly class=\\\"form-control\\\" value=\\\"{{penaltyAmount}}\\\" name=\\\"penaltyAmount\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.currentAmtTobePaid' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                    <input autocomplete=\\\"off\\\" readonly required type=\\\"number\\\" step=\\\"0.01\\\" min=\\\"0\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"currentAmount\\\" \\n                        name=\\\"currentAmount\\\">\\n                  </div>\\n                </div>\\n              </div>\\n            </ng-container>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.totalAmtToBePaid' | translate}}<span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                    <input autocomplete=\\\"off\\\" required type=\\\"number\\\" step=\\\"0.01\\\" min=\\\"0\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"paymentAmount\\\" \\n                        name=\\\"paymentAmount\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.choosePaymentReceipt' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                    <div class=\\\"form-group\\\">\\n                        <input type=\\\"file\\\" name=\\\"docFile\\\" #docsFile1\\n                        accept=\\\".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,image/x-png,image/jpg,image/jpeg\\\"\\n                        (change)=\\\"onSelectFile($event.target.files)\\\">\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.paymentDate' | translate}}</label><span class=\\\"color-red\\\">*</span>\\n                    <div class=\\\"form-group\\\">\\n                      <div class=\\\"clearfix\\\"></div>\\n                      <p-calendar dateFormat=\\\"dd/M/yy\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"paymentDate\\\" autocomplete=\\\"off\\\" [style]=\\\"{'width':'100%'}\\\" name=\\\"date\\\" class=\\\"sz-calendar\\\" [locale]=\\\"locale\\\" showIcon=\\\"true\\\" \\n                        (onSelect)=\\\"onSelect($event)\\\" [maxDate]=\\\"today1\\\"\\n                        showButtonBar=\\\"true\\\" [monthNavigator]=\\\"true\\\" [yearNavigator]=\\\"true\\\" yearRange=\\\"2000:2040\\\"></p-calendar>\\n                    </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-12\\\">\\n                <div class=\\\"form-group-2\\\">\\n                    <label>{{'viewCollections.description' | translate}}</label>\\n                    <div class=\\\"form-group\\\">\\n                          <textarea rows=\\\"3\\\" [(ngModel)]=\\\"description\\\" name=\\\"description\\\" class=\\\"form-control\\\"></textarea>\\n                 </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col-12\\\">\\n                <div class=\\\"btn-cont text-right\\\">\\n                    <button [disabled]=\\\"isApplyBtnClicked\\\"\\n                      type=\\\"submit\\\" class=\\\"btn btn-primary-new\\\">\\n                        <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                        {{'addForm.addBtn' | translate}}\\n                      </button>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n\\n\\n  <a href=\\\"javascript://\\\" data-toggle=\\\"modal\\\" data-target=\\\"#surplusMoneyModal\\\" #surplusMoneyModalOpen></a>\\n  <div class=\\\"modal animated\\\" id=\\\"surplusMoneyModal\\\">\\n      <div class=\\\"modal-dialog fadeIndown\\\">\\n          <div class=\\\"modal-content notary-avail\\\">\\n                <div class=\\\"modal-header popup-header\\\">\\n            <h4>{{'viewCollections.surplusMoney' | translate}}</h4>\\n              <button style=\\\"display: none;\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" #surplusMoneyModalClose>&times;</button>\\n              <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeSurplusMoney()\\\">&times;</button>\\n          </div>\\n    \\n          <form autocomplete=\\\"off\\\" class=\\\"form-horizontal padding0\\\" role=\\\"form\\\" ngNativeValidate #addSurplusForm=\\\"ngForm\\\" >\\n            <div class=\\\"modal-body\\\">\\n              <div class=\\\"row\\\">\\n                <div class=\\\"col-12\\\">\\n                  <div class=\\\"spacer40\\\"></div>\\n                </div>\\n                <div class=\\\"col-12\\\">\\n                  <div class=\\\"form-group-2\\\">\\n                      <label>{{('viewCollections.chooseWhichPaymentTypeYouwantToApplyForSurplusMoney' | translate) +' '+ (paymentAmount-calculatedPayAmount | currency) }} <span class=\\\"color-red\\\">*</span></label>\\n                      <div class=\\\"form-group\\\">\\n                          <select name=\\\"surplus_payment_type\\\" required class=\\\"form-control\\\" [(ngModel)]=\\\"surplus_payment_type\\\" (change)=\\\"setPayMentTypeSurplus($event.target.value)\\\">\\n                            <option value=\\\"\\\">{{'viewCollections.choose' | translate}}</option>    \\n                            <option value=\\\"1\\\">{{'viewCollections.payToFollowing' | translate}}</option>\\n                            <option value=\\\"2\\\">{{'viewCollections.payToRemainingReducePayment' | translate}}</option>\\n                            <option value=\\\"3\\\">{{'viewCollections.payToRemainingPayment' | translate}}</option>\\n                            <option value=\\\"4\\\">{{'viewCollections.payToSpecific' | translate}}</option>\\n                          </select>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div class=\\\"col-12\\\" *ngIf=\\\"surplus_payment_type=='4'\\\">\\n                  <div class=\\\"form-group-2\\\">\\n                      <label>{{'viewCollections.choosePaymentConcept' | translate}} <span class=\\\"color-red\\\">*</span></label>\\n                      <div class=\\\"form-group\\\">\\n                          <select name=\\\"payment_choice13\\\" required [(ngModel)]=\\\"surplus_payment_choice_id\\\" class=\\\"form-control\\\" (ngModelChange)=\\\"setPaymentSurplusAmount($event)\\\">\\n                                <option value=\\\"\\\">{{'viewCollections.choosePaymentConcept' | translate}}</option>\\n                                 <option *ngFor=\\\"let bt of paymentConcepts\\\" [disabled]=\\\"bt?.is_paid_calculated || bt?.is_disabled\\\" [ngValue]=\\\"bt\\\"> \\n                                   {{bt?.name}}\\n                                   <span *ngIf=\\\"bt?.is_paid_calculated\\\"> | Paid</span>\\n                                  </option>\\n                          </select>\\n                      </div>\\n                      <p>{{'viewCollections.amountToBePaid' | translate}} : {{surplus_amt}}</p>\\n                  </div>\\n                </div>\\n                <div class=\\\"col-12\\\">\\n                  <div class=\\\"btn-cont text-right\\\">\\n                      <button type=\\\"button\\\" (click)=\\\"closeSurplusMoney(); applyCollectionPayment()\\\" class=\\\"btn btn-primary-new\\\">\\n                          <img *ngIf=\\\"parameter.loading\\\" src=\\\"assets/img/loader_gif.gif\\\" height=\\\"20\\\">\\n                          {{'addForm.saveBtn' | translate}}</button>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\"","import { Component, OnInit, ViewChild, ElementRef, HostListener } from '@angular/core';\nimport { IProperty } from 'src/app/common/property';\nimport { ActivatedRoute } from '@angular/router';\nimport { Collection } from 'src/app/models/collection.model';\nimport { AdminService } from 'src/app/services/admin.service';\nimport { CommonService } from 'src/app/services/common.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\nconst EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\nconst EXCEL_EXTENSION = '.xlsx';\nimport { CurrencyPipe } from '@angular/common';\nimport * as moment from 'moment';\nimport { ToastrService } from 'ngx-toastr';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ApiConstants } from 'src/app/common/api-constants';\nimport { Constant } from 'src/app/common/constants';\ndeclare let swal: any;\n\n@Component({\n  selector: 'app-quick-visualization',\n  templateUrl: './quick-visualization.component.html',\n  styleUrls: ['./quick-visualization.component.css'],\n  providers: [Collection, CurrencyPipe]\n})\nexport class QuickVisualizationComponent implements OnInit {\n\n  @ViewChild('viewDesModal') viewDesModal: ElementRef;\n  @ViewChild('viewDesModalClose') viewDesModalClose: ElementRef;\n  @ViewChild('viewBankDetailsModal') viewBankDetailsModal: ElementRef;\n  @ViewChild('closeBankDetailsModal') closeBankDetailsModal: ElementRef;\n  @ViewChild('updatePaymentModalOpen') updatePaymentModalOpen: ElementRef;\n  @ViewChild('updatePaymentModalClose') updatePaymentModalClose: ElementRef;\n  @ViewChild('paymentModalOpen') paymentModalOpen: ElementRef;\n  @ViewChild('paymentModalClose') paymentModalClose: ElementRef;\n  @ViewChild('surplusMoneyModalOpen') surplusMoneyModalOpen: ElementRef;\n  @ViewChild('surplusMoneyModalClose') surplusMoneyModalClose: ElementRef;\n  @ViewChild('applyPaymentChoiceId') applyPaymentChoiceId: ElementRef;\n  @ViewChild('applyPaymentMethodId') applyPaymentMethodId: ElementRef;\n  @ViewChild('docsFile1') docsFile1: ElementRef;\n\n  description: string;\n  title: any;\n  paymentConcepts: Array<any>;\n  allPaymentConcepts: Array<any>;\n  collectionCommission: Array<any>;\n  totalPaid: number;\n  remainingAmt: number;\n  totalOutstanding: number;\n  public parameter: IProperty = {};\n  newPaymentConcepts: Array<any>;\n  payment_type: any;\n  payment_id: any;\n  docFile: string;\n  payment_method_id: number;\n  today1: Date;\n  payment_date: any = new Date();\n  locale: any;\n  mainIndex: number;\n  index: number;\n  item: any;\n  paymentMethods: Array<any>;\n  surplus_payment_type: string;\n  cashSum: any;\n  payment_choice_id: any;\n  surplus_payment_choice_id: any;\n  selectedPaymentConcept: any;\n  property_collection_id: string;\n  collectionIndex: number;\n  disablePayToRemaining = true;\n  isApplyBtnClicked = false;\n  pendingPayment: any;\n  paymentAmount: any;\n  paymentDate: Date;\n  calculatedPayAmount: any;\n  penaltyAmount: any;\n  currentAmount: any;\n  surplus_amt: any;\n  sellerBanks: Array<any>;\n  buyerBanks: Array<any>;\n  sellerRepBanks: Array<any>;\n  buyerRepBanks: Array<any>;\n  paymentBanks: Array<any>;\n  payment_bank: any;\n  paymentBank: any;\n  data2: any;\n  cashLimit: any;\n  @ViewChild('stickyMenu') menuElement: ElementRef;\n\n  constructor(\n    private route: ActivatedRoute,\n    public constant: Constant,\n    public model: Collection,\n    public apiConstants: ApiConstants,\n    private admin: AdminService,\n    private spinner: NgxSpinnerService,\n    private currencyPipe: CurrencyPipe,\n    private translate: TranslateService,\n    private toastr: ToastrService,\n    private cs: CommonService\n  ) { }\n\n  ngOnInit() {\n\n    this.admin.globalSettings$.subscribe(success => {\n      this.cashLimit = success['cash_limit'];\n    });\n    this.today1 = new Date();\n    this.setDatePickerLocale();\n    this.getPaymentMethods();\n    this.parameter.sub = this.route.params.subscribe(params => {\n      this.property_collection_id = params['id'];\n      this.getCollectionDetails();\n    });\n  }\n\n  setDatePickerLocale() {\n    if (this.translate.defaultLang === 'en') {\n      this.locale = {\n        firstDayOfWeek: 0,\n        dayNames: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n        dayNamesShort: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        dayNamesMin: ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],\n        monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October',\n            'November', 'December'],\n        monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        today: 'Today',\n        clear: 'Clear',\n        dateFormat: 'mm/dd/yy',\n        weekHeader: 'Wk',\n        dataType: 'string'\n      };\n    } else {\n      this.locale = {\n        firstDayOfWeek: 0,\n        dayNames: ['domingo', 'lunes', 'martes', 'mircoles', 'jueves', 'viernes', 'sbado'],\n        dayNamesShort: ['dom', 'lun', 'mar', 'mi', 'jue', 'vie', 'sb'],\n        dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],\n        monthNames: ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',\n          'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'],\n        monthNamesShort: ['ene', 'feb', 'mar', 'abr', 'may', 'jun',\n          'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\n        today: 'Hoy',\n        clear: 'Clara',\n        dateFormat: 'mm/dd/yy',\n        weekHeader: 'Sm',\n        dataType: 'string'\n      };\n    }\n  }\n\n  getCollectionDetails() {\n    this.spinner.show();\n    this.admin.postDataApi('getCollectionById', {id: this.property_collection_id})\n      .subscribe(\n        success => {\n          this.spinner.hide();\n          this.model = success['data'];\n          this.data2 = success['data2'];\n          if (this.model.seller_type === 1) {\n            // this.sellerBanks = this.model.collection_seller_banks;\n            // this.sellerRepBanks = this.model.collection_seller_rep_banks;\n            this.sellerBanks = this.model.seller.legal_rep_banks;\n            this.sellerRepBanks = this.model.seller.legal_representative && this.model.seller.legal_representative.legal_rep_banks ?\n                    this.model.seller.legal_representative.legal_rep_banks : null;\n          } else if (this.model.seller_type === 2) {\n            this.sellerBanks = this.model.seller_legal_entity.legal_entity_banks;\n            this.sellerRepBanks = this.model.seller_legal_entity.legal_reps && this.model.seller_legal_entity.legal_reps.legal_rep_banks ?\n                      this.model.seller_legal_entity.legal_reps.legal_rep_banks : null;\n          } else {\n            this.sellerBanks = this.model.seller.legal_rep_banks;\n            this.sellerRepBanks = this.model.seller.legal_representative && this.model.seller.legal_representative.legal_rep_banks ?\n                    this.model.seller.legal_representative.legal_rep_banks : null;\n          }\n          if (this.model.buyer_type === 1) {\n            // this.buyerBanks = this.model.collection_buyer_banks;\n            // this.buyerRepBanks = this.model.collection_buyer_rep_banks;\n            this.buyerBanks = this.model.buyer.legal_rep_banks;\n            this.buyerRepBanks = this.model.buyer.legal_representative && this.model.buyer.legal_representative.legal_rep_banks ?\n                    this.model.buyer.legal_representative.legal_rep_banks : null;\n          } else if (this.model.buyer_type === 2) {\n            this.buyerBanks = this.model.buyer_legal_entity.legal_entity_banks;\n            this.buyerRepBanks = this.model.buyer_legal_entity.legal_reps && this.model.buyer_legal_entity.legal_reps.legal_rep_banks ?\n                    this.model.buyer_legal_entity.legal_reps.legal_rep_banks : null;\n          } else {\n            this.buyerBanks = this.model.buyer.legal_rep_banks;\n            this.buyerRepBanks = this.model.buyer.legal_representative && this.model.buyer.legal_representative.legal_rep_banks ?\n                    this.model.buyer.legal_representative.legal_rep_banks : null;\n          }\n\n          this.allPaymentConcepts = success['data']['payment_choices'];\n          // for dropdown\n          this.paymentConcepts = [...this.allPaymentConcepts];\n\n          this.collectionCommission = success['data']['collection_commissions'];\n          this.totalPaid = 0.00;\n          this.totalOutstanding = 0.00;\n          this.remainingAmt = (((this.model.deal_price || 0) + (this.model.penalty || 0)) - (this.model.total_payment_recieved || 0));\n          const reducingP = [];\n          for (let index = 0; index < this.allPaymentConcepts.length; index++) {\n            const m = this.allPaymentConcepts[index];\n            m.payment_date = m.collection_payment > 0 ? this.getDateWRTTimezone(m.collection_payment.payment_date, 'YYYY-MM-DD') : '';\n            m.paid_amount = m.calc_payment_amount ? m.calc_payment_amount : 0;\n\n            let c = {};\n            // if type=2 means reducing payment => add one more row\n            if (m.collection_paymentss && m.collection_paymentss.length > 0) {\n              for (let i = 0; i < m.collection_paymentss.length; i++) {\n                const paymnts = m.collection_paymentss[i];\n                paymnts.payment_bank = null;\n                // payment bank\n                if (paymnts.is_agency == 1) {\n                  // payment directly received by agency\n                  if (paymnts.bank_id) {\n                    // agency bank\n                    paymnts['payment_bank'] = paymnts.agency_banks;\n                  } else if (paymnts.legal_rep_bank_id) {\n                    // agency legal rep bank\n                    paymnts['payment_bank'] = paymnts.legal_rep_bank;\n                  }\n                } else {\n                  // payment directly received by seller\n                  if (this.model.seller_type != 2) {  // seller as person or developer\n                    if (paymnts.bank_id) {\n                      // seller bank\n                      paymnts['payment_bank'] = paymnts.legal_representative_banks;\n                    } else if (paymnts.legal_rep_bank_id) {\n                      // seller legal rep bank\n                      paymnts['payment_bank'] = paymnts.legal_rep_bank;\n                    }\n                  } else {  // seller as legal entity\n                    if (paymnts.bank_id) {\n                      // seller bank\n                      paymnts['payment_bank'] = paymnts.legal_entitiy_bank;\n                    } else if (paymnts.legal_rep_bank_id) {\n                      // seller legal rep bank\n                      paymnts['payment_bank'] = paymnts.legal_rep_bank;\n                    }\n                  }\n                }\n                c = {\n                  key: 'remaining_amt',\n                  name: '',\n                  paid_amount: paymnts.full_amount,\n                  is_paid_calculated: 0,\n                  outstanding_amount: 0,\n                  index: index + i,\n                  payment_type: 2,  // in real its 2\n                  receipt: paymnts.receipt,\n                  description: paymnts.description,\n                  display_choice_id: paymnts.display_choice_id,\n                  created_at: paymnts.created_at\n                };\n                if (paymnts.payment_type == 2) {\n                  c['name'] = 'Payment to remaining (Reduce Amount)';\n                  c['collection_paymentss'] = [{\n                    id: paymnts.id,\n                    parent_id: paymnts.parent_id,\n                    payment_type: 1,  // in real its 2\n                    paid_amount: paymnts.amount,\n                    amount: paymnts.amount,\n                    payment_date:  this.getDateWRTTimezone(paymnts.payment_date, 'YYYY-MM-DD'),\n                    receipt: paymnts.receipt,\n                    description: paymnts.description,\n                    payment_method: paymnts.payment_method,\n                    payment_bank: paymnts.payment_bank\n                  }];\n                  reducingP.push(c);\n                } else if (paymnts.payment_type == 3 && paymnts.display_choice_id) {\n                  c['name'] = 'Payment to remaining (Reduce Time)';\n                  c['collection_paymentss'] = [{\n                    id: paymnts.id,\n                    parent_id: paymnts.parent_id,\n                    payment_type: 3,\n                    paid_amount: paymnts.full_amount,\n                    amount: paymnts.full_amount,\n                    payment_date:  this.getDateWRTTimezone(paymnts.payment_date, 'YYYY-MM-DD'),\n                    receipt: paymnts.receipt,\n                    description: paymnts.description,\n                    payment_method: paymnts.payment_method,\n                    payment_bank: paymnts.payment_bank\n                  }];\n                  reducingP.push(c);\n                } else if (paymnts.payment_type == 5 && paymnts.display_choice_id) {\n                  c['name'] = 'Total Payment';\n                  c['collection_paymentss'] = [{\n                    id: paymnts.id,\n                    parent_id: paymnts.parent_id,\n                    payment_type: 5,\n                    paid_amount: paymnts.full_amount,\n                    amount: paymnts.full_amount,\n                    payment_date:  this.getDateWRTTimezone(paymnts.payment_date, 'YYYY-MM-DD'),\n                    receipt: paymnts.receipt,\n                    description: paymnts.description,\n                    payment_method: paymnts.payment_method,\n                    payment_bank: paymnts.payment_bank\n                  }];\n                  reducingP.push(c);\n                }\n              }\n            }\n\n            // calculating total paid and total outstanding payment\n            this.totalPaid = this.totalPaid + m.paid_amount;\n            m['outstanding_amount'] = m.amount - (m.calc_payment_amount || 0);\n            if ((m.amount - (m.calc_payment_amount || 0)) >= 0) {\n              const a = (m.calc_payment_amount || 0);\n              m['is_pending'] = a ? 1 : 0;\n              this.totalOutstanding = this.totalOutstanding + m['outstanding_amount'];\n            }\n          }\n          // now insert at reducing remaining payments at type=2 index\n          // sorting reducingP according to date => in case user is paying using type 3 consecutively many times\n          reducingP.sort(this.sortFunction);\n\n          for (let i = 0; i < reducingP.length; i++) {\n            const element = reducingP[i];\n            // for payment_type 3,5 check display_choice_id\n            // loop is for if need to insert 2 type 2 payments on same index\n            for (let j = 0; j < this.allPaymentConcepts.length; j++) {\n              const e = this.allPaymentConcepts[j];\n              if (e.id == element.display_choice_id) {\n                this.allPaymentConcepts.splice(j, 0, element);\n                break;\n              }\n            }\n          }\n\n          // calculating new paid amt, by skipping type 2\n          for (let index = 0; index < this.allPaymentConcepts.length; index++) {\n            const element = this.allPaymentConcepts[index];\n            const p_amt: any = 0;\n            if (element.collection_paymentss && element.collection_paymentss.length > 0) {\n              for (let i = 0; i < element.collection_paymentss.length; i++) {\n                const ele = element.collection_paymentss[i];\n                // if payment_type 2 then reduce the amount from all MI (only)\n                if (ele.payment_type == 2) {\n                  const v = ele.amt_share || 0;\n                  const ids = ele.choices_ids.split(',');\n\n                  // deleting the share of type 2 from main header\n                  for (let j = 0; j < this.allPaymentConcepts.length; j++) {\n                    const e = this.allPaymentConcepts[j];\n                    if (e.id) {\n                      const d = e.id.toString();\n                      const h = ids.indexOf(d);\n                      if (h >= 0) {\n                        const obj = {\n                          amount: v,\n                          name: 'Payment to remaining (Reduce Amount)',\n                          payment_type: 1,  // in real its 3\n                          paid_amount: v,\n                          payment_date:  this.getDateWRTTimezone(ele.payment_date, 'YYYY-MM-DD'),\n                          receipt: ele.receipt,\n                          description: ele.description,\n                          payment_method: ele.payment_method,\n                          payment_bank: ele.payment_bank\n                        };\n                        this.allPaymentConcepts[j].paid_amount = parseFloat(this.allPaymentConcepts[j].paid_amount) - parseFloat(v);\n                      }\n                    }\n                  }\n                }\n              }\n            }\n\n            element.new_paid_amt = p_amt;\n          }\n\n          this.allPaymentConcepts.push({\n            key: 'total',\n            name: 'Total',\n            // paid_amount: this.totalPaid,\n            paid_amount: this.model.total_payment_recieved,\n            is_paid_calculated: 1,\n            outstanding_amount: this.totalOutstanding\n          });\n\n          this.collectionCommission.push({});\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  exportData() {\n    if (this.allPaymentConcepts) {\n      const finalData = [];\n      for (let index = 0; index < this.allPaymentConcepts.length; index++) {\n        const p = this.allPaymentConcepts[index];\n\n        const pcAmount = this.collectionCommission[index]['purchase_payment'] ?\n        this.currencyPipe.transform(this.collectionCommission[index]['purchase_payment']['amount']) : '';\n\n        const pcDate = this.collectionCommission[index]['purchase_payment'] ?\n        this.collectionCommission[index]['purchase_payment']['payment_date'] : '';\n\n        const ccAmount = this.collectionCommission[index]['payment'] ?\n        this.currencyPipe.transform(this.collectionCommission[index]['payment']['amount']) : '';\n\n        const ccDate = this.collectionCommission[index]['payment'] ? this.collectionCommission[index]['payment']['payment_date'] : '';\n\n        finalData.push({\n          'Concept': p.name || '',\n          'Month': p.date || '',\n          'Payment Date': p.collection_payment ? p.collection_payment.payment_date : '',\n          'Paid': p.paid_amount ? this.currencyPipe.transform(p.paid_amount) : '',\n          'Outstanding Payment': p.outstanding_amount ? this.currencyPipe.transform(p.outstanding_amount) : '',\n          'Payment Method': p.collection_payment && p.collection_payment.payment_method ? p.collection_payment.payment_method.name : '',\n          'Sozu Payment Receipt': p.collection_payment ? p.collection_payment.receipt : '',\n          'Payment Description': p.collection_payment ? p.collection_payment.description : '',\n          'Penalty FLP': p.penalty ? this.currencyPipe.transform(p.penalty.amount) : '',\n          'Penalty Description': p.penalty ? p.penalty.description : '',\n          'Purchased Commission': pcAmount,\n          'Date Of PC': pcDate,\n          'Sozu PC Receipt': this.collectionCommission[index] && this.collectionCommission[index].purchase_payment\n                            ? this.collectionCommission[index].purchase_payment.receipt : '',\n          'PC Description': this.collectionCommission[index] && this.collectionCommission[index].purchase_payment\n                            ? this.collectionCommission[index].purchase_payment.description : '',\n          'Collection Commission': ccAmount,\n          'Date Of CC': ccDate,\n          'Sozu CC Receipt': this.collectionCommission[index] && this.collectionCommission[index].payment\n                            ? this.collectionCommission[index].payment.receipt : '',\n          'CC Description': this.collectionCommission[index] && this.collectionCommission[index].payment\n                            ? this.collectionCommission[index].payment.description : '',\n        });\n      }\n      this.exportAsExcelFile(finalData, 'collection-');\n    }\n  }\n\n\n  // will be used in case of excel\n  public exportAsExcelFile(json: any[], excelFileName: string): void {\n    const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(json);\n    const workbook: XLSX.WorkBook = {\n      Sheets: { data: worksheet },\n      SheetNames: ['data']\n    };\n    const excelBuffer: any = XLSX.write(workbook, {\n      bookType: 'xlsx',\n      type: 'array'\n    });\n    this.saveAsExcelFile(excelBuffer, excelFileName);\n  }\n\n  private saveAsExcelFile(buffer: any, fileName: string): void {\n    const data: Blob = new Blob([buffer], { type: EXCEL_TYPE });\n    const today = new Date();\n    const date =\n      today.getDate() +\n      '-' +\n      today.getMonth() +\n      '-' +\n      today.getFullYear() +\n      '_' +\n      today.getHours() +\n      '_' +\n      today.getMinutes() +\n      '_' +\n      today.getSeconds();\n    fileName = fileName + date;\n    FileSaver.saveAs(data, fileName + EXCEL_EXTENSION);\n  }\n\n  showDescription(description: string, title: any) {\n    console.log('aaaa')\n    if (description) {\n      this.title = title;\n      this.description = description;\n      this.viewDesModal.nativeElement.click();\n    }\n  }\n\n  closeDescModal() {\n    this.viewDesModalClose.nativeElement.click();\n  }\n\n  showBank(payment_bank: any) {\n    this.paymentBank = payment_bank;\n    this.viewBankDetailsModal.nativeElement.click();\n  }\n\n  closeBankModal() {\n    this.closeBankDetailsModal.nativeElement.click();\n  }\n\n  getDateWRTTimezone(date: any, format: any) {\n    const offset = new Date(date).getTimezoneOffset();\n    if (offset < 0) {\n      return moment(date).subtract(offset, 'minutes').format(format);\n    } else {\n      return moment(date).add(offset, 'minutes').format(format);\n    }\n  }\n\n  getPaymentMethods() {\n    this.admin.postDataApi('getPaymentMethods', {})\n      .subscribe(\n        success => {\n          this.paymentMethods = success.data;\n        }, error => {\n          this.spinner.hide();\n        }\n      );\n  }\n\n  onSelectFile(files) {\n    this.parameter.loading = true;\n    this.cs.saveAttachment(files[0]).subscribe(\n      success => {\n        this.parameter.loading = false;\n        this.docFile = success['data'].name;\n      }, error => {\n        this.parameter.loading = false;\n      }\n    );\n  }\n\n  onSelect(e) {\n    this.payment_date = moment.utc(e).toDate();\n  }\n\n  showUpdatePaymentPopup(item: any, i: number, s: number) {\n    this.item = item;\n    this.mainIndex = i;\n    this.index = s;\n    this.payment_id = item.id;\n    this.payment_type = item.payment_type;\n    this.payment_method_id = item.payment_method.id;\n    this.description = item.description;\n    this.docFile = item.receipt;\n    this.payment_date = item.payment_date ? this.getDateWRTTimezone(item.payment_date, 'DD/MMM/YYYY') : '';\n    this.updatePaymentModalOpen.nativeElement.click();\n  }\n\n  closeUpdatePaymentModal() {\n    this.updatePaymentModalClose.nativeElement.click();\n  }\n\n  updateCollectionPayment() {\n    // checking if date selected and receipt selected\n    if (!this.payment_date) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseSelectPaymentDate'), this.translate.instant('swal.error'));\n      return false;\n    }\n    if (!this.docFile) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChooseReceipt'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    const offset = new Date(this.payment_date).getTimezoneOffset();\n    if (offset < 0) {\n      this.payment_date = moment(this.payment_date).subtract(offset, 'minutes').toDate();\n    } else {\n      this.payment_date = moment(this.payment_date).add(offset, 'minutes').toDate();\n    }\n\n    this.item.payment_method_id = this.payment_method_id;\n    this.item.payment_id = this.payment_id;\n    this.item.receipt = this.docFile;\n    this.item.description = this.description;\n    this.item.payment_date = this.payment_date;\n\n    this.admin.postDataApi('updateCollectionPayment', this.item).subscribe(r => {\n      this.closeUpdatePaymentModal();\n      this.allPaymentConcepts[this.mainIndex].collection_paymentss[this.index] = this.item;\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.savedSuccessfully'), this.translate.instant('swal.success'));\n    }, error => {\n      this.toastr.error(error.message, this.translate.instant('swal.error'));\n      return false;\n    });\n  }\n\n  showApplyPaymentPopup() {\n    this.surplus_payment_type = null;\n    this.payment_type = null;\n    this.payment_date = null;\n    this.payment_choice_id = null;\n    const check = this.paymentConcepts.find(r => r.name.includes('Monthly Installment'));\n    this.disablePayToRemaining = true;\n    if (check) {\n      this.disablePayToRemaining = false;\n    }\n    this.calculateCash();\n    // payment banks\n    this.paymentBanks = [];\n    if (this.model.payment_received_by) {\n      // payment directly received by agency\n      if (this.model.property.building && this.model.property.building.agency_id) {\n          // agency banks\n          for (let index = 0; index < this.model.property.building.agency.agency_banks.length; index++) {\n            const element = this.model.property.building.agency.agency_banks[index];\n            element.name = 'Agency Bank | ' + element.bank_name;\n            element.is_agency = 1;\n            element.bank_id = element.id;\n            element.legal_rep_bank_id = null;\n            this.paymentBanks.push(element);\n          }\n\n          // agency legal representative banks\n          if (this.model.property.building.agency.legal_representative) {\n            for (let index = 0; index < this.model.property.building.agency.legal_representative.legal_rep_banks.length; index++) {\n              const element = this.model.property.building.agency.legal_representative.legal_rep_banks[index];\n              element.name = 'Agency Legal Rep Bank | ' + element.bank_name;\n              element.is_agency = 1;\n              element.bank_id = null;\n              element.legal_rep_bank_id = element.id;\n              this.paymentBanks.push(element);\n            }\n          }\n      }\n    } else {\n      // payment directly received by seller\n      if (this.model.seller_type != 2) {\n        // seller (as a person or developer) banks\n        for (let index = 0; index < this.model.seller.legal_rep_banks.length; index++) {\n          const element = this.model.seller.legal_rep_banks[index];\n          element.name = 'Seller Bank | ' + element.bank_name;\n          element.is_agency = 2;\n          element.bank_id = element.id;\n          element.legal_rep_bank_id = null;\n          this.paymentBanks.push(element);\n        }\n\n        // agency legal representative banks\n        if (this.model.seller.legal_representative) {\n          for (let index = 0; index < this.model.seller.legal_representative.legal_rep_banks.length; index++) {\n            const element = this.model.seller.legal_representative.legal_rep_banks[index];\n            element.name = 'Seller Legal Rep Bank | ' + element.bank_name;\n            element.is_agency = 2;\n            element.bank_id = null;\n            element.legal_rep_bank_id = element.id;\n            this.paymentBanks.push(element);\n          }\n        }\n      } else {\n        // seller (as a legal entity) banks\n        if (this.model.seller_legal_entity && this.model.seller_legal_entity.legal_entity_banks) {\n          for (let index = 0; index < this.model.seller_legal_entity.legal_entity_banks.length; index++) {\n            const element = this.model.seller_legal_entity.legal_entity_banks[index];\n            element.name = 'Seller Bank | ' + element.bank_name;\n            element.is_agency = 2;\n            element.bank_id = element.id;\n            element.legal_rep_bank_id = null;\n            this.paymentBanks.push(element);\n          }\n\n          // agency legal representative banks\n          if (this.model.seller_legal_entity.legal_reps && this.model.seller_legal_entity.legal_reps.legal_rep_banks) {\n            for (let index = 0; index < this.model.seller_legal_entity.legal_reps.legal_rep_banks.length; index++) {\n              const element = this.model.seller_legal_entity.legal_reps.legal_rep_banks[index];\n              element.name = 'Seller Legal Rep Bank | ' + element.bank_name;\n              element.is_agency = 2;\n              element.bank_id = null;\n              element.legal_rep_bank_id = element.id;\n              this.paymentBanks.push(element);\n            }\n          }\n        }\n      }\n    }\n    this.paymentModalOpen.nativeElement.click();\n  }\n\n  calculateCash() {\n    this.cashSum = 0;\n    for (let index = 0; index < this.paymentConcepts.length; index++) {\n      const m = this.paymentConcepts[index];\n      if (m.collection_paymentss && m.collection_paymentss.length > 0) {\n        for (let i = 0; i < m.collection_paymentss.length; i++) {\n          const paymnts = m.collection_paymentss[i];\n          console.log(paymnts);\n          if (paymnts.payment_method_id == this.apiConstants.payment_method_id) {\n            this.cashSum = parseFloat(this.cashSum) + parseFloat(paymnts.amount);\n          }\n        }\n      }\n    }\n  }\n  applyCollectionPayment() {\n    let callApi = true;\n    // checking if date selected and receipt selected\n    if (!this.paymentDate) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseSelectPaymentDate'), this.translate.instant('swal.error'));\n      return false;\n    }\n    if (!this.docFile) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChooseReceipt'), this.translate.instant('swal.error'));\n      return false;\n    }\n    if (!this.paymentAmount || this.paymentAmount == 0) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseEnterValidAmt'), this.translate.instant('swal.error'));\n      return false;\n    }\n    if (this.surplus_payment_type == '4' && !this.surplus_payment_choice_id) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.pleaseChoosePayments'), this.translate.instant('swal.error'));\n      return false;\n    }\n    // if (this.cashSum + this.paymentAmount > this.cashLimit) {\n    //   this.toastr.clear();\n    //   this.toastr.error(this.translate.instant('message.error.cashLimitReached'), this.translate.instant('swal.error'));\n    //   // return false;\n    // }\n    let amt = this.paymentAmount;\n    // in case of pay to following, if user is paying surplus money ask the user, what he wants to do with durplus money\n    if (this.payment_type == 1 && this.calculatedPayAmount < this.paymentAmount) {\n      if (!this.surplus_payment_type) {\n        this.askUserForSurplusMomey();\n        return;\n      } else {\n        amt = this.calculatedPayAmount;\n      }\n    }\n\n    // check for type 1, user can not pay more than the sum of all installments\n    if (this.payment_type == '1') {\n      let a = 0;\n      this.paymentConcepts.map(v => {\n        if (!v['is_paid_calculated']) {\n          const remaining_amt = parseFloat(v['amount']) - parseFloat(v['calc_payment_amount']);\n          a = a + remaining_amt + (v['penalty'] ? parseFloat(v['penalty']['amount']) : 0);\n        }\n      }, 0);\n      if (this.paymentAmount > a) {\n        this.toastr.clear();\n        this.toastr.error(this.translate.instant('message.error.payToFollowingCheck'), this.translate.instant('swal.error'));\n        return false;\n      }\n    }\n\n    // check for type 2 abd 2, user cannot pay more than sum of remaining MI\n    if (this.payment_type == '2' || this.payment_type == '3') {\n      console.log('---');\n      let a: any = 0;\n      // this.paymentConcepts.map(v => {\n      for (let index = 0; index < this.paymentConcepts.length; index++) {\n        const v = this.paymentConcepts[index];\n        if (!v['is_paid_calculated'] && v.name.includes('Monthly Installment')) {\n          // calculating total amt to be paid\n          const remaining_amt = parseFloat(v['amount']) - parseFloat(v['calc_payment_amount']);\n          a = parseFloat(a) + remaining_amt + (v['penalty'] ? parseFloat(v['penalty']['amount']) : 0);\n          console.log(a);\n          a = a.toFixed(2);\n\n          // checking if any pending monthly installment exist\n          const paymnets = v['collection_paymentss'];\n          const l = paymnets.length;\n          if (l > 0) {\n            const last_payment = paymnets[l - 1];\n            if (last_payment['payment_type'] != 2) {\n              console.log('complete first');\n              this.toastr.clear();\n              this.toastr.error(this.translate.instant('message.error.paytoRemainingPendingCheck'), this.translate.instant('swal.error'));\n              return false;\n            }\n          }\n        }\n      }\n      if (this.paymentAmount > a) {\n        console.log('complete first');\n        this.toastr.clear();\n        this.toastr.error(this.translate.instant('message.error.payToRemainingcheck'), this.translate.instant('swal.error'));\n        return false;\n      }\n    }\n\n    // check for type 3, user can only pay exact amount of M1, or sum of M1 & M2, or sum of M1,M2,M3 and soon\n    const a1 = this.surplus_payment_type == '3' ? this.paymentAmount - this.calculatedPayAmount : this.paymentAmount;\n    if (this.payment_type == '3' || this.surplus_payment_type == '3') {\n      let a: any = 0;\n      let index = this.paymentConcepts.length - 1;\n      for (index; index >= 0; index--) {\n        const v = this.paymentConcepts[index]  ;\n        if (!v['is_paid_calculated'] && v.name.includes('Monthly Installment')) {\n          const remaining_amt = parseFloat(v['amount']) - parseFloat(v['calc_payment_amount']);\n          a = parseFloat(a) + remaining_amt + (v['penalty'] ? parseFloat(v['penalty']['amount']) : 0);\n          a = a.toFixed(2);\n        }\n        // using a1 and not this.paymentAmount because, need to check for both direct type 3 and type 3 in surplus popup\n\n        console.log(a1, a);\n        if (a1 > a) {\n          continue;\n        } else if (a1 == a) {\n          break;\n        } else if (this.paymentAmount < a) {\n          console.log(a1, a);\n          this.toastr.clear();\n          this.toastr.error(this.translate.instant('message.error.payToRemainingReduceTimecheck'), this.translate.instant('swal.error'));\n          this.surplus_payment_type == '3'\n                  ? this.surplusMoneyModalClose.nativeElement.click()\n                  : this.paymentModalClose.nativeElement.click();\n          return false;\n        }\n      }\n    }\n\n    // in pay to specific, user is allowed to pay either exact amount or partial amt\n    if (this.payment_type == 4 && this.calculatedPayAmount < this.paymentAmount) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.payToSpecificCheck'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    // in total payment, user is allowed to pay sum of exact remaining amount (sum of installments and penalty)\n    if (this.payment_type == 5 && this.calculatedPayAmount != this.paymentAmount) {\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.totalPayemntCheck'), this.translate.instant('swal.error'));\n      return false;\n    }\n\n    const offset = new Date(this.paymentDate).getTimezoneOffset();\n    if (offset < 0) {\n      this.paymentDate = moment(this.paymentDate).subtract(offset, 'minutes').toDate();\n    } else {\n      this.paymentDate = moment(this.paymentDate).add(offset, 'minutes').toDate();\n    }\n\n    // inpur params\n    const input = {\n      property_collection_id: this.property_collection_id,\n      payment_method_id: this.payment_method_id,\n      is_agency: this.payment_bank ? this.payment_bank.is_agency : null,\n      bank_id: this.payment_bank ? this.payment_bank.bank_id : null,\n      legal_rep_bank_id: this.payment_bank ? this.payment_bank.legal_rep_bank_id : null,\n      amount : amt,\n      receipt: this.docFile,\n      description: this.description,\n      payment_date: this.paymentDate,\n      full_amount: this.paymentAmount // sending real amount entered by user\n    };\n\n    if (this.payment_type == 1 || this.payment_type == 4) {\n      input['collection_payment_choice_id'] = this.payment_choice_id['id'];\n    }\n    input['type'] = this.payment_type;\n\n    if ((this.cashSum + this.paymentAmount > this.cashLimit)) {\n      callApi = false;\n      swal({\n        html: this.translate.instant('message.error.cashLimitReached'),\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: this.constant.confirmButtonColor,\n        cancelButtonColor: this.constant.cancelButtonColor,\n        confirmButtonText: 'Ok'\n      }).then((result) => {\n        if (result.value) {\n          // continue;\n          this.callToPaymentApi(input);\n        } else {\n          return;\n        }\n      });\n      // swal(this.translate.instant('swal.error'), this.translate.instant('message.error.cashLimitReached'), 'error');\n      // this.toastr.clear();\n      // this.toastr.error(this.translate.instant('message.error.cashLimitReached'), this.translate.instant('swal.error'));\n      // return false;\n    }\n\n\n    if (callApi) {\n      this.isApplyBtnClicked = true;\n      this.admin.postDataApi('applyCollectionPayment', input).subscribe(r => {\n        this.isApplyBtnClicked = false;\n        if (this.surplus_payment_type) {\n          input['amount'] = this.paymentAmount - this.calculatedPayAmount;\n          input['type'] = this.surplus_payment_type;\n          input['parent_id'] = r.data['id'];   // send parent_id in case of type 1 and surplus (to make parent delete)\n          if (this.surplus_payment_type == '4') {\n            input['collection_payment_choice_id'] = this.surplus_payment_choice_id;\n          }\n  \n          this.admin.postDataApi('applyCollectionPayment', input).subscribe(r => {\n            // if (this.surplus_payment_type == '1' || this.surplus_payment_type == '4') {\n            //   input['collection_payment_choice_id'] = this.payment_choice_id['id']\n            // }\n          });\n        }\n  \n        this.paymentModalClose.nativeElement.click();\n        this.closeCollReceiptModal();\n        this.getCollectionDetails();\n  \n        this.toastr.clear();\n        this.toastr.success(this.translate.instant('message.success.savedSuccessfully'), this.translate.instant('swal.success'));\n      }, error => {\n        this.paymentConcepts = [];\n        this.isApplyBtnClicked = false;\n        this.paymentModalClose.nativeElement.click();\n        this.closeCollReceiptModal();\n        this.getCollectionDetails();\n        return false;\n      });\n    }\n  }\n\n  callToPaymentApi(input) {\n    this.isApplyBtnClicked = true;\n    this.admin.postDataApi('applyCollectionPayment', input).subscribe(r => {\n      this.isApplyBtnClicked = false;\n      if (this.surplus_payment_type) {\n        input['amount'] = this.paymentAmount - this.calculatedPayAmount;\n        input['type'] = this.surplus_payment_type;\n        input['parent_id'] = r.data['id'];   // send parent_id in case of type 1 and surplus (to make parent delete)\n        if (this.surplus_payment_type == '4') {\n          input['collection_payment_choice_id'] = this.surplus_payment_choice_id;\n        }\n\n        this.admin.postDataApi('applyCollectionPayment', input).subscribe(r => {\n          // if (this.surplus_payment_type == '1' || this.surplus_payment_type == '4') {\n          //   input['collection_payment_choice_id'] = this.payment_choice_id['id']\n          // }\n        });\n      }\n\n      this.paymentModalClose.nativeElement.click();\n      this.closeCollReceiptModal();\n      this.getCollectionDetails();\n\n      this.toastr.clear();\n      this.toastr.success(this.translate.instant('message.success.savedSuccessfully'), this.translate.instant('swal.success'));\n    }, error => {\n      this.paymentConcepts = [];\n      this.isApplyBtnClicked = false;\n      this.paymentModalClose.nativeElement.click();\n      this.closeCollReceiptModal();\n      this.getCollectionDetails();\n      return false;\n    });\n  }\n\n  askUserForSurplusMomey() {\n    this.closePaymentModal();\n    this.surplusMoneyModalOpen.nativeElement.click();\n  }\n\n  setPayMentType(payment_type: string) {\n    this.payment_type = payment_type;\n    if (payment_type == '1') {\n      this.paymentConcepts.map(r => r.is_disabled = true);\n      for (let index = 0; index < this.paymentConcepts.length; index++) {\n        if (!this.paymentConcepts[index].is_paid_calculated) {\n          this.paymentConcepts[index].is_disabled = false;\n          break;\n        }\n      }\n    }\n    this.docsFile1.nativeElement.value = '';\n    if (this.payment_type && this.payment_type != '2' && this.payment_type != '3' && this.payment_type != '5') {\n      this.applyPaymentChoiceId.nativeElement.value = '';\n    }\n    this.closeCollReceiptModal();\n    if (this.payment_type == 5) {\n      let amt: any = 0; let penaltyamt: any = 0;\n        let amtPaid: any = 0;\n        let currentAmt: any = 0;\n        let currentAmtPaid: any = 0;\n        this.penaltyAmount = 0;\n        for (let index = 0; index < this.paymentConcepts.length; index++) {\n          const r = this.paymentConcepts[index];\n          currentAmt = r['amount'];\n          currentAmtPaid = r['calc_payment_amount'] || 0;\n          penaltyamt = r['penalty'] ? parseFloat(r['penalty']['amount']) : 0;\n          amt = parseFloat(amt) + parseFloat(r['amount']) + parseFloat(penaltyamt);\n          amtPaid = parseFloat(amtPaid) + parseFloat(currentAmtPaid);\n        }\n        this.paymentAmount = (amt - amtPaid).toFixed(2);\n        this.calculatedPayAmount = [...this.paymentAmount];\n    }\n    this.applyPaymentMethodId.nativeElement.value = '';\n  }\n\n  setPayMentTypeSurplus(payment_type: string) {\n    this.surplus_payment_type = payment_type;\n    // incase user select type 4 in surplus popup => therefore, needs to disable selected concept in payment modal\n    this.paymentConcepts.map(r => r.is_disabled = false);\n    for (let index = 0; index < this.paymentConcepts.length; index++) {\n      // paid and if selected concept => only then disable\n      if (this.payment_choice_id['id'] == this.paymentConcepts[index].id) {\n        this.paymentConcepts[index].is_disabled = true;\n        break;\n      }\n    }\n  }\n\n  setPaymentAmount(item: any) {\n      this.selectedPaymentConcept = item;\n      let amt: any = 0; let penaltyamt: any = 0;\n      let amtPaid: any = 0;\n      let currentAmt: any = 0;\n      let currentAmtPaid: any = 0;\n      // checking if method is pay to specific (4),\n      // then user will pay only for that specific installment +\n      // user cannot pay more than the amount+penalty\n      if (this.payment_type == 4) {\n        currentAmt = item['amount']; \n        currentAmtPaid = item['calc_payment_amount'] || 0;\n        this.penaltyAmount = item.penalty ? parseFloat(item.penalty.amount).toFixed(2) : 0;\n        this.pendingPayment = 0.00; // amt already paid\n        this.currentAmount = (parseFloat(currentAmt) - parseFloat(currentAmtPaid)).toFixed(2);\n        this.paymentAmount = (parseFloat(this.currentAmount) + parseFloat(this.pendingPayment)\n                              + parseFloat(this.penaltyAmount)).toFixed(2);\n        this.calculatedPayAmount = [...this.paymentAmount];\n      } else if (this.payment_type == 1) {\n        for (let index = 0; index < this.paymentConcepts.length; index++) {\n          const r = this.paymentConcepts[index];\n          currentAmt = r['amount'];\n          currentAmtPaid = r['calc_payment_amount'] || 0;\n          if (r['id'] != item['id']) {\n            penaltyamt = r['penalty'] ? parseFloat(r['penalty']['amount']) : 0;\n            amt = parseFloat(amt) + parseFloat(r['amount']) + parseFloat(penaltyamt);\n            amtPaid = parseFloat(amtPaid) + parseFloat(currentAmtPaid);\n          } else {\n            break;\n          }\n        }\n        this.penaltyAmount = item.penalty ? parseFloat(item.penalty.amount).toFixed(2) : 0;\n        this.pendingPayment = (amt - amtPaid).toFixed(2);\n        this.currentAmount = (parseFloat(currentAmt) - parseFloat(currentAmtPaid)).toFixed(2);\n        this.paymentAmount = (parseFloat(this.currentAmount) + parseFloat(this.pendingPayment) + parseFloat(this.penaltyAmount)).toFixed(2);\n        this.calculatedPayAmount = [...this.paymentAmount];\n      }\n  }\n\n  setPaymentSurplusAmount(item) {\n    this.selectedPaymentConcept = item;\n    this.surplus_payment_choice_id = item.id;\n    let currentAmt: any = 0;\n    let currentAmtPaid: any = 0;\n    // checking if method is pay to specific (4),\n    // then user will pay only for that specific installment +\n    // user cannot pay more than the amount+penalty\n    if (this.surplus_payment_type == '4') {\n      currentAmt = item['amount'];\n      currentAmtPaid = item['calc_payment_amount'] || 0;\n      const penaltyAmount: any = item.penalty ? parseFloat(item.penalty.amount).toFixed(2) : 0;\n      const currentAmount: any = (parseFloat(currentAmt) - parseFloat(currentAmtPaid)).toFixed(2);\n      this.surplus_amt = (parseFloat(currentAmount) + parseFloat(penaltyAmount)).toFixed(2);\n    }\n\n    if ((this.paymentAmount - this.calculatedPayAmount) > this.surplus_amt) {\n      this.surplus_payment_choice_id = '';\n      this.toastr.clear();\n      this.toastr.error(this.translate.instant('message.error.payToSpecificCheck'), this.translate.instant('swal.error'));\n      return false;\n    }\n  }\n\n  closeSurplusMoney() {\n    this.surplusMoneyModalClose.nativeElement.click();\n  }\n\n  closePaymentModal() {\n    this.paymentModalClose.nativeElement.click();\n  }\n\n  closeCollReceiptModal() {\n    this.paymentAmount = 0; this.docFile = ''; this.description = '';\n    this.penaltyAmount = 0; this.pendingPayment = 0; this.currentAmount = 0;\n    this.paymentDate = null;\n    this.docsFile1.nativeElement.value = '';\n  }\n\n  sortFunction(a, b) {\n    const dateA = new Date(a.created_at).getTime();\n    const dateB = new Date(b.created_at).getTime();\n    return dateA > dateB ? 1 : -1;\n  }\n}\n","import { User } from './inhouse-users.model';\nimport { Towers, Configuration } from './addProject.model';\nimport { Building } from './addProperty.model';\n\nexport class Collection {\n    id: string;\n    property_id: any;\n    step: number;\n    building_id: string;\n    building_towers_id: string;\n    floor_num: string;\n    building: Building;\n    building_towers: Towers;\n    deal_type_id: number;\n    deal_type: DealType;\n    name: string;\n    seller_id: string;\n    seller: Seller;\n    buyer_id: string;\n    buyer: Seller;\n    availabilityStatusId: string;\n    is_property_sold: boolean;\n    deal_price: number;\n    seller_type: any;\n    buyer_type: any;\n    building_configuration?: any;\n    building_configuration_id: any;\n    collection_commissions: any;\n    payment_choices?: Array<any>;\n    property?: any;\n    deal_purchase_date?: any;\n    currency?: any;\n    buyer_leg_rep_name?: string;\n    buyer_leg_rep_email?: string;\n    buyer_leg_rep_phone?: string;\n    seller_leg_rep_name?: string;\n    seller_leg_rep_email?: string;\n    seller_leg_rep_phone?: string;\n    paid?: any;\n    total?: any;\n    totalPenalty?: any;\n    total_payment_recieved?: any;\n    penalty?: any;\n    deal_commission_agents?: Array<any>;\n    collection_seller_banks?: Array<any>;\n    collection_buyer_banks?: Array<any>;\n    collection_buyer_rep_banks: Array<any>;\n    collection_seller_rep_banks: Array<any>;\n    buyer_legal_entity?: any;\n    seller_legal_entity?: any;\n    payment_received_by?: number;\n}\n\nexport class DealType {\n    id: string;\n    name: string;\n}\n\nexport class Seller {\n    id: string;\n    name: string;\n    phone: string;\n    email: string;\n    dial_code: string;\n    country_code: string;\n    legal_rep_banks?: any;\n    legal_representative?: any;\n}"],"sourceRoot":""}