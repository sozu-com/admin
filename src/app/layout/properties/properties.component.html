<div class="container-fluid">
   <div class="row">
      <div class="col-lg-6 col-md-6 col-sm-6 col-12">
         <div class="form-group">
            <p class="p16">{{'viewProperty.label' | translate}}</p>
         </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6 col-12">
         <div class="form-group" style="float: right;">
            <button class="action-icon" (click)="getPropertySelection(true)"
               title="{{'table.title.selectColumns' | translate}}"><i class="fa fa-pause"
                  style="cursor: pointer;"></i></button>
         </div>
      </div>
   </div>
   <div class="row">
      <div class="offset-md-4"></div>
      <div class="col-md-8 col-12">
         <div class="cust-tabs-2">
            <ul class="nav nav-tabs float-right">
               <li class="nav-item">
                  <a [ngClass]="{'active':parameter.dash_flag == 1}" (click)="changeFlag(1)" class="nav-link"
                     data-toggle="tab" href="#tw">{{'filters.time.thisWeek' | translate}}</a>
               </li>
               <li class="nav-item">
                  <a [ngClass]="{'active':parameter.dash_flag == 2}" (click)="changeFlag(2)" class="nav-link"
                     data-toggle="tab" href="#tm">{{'filters.time.thisMonth' | translate}}</a>
               </li>
               <li class="nav-item">
                  <a [ngClass]="{'active':parameter.dash_flag == 3}" (click)="changeFlag(3)" class="nav-link"
                     data-toggle="tab" href="#lm">{{'filters.time.lastMonth' | translate}}</a>
               </li>
               <li class="nav-item">
                  <a [ngClass]="{'active':parameter.dash_flag == 4}" (click)="changeFlag(4)" class="nav-link"
                     data-toggle="tab" href="#lt">{{'filters.time.lifetime' | translate}}</a>
               </li>
               <li class="nav-item">
                  <a [ngClass]="{'active':parameter.dash_flag == 5}" (click)="changeFlag(5)" class="nav-link"
                     data-toggle="tab" href="#cust">{{'filters.time.custom.label' | translate}}</a>
               </li>
            </ul>
         </div>
      </div>
   </div>

   <div class="row">
      <div class="col-12">
         <div *ngIf="parameter.dash_flag == 5" class="row">
            <div class="offset-lg-7"></div>
            <div class="col-lg-2 col-md-2 col-sm-5 col-5">
               <div class="form-group marginB0">
                  <label>{{'filters.time.custom.from' | translate}}</label>
                  <p-calendar [locale]="locale" showIcon="true" [(ngModel)]="parameter.min" [maxDate]="today" name="min"
                     showButtonBar="true" [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2040">
                  </p-calendar>
               </div>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-5 col-5">
               <div class="form-group marginB0">
                  <label>{{'filters.time.custom.to' | translate}}</label>
                  <p-calendar [locale]="locale" showIcon="true" [(ngModel)]="parameter.max" [minDate]="parameter.min"
                     name="min" [maxDate]="today" showButtonBar="true" [monthNavigator]="true" [yearNavigator]="true"
                     yearRange="2000:2040"></p-calendar>
               </div>
            </div>
            <div class="col-lg-1 col-md-2 col-sm-2 col-6">
               <div class="form-group btn-cont">
                  <label class="addMT3">&nbsp;</label>
                  <button class="btn btn-calender" href="javascript://" (click)="getListing()"
                     [disabled]="!parameter.min || !parameter.max">{{'filters.time.custom.applyBtn' |
                     translate}}</button>
               </div>
            </div>
         </div>
      </div>
   </div>

   <div class="row">
      <div class="col-lg-2 col-md-2">
         <div class="form-group">
            <label>{{'filters.location.country' | translate}}</label>
            <select class="form-control" (change)="onCountryChange($event.target.value)"
               [(ngModel)]="parameter.country_id" style="background-color: white;">
               <option value="0">{{'filters.location.allOption' | translate}}</option>
               <option *ngFor="let item of location.countries" [value]="item.id">{{item.name}}</option>
            </select>
         </div>
      </div>
      <div class="col-lg-2 col-md-2">
         <div class="form-group">
            <label>{{'filters.location.state' | translate}}</label>
            <select class="form-control" (change)="onStateChange($event.target.value)" [(ngModel)]="parameter.state_id"
               style="background-color: white;">
               <option value="0">{{'filters.location.allOption' | translate}}</option>
               <option *ngFor="let item of location.states" [value]="item.id">{{item.name}}</option>
            </select>
         </div>
      </div>
      <!-- <div class="col-lg-2 col-md-2">
         <div class="form-group">
            <label>{{'filters.location.city' | translate}}</label>
            <select class="form-control" (change)="onCityChange($event.target.value)">
               <option value="0">{{'filters.location.allOption' | translate}}</option>
               <option *ngFor="let item of location.cities" [value]="item.id">{{item.name}}</option>
            </select>
         </div>
      </div>

      <div class="col-lg-2 col-md-2">
         <div class="form-group">
            <label>{{'filters.location.locality' | translate}}</label>
            <select class="form-control" (change)="getLocalityBuildings($event.target.value)">
               <option value="0">{{'filters.location.allOption' | translate}}</option>
               <option *ngFor="let item of location.localities" [value]="item.id">{{item.name}}</option>
            </select>
         </div>
      </div> -->

      <div class="col-lg-2 col-md-2">
         <div class="form-group">
            <label>{{'filters.location.city' | translate}}</label>
            <ng-multiselect-dropdown class="col-3 section-section2 multi-select" [placeholder]="''"
               name="selectedCities" [data]="location.cities" [(ngModel)]="selectedLocation.selectedCities"
               [settings]="multiDropdownSettingsForLocation" (onDeSelect)="onCityChange()" (onSelect)="onCityChange()"
               (onSelectAll)="onCityChangeAll($event)" (onDeSelectAll)="onCityChangeAll($event)">
            </ng-multiselect-dropdown>
         </div>
      </div>

      <div class="col-lg-2 col-md-2">
         <div class="form-group">
            <label>{{'filters.location.locality' | translate}}</label>
            <ng-multiselect-dropdown class="col-3 section-section2 multi-select" [placeholder]="''"
               name="selectedLocalities" [data]="location.localities" [(ngModel)]="selectedLocation.selectedLocalities"
               [settings]="multiDropdownSettingsForLocation" (onDeSelect)="onLocalityChange()"
               (onSelect)="onLocalityChange()" (onSelectAll)="onLocalityChangeAll($event)"
               (onDeSelectAll)="onLocalityChangeAll($event)">
            </ng-multiselect-dropdown>
         </div>
      </div>

      <div class="col-lg-2 col-md-2">
         <div class="form-group marginB0">
            <label>{{'filters.location.building' | translate}}</label>
            <select class="form-control" (change)="setBuilding($event.target.value)" [(ngModel)]="parameter.building_id"
               style="background-color: white;">
               <option value="0">{{'filters.location.allOption' | translate}}</option>
               <option *ngFor="let building of parameter.buildings" value="{{building.id}}">{{building.name}}</option>
            </select>
         </div>
      </div>

      <div class="col-lg-1 col-md-2">
         <div class="form-group btn-cont">
            <label style="display: block; margin-top: 3px;">&nbsp;</label>
            <button type="button" (click)="getListing('','')"
               class="btn btn-primary-new width100P P86">{{'filters.location.applyBtn' | translate}}</button>
         </div>
      </div>

      <div class="col-lg-1 col-md-2">
         <div class="form-group btn-cont">
            <label style="display: block; margin-top: 3px;">&nbsp;</label>
            <button type="button" (click)="resetFilters()"
               class="btn btn-primary-new width100P P86">{{'filters.location.resetBtn' | translate}}</button>
         </div>
      </div>
   </div>
   <!-- <div class="row">
      <div class="col-md-4">
      <div class="form-group">
         <p class="p16">Manage Properties</p>
         </div>
      </div>
      <div class="col-md-2">
   <div class="form-group">
   <label>Country</label>
      <select class="form-control" (change)="onCountryChange($event.target.value)">
         <option value="0">All</option>
         <option *ngFor="let item of location.countries" [value]="item.id">{{item.name}}</option>
      </select>
   </div>
   </div>
   <div class="col-md-2">
   <div class="form-group">
   <label>State</label>
      <select class="form-control" (change)="onStateChange($event.target.value)">
         <option value="0">All</option>
         <option *ngFor="let item of location.states" [value]="item.id">{{item.name}}</option>
      </select>
   </div>
   </div>
   <div class="col-md-2">
      <div class="form-group">
      <label>City</label>
         <select class="form-control" (change)="onCityChange($event.target.value)">
         <option value="0">All</option>
         <option *ngFor="let item of location.cities" [value]="item.id">{{item.name}}</option>
         </select>
      </div>
   </div>

   <div class="col-md-2">
   <div class="form-group">
   <label>Locality</label>
   <select class="form-control" (change)="onLocalityChange($event.target.value)">
         <option value="0">All</option>
         <option *ngFor="let item of location.localities" [value]="item.id">{{item.name}}</option>
      </select>
   </div>
   </div>
   </div>

   <div class="row">
         <div class="col-md-12">
            <div class="cust-tabs-2">
               <ul class="nav nav-tabs float-right">
                  <li class="nav-item">
                     <a [ngClass]="{'active':parameter.dash_flag == 1}" (click)="parameter.dash_flag=1;getListing()" class="nav-link" data-toggle="tab" href="#tw">This Week</a>
                  </li>
                  <li class="nav-item">
                     <a [ngClass]="{'active':parameter.dash_flag == 2}" (click)="parameter.dash_flag=2;getListing()" class="nav-link" data-toggle="tab" href="#tm">This Month</a>
                  </li>
                  <li class="nav-item">
                     <a [ngClass]="{'active':parameter.dash_flag == 3}" (click)="parameter.dash_flag=3;getListing()" class="nav-link" data-toggle="tab" href="#lm">Last Month</a>
                  </li>
                  <li class="nav-item">
                     <a [ngClass]="{'active':parameter.dash_flag == 4}" (click)="parameter.dash_flag=4;getListing()" class="nav-link" data-toggle="tab" href="#lt">Lifetime</a>
                  </li>
                  <li class="nav-item">
                     <a [ngClass]="{'active':parameter.dash_flag == 5}" (click)="parameter.dash_flag=5" class="nav-link" data-toggle="tab" href="#cust">Custom</a>
                  </li>
               </ul>
            </div>
         </div>
         <div class="col-12">
            <div *ngIf="parameter.dash_flag == 5" class="pull-right row">
               <div class="col-lg-4 col-md-4 col-sm-5 col-5">
               <div class="form-group marginB0">
                     <label>From:</label>
                     <p-calendar showIcon="true" [(ngModel)]="parameter.min" [maxDate]="today" showButtonBar="true" [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2040"></p-calendar>
               </div>
               </div>
               <div class="col-lg-4 col-md-4 col-sm-5 col-5">
               <div class="form-group marginB0">
                     <label>To:</label>
                     <p-calendar showIcon="true" [(ngModel)]="parameter.max" [minDate]="parameter.min" [maxDate]="today" showButtonBar="true" [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2040"></p-calendar>
               </div>
               </div>
               <div class="col-lg-4 col-md-4 col-sm-2 col-6">
               <div class="form-group btn-cont">
                     <label class="addMT3">&nbsp;</label>
                     <button class="btn btn-calender" href="javascript://" (click)="getListing()"
               [disabled]="!parameter.min || !parameter.max">Apply</button>
               </div>
               </div>
            </div>
         </div>
      </div> -->

   <div class="cust-tabs">
      <div class="row flex-wrap-reverse">

         <div class="col-xl-4 col-lg-12 col-md-12 col-sm-12 col-12">
            <ul class="nav nav-tabs">
               <li class="nav-item">
                  <a [ngClass]="{'active':parameter.flag==3}" (click)="changePropertyFlag(3)"
                     class="nav-link cursor-pointer">{{'filters.flag.approved' | translate}}</a>
               </li>
               <li class="nav-item">
                  <a [ngClass]="{'active':parameter.flag==4}" (click)="changePropertyFlag(4)"
                     class="nav-link cursor-pointer">{{'filters.flag.unapproved' | translate}}</a>
               </li>
               <li class="nav-item">
                  <a [ngClass]="{'active':parameter.flag==2}" (click)="changePropertyFlag(2)"
                     class="nav-link cursor-pointer">{{'filters.flag.pendingReview' | translate}}</a>
               </li>
               <li class="nav-item">
                  <a [ngClass]="{'active':parameter.flag==1}" (click)="changePropertyFlag(1)"
                     class="nav-link cursor-pointer">{{'filters.flag.inDraft' | translate}}</a>
               </li>
               <!-- <li class="nav-item">
                  <a [ngClass]="{'active':parameter.flag==5}" (click)="changePropertyFlag(5)" class="nav-link cursor-pointer" >{{'filters.flag.sellerRequest' | translate}}</a>
               </li> -->
            </ul>
         </div>
         <div class="col-xl-2 col-lg-12 col-md-12 col-sm-12 col-12">
            <div class="add-new text-left">
               <a class="btn" #modalOpen data-toggle="modal" data-target="#advancedSearch"
                  routerLink="/dashboard/properties/add-bulk-property/0/0">
                  {{'advanceSearch.advancedSearch' | translate}}</a>
            </div>
         </div>
         <div class="col-xl-2 col-lg-12 col-md-12 col-sm-12 col-12">
            <div class="add-new text-left">
               <a class="btn" (click)="getExportlisting()" href="javascript://">
                  {{'table.exportDataBtn' | translate}}</a>
            </div>
         </div>
         <div class="col-xl-2 col-lg-12 col-md-12 col-sm-12 col-12">
            <div class="add-new text-center">
               <a *ngIf="admin?.admin_acl['Property Management']?.can_create==1" class="btn" href="javascript://"
                  routerLink="/dashboard/properties/add-bulk-property/0/0">{{'viewProperty.addBulkProperty' |
                  translate}}</a>
            </div>
         </div>
         <div class="col-xl-2 col-lg-12 col-md-12 col-sm-12 col-12">
            <div class="add-new text-right">
               <a *ngIf="admin?.admin_acl['Property Management']?.can_create==1" class="btn" href="javascript://"
                  routerLink="/dashboard/properties/add-property/0/0">{{'viewProperty.addNewProperty' | translate}}</a>
            </div>
         </div>
      </div>
      <div class="tab-content white-bg">
         <div class="tab-pane active">
            <div class="tabel-section">
               <div class="table-responsive">
                  <table class="table table-striped table-align-left">
                     <tr>
                        <th style="width:10%; text-align:left;">
                           <div class="table-search">
                              <label>{{'table.th.id' | translate}}</label>
                              <div class="searh-3">
                                 <input class="width100px" type="text" [(ngModel)]="parameter.random_id" name="random_id"
                                    (keyup.enter)="getListing('','')" autocomplete="address-level4">
                                 <button *ngIf="parameter.random_id" (click)="getListing('','')"><i
                                       class="fa fa-search"></i></button>
                              </div>
                           </div>
                        </th>
                        <th style="width:10%; text-align:left;" *ngIf="selectedPropertyColumnsToShow?.building_name">
                           <div class="table-search">
                              <label>{{'table.th.nameOfBuilding' | translate}}</label>
                              <div class="searh-3">
                                 <input class="width100px" type="text" [(ngModel)]="parameter.keyword" name="keyword"
                                    (keyup.enter)="getListing('','')" autocomplete="address-level4">
                                 <button *ngIf="parameter.keyword" (click)="getListing('','')"><i
                                       class="fa fa-search"></i></button>
                              </div>
                           </div>
                        </th>
                        <th style="width:10%; text-align:left;" *ngIf="selectedPropertyColumnsToShow?.tower_name">
                           <div class="table-search">
                              <label>{{'table.th.nameOfTower' | translate}}</label>
                              <div class="searh-3">
                                 <input class="width100px" type="text" [(ngModel)]="parameter.tower_name"
                                    name="tower_name" (keyup.enter)="getListing('','')" autocomplete="address-level4">
                                 <button *ngIf="parameter.tower_name" (click)="getListing('','')"><i
                                       class="fa fa-search"></i></button>
                              </div>
                           </div>
                        </th>
                        <th style="width:10%; text-align:left;" *ngIf="selectedPropertyColumnsToShow?.floor">
                           <div class="table-search">
                              <label>{{'table.th.floor' | translate}}</label>
                              <select [(ngModel)]="parameter.floor_num" (change)="getListing('','')" name="floor_num">
                                 <option value="">{{'table.th.allFloors' | translate}}</option>
                                 <option *ngFor="let c of floors" value="{{c.id}}">
                                    {{c.name}}
                                 </option>
                              </select>
                           </div>
                        </th>
                        <th style="width:10%; text-align:left;" *ngIf="selectedPropertyColumnsToShow?.apartment">
                           <div class="table-search">
                              <label>{{'table.th.apartment' | translate}}
                                 <a (click)="sort_by(4)" href="javascript://"><img
                                       [ngClass]="{'upsidedown':parameter.sort_by==4}" src="assets/img/top-arrow.png"
                                       alt="img"></a>
                              </label>
                              <div class="searh-3">
                                 <input class="width120px" type="text" [(ngModel)]="parameter.name" name="name"
                                    (keyup.enter)="getListing('','')" autocomplete="address-level4">
                                 <button *ngIf="parameter.name" (click)="getListing('','')"><i
                                       class="fa fa-search"></i></button>
                              </div>
                           </div>
                        </th>
                        <th style="width:10%; text-align:left;" *ngIf="selectedPropertyColumnsToShow?.model">
                           <div class="table-search">
                              <label>{{'table.th.model' | translate}}</label>
                              <div class="searh-3">
                                 <input class="width120px" type="text" [(ngModel)]="parameter.configuration_name"
                                    name="configuration_name" (keyup.enter)="getListing('','')"
                                    autocomplete="address-level4">
                                 <button *ngIf="parameter.configuration_name" (click)="getListing('','')"><i
                                       class="fa fa-search"></i></button>
                              </div>
                           </div>
                        </th>
                        <th style="width:10%; text-align:left;" *ngIf="selectedPropertyColumnsToShow?.configuration">
                           <div class="table-search">
                              <label>{{'table.th.configuration' | translate}}</label>
                              <select [(ngModel)]="parameter.configuration_id" (change)="getListing('','')"
                                 name="configuration_id">
                                 <option value="0">{{'table.th.allConfiguration' | translate}}</option>
                                 <option *ngFor="let c of configurations" value="{{c.id}}">
                                    <!-- {{c.name}} -->
                                    <span *ngIf="c.status">
                                       <app-property-configuration *ngIf="c" [configuration]="c">
                                       </app-property-configuration>
                                    </span>
                                 </option>
                              </select>
                           </div>
                        </th>
                        <th style="width:10%;vertical-align:top;"
                           *ngIf="selectedPropertyColumnsToShow?.edit_list_price">
                           <div class="d-flex table-search">
                              <label>{{'table.th.editPrice' | translate}}</label>
                           </div>
                        </th>
                        <th style="width:10%;vertical-align:top;" *ngIf="selectedPropertyColumnsToShow?.list_price">
                           <div (click)="sort_by(1)" class="d-flex table-search">
                              <label>{{'table.th.listPrice' | translate}}</label>
                              <a href="javascript://"><img
                                    [ngClass]="{'upsidedown':parameter.sort_by==1 && parameter.sort_by_order==0}"
                                    src="assets/img/top-arrow.png" alt="img"></a>
                           </div>
                        </th>
                        <th style="width:10%;vertical-align:top;" *ngIf="selectedPropertyColumnsToShow?.final_price">
                           <div (click)="sort_by(6)" class="d-flex table-search">
                              <label>{{'table.th.finalPrice' | translate}}</label>
                              <a href="javascript://"><img
                                    [ngClass]="{'upsidedown':parameter.sort_by==6 && parameter.sort_by_order==0}"
                                    src="assets/img/top-arrow.png" alt="img"></a>
                           </div>
                        </th>
                        <!-- <th style="width:10%;vertical-align:top;" *ngIf="selectedPropertyColumnsToShow?.rent_price">
                           <div (click)="sort_by(7)" class="d-flex table-search">
                              <label>{{'table.th.rentPrice' | translate}}</label>
                              <a href="javascript://"><img
                                    [ngClass]="{'upsidedown':parameter.sort_by==7 && parameter.sort_by_order==2?1:2}"
                                    src="assets/img/top-arrow.png" alt="img"></a>
                           </div>
                        </th> -->
                        <th style="vertical-align:top;width:10%"  *ngIf="selectedPropertyColumnsToShow?.rent_price">
                           <div class="d-flex table-search">
                             <span><label>{{'table.th.rentPrice' | translate}}</label></span>
                             <a (click)="sortData(parameter.sort_by_order==2?1:2)" href="javascript://"><img
                                 [ngClass]="{'upsidedown':parameter.sort_by_order==2}" src="assets/img/top-arrow.png"
                                 alt="img"></a>
                           </div>
                         </th>
                        <th style="width:10%;vertical-align:top;" *ngIf="selectedPropertyColumnsToShow?.price_per_m2">
                           <div (click)="price_by(1)" class="d-flex table-search">
                              <label>{{'table.th.avergagePrice' | translate}}</label>
                              <a href="javascript://"><img [ngClass]="{'upsidedown':parameter.price_sort==1}"
                                    src="assets/img/top-arrow.png" alt="img"></a>
                           </div>
                        </th>
                        <th style="width:10%;vertical-align:top;"
                           *ngIf="selectedPropertyColumnsToShow?.commercial_offers">
                           <div (click)="sort_by(1)" class="d-flex table-search">
                              <label>{{'table.th.Commercialoffers' | translate}}</label>
                           </div>
                        </th>
                        <th style="width:8%;vertical-align:top;" *ngIf="selectedPropertyColumnsToShow?.carpet_area">
                           <div (click)="sort_by(5)" class="d-flex table-search">
                              <label>{{'table.th.carpetArea' | translate}}</label>
                              <a href="javascript://"><img
                                    [ngClass]="{'upsidedown':parameter.sort_by==5 && parameter.sort_by_order==0}"
                                    src="assets/img/top-arrow.png" alt="img"></a>
                           </div>
                        </th>
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.commercialized_sozu"
                           style="width:5%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.commercializedBySOZU' | translate}}</label>
                              <select class="width100px" [(ngModel)]="parameter.is_commercialized"
                                 (change)="getListing('','')" name="is_commercialized">
                                 <option value="">{{'table.th.all' | translate}}</option>
                                 <option value="1">{{'table.th.yes' | translate}}</option>
                                 <option value="0">{{'table.th.no' | translate}}</option>
                              </select>
                           </div>
                        </th>
                        <!-- <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.is_published"
                        style="width:5%;vertical-align:top;">
                        <div class="table-search">
                           <label>{{'table.th.published' | translate}}</label>
                           <select class="width100px" [(ngModel)]="parameter.is_published"
                              (change)="getListing()" name="is_published">
                              <option value="">{{'table.th.all' | translate}}</option>
                              <option value="1">{{'table.th.yes' | translate}}</option>
                              <option value="2">{{'table.th.no' | translate}}</option>
                           </select>
                        </div>
                     </th> -->
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.possession_status"
                           style="width:5%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.possession_status' | translate}}</label>
                              <select [(ngModel)]="parameter.possession_status_id" (change)="getListing('','')">
                                 <option value="0">{{'table.th.all' | translate}}</option>
                                 <option *ngFor="let item of possessionStatuses" value="{{item.id}}"> 
                                   {{this.language_code == 'en' ? item.name_en : item.name_es }}</option>
                               </select>
                              <!-- <select [(ngModel)]="parameter.possession_status_id" (change)="getListing()">
                                 <option value="0">{{'table.th.possesion.all' | translate}}</option>
                                 <option value="{{apiConstant.possessionStatus.sale}}">{{'table.th.possesion.sale' |
                                    translate}}
                                 </option>
                                 <option value="{{apiConstant.possessionStatus.preSale}}">
                                    {{'table.th.possesion.presale' | translate}}</option>
                              </select> -->
                           </div>
                        </th>


                        <th style="width:8%;vertical-align:top;"
                           *ngIf="selectedPropertyColumnsToShow?.agent_commission">
                           <div (click)="sort_by(1)" class="d-flex table-search">
                              <label>{{'table.th.agentCommission' | translate}}</label>
                           </div>
                        </th>
                        <th style="width:4%;vertical-align:top;"
                           *ngIf="selectedPropertyColumnsToShow?.edit_agent_commission">
                           <div class="d-flex table-search">
                              <label>{{'table.th.editAgentCommission' | translate}}</label>
                           </div>
                        </th>
                        <th style="width:8%;vertical-align:top;"
                           *ngIf="selectedPropertyColumnsToShow?.total_commission">
                           <div (click)="sort_by(1)" class="d-flex table-search">
                              <label>{{'table.th.totalSozuCommission' | translate}}</label>
                           </div>
                        </th>
                        <th style="width:4%;vertical-align:top;"
                           *ngIf="selectedPropertyColumnsToShow?.edit_total_commission">
                           <div class="d-flex table-search">
                              <label>{{'table.th.editTotalCommission' | translate}}</label>
                           </div>
                        </th>
                        <th style="width:4%;vertical-align:top;" *ngIf="selectedPropertyColumnsToShow?.leads">
                           <div (click)="sort_by(3)" class="d-flex table-search">
                              <label>{{'table.th.leads' | translate}}</label>
                              <a href="javascript://"><img
                                    [ngClass]="{'upsidedown':parameter.sort_by==3 && parameter.sort_by_order==0}"
                                    src="assets/img/top-arrow.png" alt="img"></a>
                           </div>
                        </th>
                        <th style="width:5%;vertical-align:top;"
                           *ngIf="parameter.flag==5 && selectedPropertyColumnsToShow?.view_seller_request">
                           <div class="d-flex table-search">
                              <label>{{'table.th.viewSellerRequest' | translate}}</label>
                           </div>
                        </th>
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.change_buyer"
                           style="width:5%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.changeBuyer' | translate}}</label>
                              <div class="searh-3">
                                 <input class="width100px" type="text" [(ngModel)]="parameter.buyer_name"
                                    name="buyer_name" (keyup.enter)="getListing('','')" autocomplete="address-level4">
                                 <button *ngIf="parameter.buyer_name" (click)="getListing('','')"><i
                                       class="fa fa-search"></i></button>
                              </div>
                           </div>
                        </th>
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.change_seller"
                           style="width:5%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.changeSeller' | translate}}</label>
                              <div class="searh-3">
                                 <input class="width100px" type="text" [(ngModel)]="parameter.seller_name"
                                    name="seller_name" (keyup.enter)="getListing('','')" autocomplete="address-level4">
                                 <button *ngIf="parameter.seller_name" (click)="getListing('','')"><i
                                       class="fa fa-search"></i></button>
                              </div>
                           </div>
                        </th>
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.link_unlink_inhouse_agent"
                           style="width:6%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.linkUnlinkInHouseAgent' | translate}}</label>
                           </div>
                        </th>
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.link_unlink_outside_agent"
                           style="width:6%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.linkUnlinkOutsideAgent' | translate}}</label>
                           </div>
                        </th>
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.link_agency"
                           style="width:6%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.LinkAgency' | translate}}</label>
                              <!-- <div class="searh-3">
                                    <input class="width100px" type="text" [(ngModel)]="parameter.name" (keyup.enter)="getListing()" >
                                    <button *ngIf="parameter.name" (click)="getListing()"><i class="fa fa-search"></i></button>
                                 </div> -->
                           </div>
                        </th>
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.change_availability"
                           style="width:20%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.changeAvailability' | translate}}</label>
                              <ng-multiselect-dropdown 
                              class="col-6 section-section5 multi-select" 
                              [placeholder]="''"
                              name="availability_filter" 
                              [data]="availabilityStatus" 
                              [(ngModel)]="parameter.availability_filter"
                              [settings]="multiDropdownSettings" 
                              (onDeSelect)="getListing('unselect',$event)"
                              (onSelect)="getListing('select',$event)" 
                              (onSelectAll)="getListing('all',$event)">
                              </ng-multiselect-dropdown>
                              <!-- <select [(ngModel)]="parameter.availability_filter" (change)="getListing()"
                                 name="availability_filter">
                                 <option value="0">{{'table.th.all' | translate}}</option>
                                 <option value="1">{{'table.th.buy' | translate}}</option>
                                 <option value="2">{{'table.th.rent' | translate}}</option>
                                 <option value="3">{{'table.th.inventory' | translate}}</option>
                                 <option value="4">{{'leadDetails.saleAndrent' | translate}}</option>
                              </select> -->
                           </div>
                        </th>
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.is_property_sold"
                           style="width:20%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.isPropertySold' | translate}}</label>
                              <select class="width100px" [(ngModel)]="parameter.sold_filter" (change)="getListing('','')"
                                 name="sold_filter">
                                 <option value="0">{{'table.th.all' | translate}}</option>
                                 <option value="1">{{'table.th.yes' | translate}}</option>
                                 <option value="2">{{'table.th.no' | translate}}</option>
                              </select>
                           </div>
                        </th>
                        <th *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.linked_collection"
                           style="width:10%;vertical-align:top;">
                           <div class="table-search">
                              <label>{{'table.th.linkedCollection' | translate}}</label>
                           </div>
                        </th>
                        <th style="width:20%;" *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.action">
                           <div class="table-search">
                              <label>{{'table.th.actions.label' | translate}}</label>
                              <select [(ngModel)]="parameter.action_filter" (change)="getListing('','')"
                                 name="action_filter">
                                 <option value="0">{{'table.th.actions.all' | translate}}</option>
                                 <option value="3">{{'table.th.actions.featured' | translate}}</option>
                                 <option value="1">{{'table.th.actions.blocked' | translate}}</option>
                                 <option value="2">{{'table.th.actions.unblocked' | translate}}</option>
                                 <option value="4">{{'table.th.published' | translate}}</option>
                              </select>
                           </div>
                        </th>
                     </tr>

                     <tr
                        *ngFor="let p of items | paginate: { itemsPerPage: parameter.itemsPerPage, currentPage: parameter.page, totalItems: total }; let i=index">
                        <td *ngIf="selectedPropertyColumnsToShow?.id">
                           <span class="green-color cursor-pointer" routerLink="/dashboard/properties/edit-property/{{p.id}}/edit">
                              {{p?.id ? p?.id : ('table.tr.td.NA' | translate)}}</span>
                        </td>
                        <td class="cursor-pointer" title="{{'table.title.clickToViewDetails' | translate}}"
                           (click)="viewPropertyDetails(p.id, p)" *ngIf="selectedPropertyColumnsToShow?.building_name">

                           <strong>{{p?.building?.name || ('table.tr.td.NA' | translate)}}</strong>
                           <div class="clearfix"></div>
                           <small *ngIf="p.quantity > 0">
                              {{p.quantity}}
                              <span *ngIf="p.quantity == 1">property</span>
                              <span *ngIf="p.quantity > 1">properties</span>
                           </small>
                        </td>
                        <td *ngIf="selectedPropertyColumnsToShow?.tower_name"><span>{{p?.building_towers ?
                              p?.building_towers?.tower_name : ('table.tr.td.NA' |
                              translate)}}</span></td>
                        <td *ngIf="selectedPropertyColumnsToShow?.floor"><span>{{p?.building_towers?.tower_name
                              ? (p?.floor_num == 0 ? ('addCollection.groundFloor' | translate) : ('addCollection.floor'
                              | translate) + ' ' + p?.floor_num)
                              : ('table.tr.td.NA' | translate)}}</span></td>
                        <td *ngIf="selectedPropertyColumnsToShow?.apartment"><span>{{p?.name || ('table.tr.td.NA' |
                              translate)}}</span></td>
                        <td *ngIf="selectedPropertyColumnsToShow?.model">
                           <span [style.textAlign]="'center'">
                              <b>{{p?.building_configuration?.name || ('table.tr.td.NA' | translate)}}</b>
                           </span>
                        </td>
                        <td *ngIf="selectedPropertyColumnsToShow?.configuration">
                           <app-property-configuration *ngIf="p?.building_configuration"
                              [configuration]="p.building_configuration.config"></app-property-configuration>
                        </td>
                        <td *ngIf="selectedPropertyColumnsToShow?.edit_list_price"><span>
                              <button (click)="editPricePopup(p, i)"
                                 [disabled]="admin?.admin_acl['Property Management']?.can_update==0"
                                 title="{{'table.title.editPrice' | translate}}" class="action-icon"><img
                                    src="assets/img/edit.png" alt="img"></button>
                           </span></td>
                        <td *ngIf="selectedPropertyColumnsToShow?.list_price"><span>{{p.min_price | price}}</span></td>
                        <td *ngIf="selectedPropertyColumnsToShow?.final_price"><span>{{p.final_price ? (p.final_price |
                              price) : ('table.tr.td.NA' | translate)}}</span></td>
                        <td *ngIf="selectedPropertyColumnsToShow?.rent_price"><span>{{p.rent_price | price}}</span></td>
                        <td *ngIf="selectedPropertyColumnsToShow?.price_per_m2">
                           <span>${{ p.avgg_price ? (p.avgg_price | number : '1.2-2') : 0.00}}</span>
                        </td>
                        <td *ngIf="selectedPropertyColumnsToShow?.commercial_offers">
                           <span *ngIf="p?.offer_count">
                              <a class="add1" href="javascript://" (click)="openOfferModel(p, i)"
                                 style="color: #00B96F;">
                                 <b>{{p?.offer_count || ('table.tr.td.NA' | translate)}}</b>
                              </a>
                           </span>
                           <span *ngIf="!p?.offer_count">
                              <b>{{'table.tr.td.NA' | translate}}</b>
                           </span>
                        </td>

                        <!-- <td><span>{{p?.carpet_areas && p?.carpet_areas?.length>0 ? (p?.carpet_areas[0]?.area| number : '1.2-2') : 0.00}}</span></td> -->
                        <td *ngIf="selectedPropertyColumnsToShow?.carpet_area"><span>{{p?.max_area ? p.max_area :
                              0.00}}</span></td>
                              <td *ngIf="selectedPropertyColumnsToShow?.commercialized_sozu"><span>{{p?.is_commercialized ? (
                                 'table.th.yes' | translate ): ( 'table.th.no' | translate )
                                 }}</span></td>
                        <!-- <td *ngIf="selectedPropertyColumnsToShow?.is_published"><span>{{p?.is_published ? (
                              'table.th.yes' | translate ): ( 'table.th.no' | translate )
                              }}</span></td> -->
                              
                        <td *ngIf="selectedPropertyColumnsToShow?.possession_status">
                           <span>{{p?.building_towers?.possession_status_id == apiConstant.possessionStatus.sale ?
                              ('table.tr.td.sale' |
                              translate) : ('table.tr.td.presale' | translate)}}</span>
                        </td>

                        <td *ngIf="selectedPropertyColumnsToShow?.agent_commission"><span>{{p.broker_commision |
                              percentage}}</span></td>
                        <td *ngIf="selectedPropertyColumnsToShow?.edit_agent_commission"><span>
                              <button (click)="editAgentCommissionPopup(p, i, true)"
                                 [disabled]="admin?.admin_acl['Property Management']?.can_update==0"
                                 title="{{'table.title.editPrice' | translate}}" class="action-icon"><img
                                    src="assets/img/edit.png" alt="img"></button>
                           </span></td>

                        <td *ngIf="selectedPropertyColumnsToShow?.total_commission"><span>{{p?.total_commission |
                              percentage}}</span></td>
                        <td *ngIf="selectedPropertyColumnsToShow?.edit_total_commission"><span>
                              <button (click)="editAgentCommissionPopup(p, i, false)"
                                 [disabled]="admin?.admin_acl['Property Management']?.can_update==0"
                                 title="{{'table.title.editPrice' | translate}}" class="action-icon"><img
                                    src="assets/img/edit.png" alt="img"></button>
                           </span></td>

                        <td *ngIf="selectedPropertyColumnsToShow?.leads"><span>{{p.lead_properties_count |
                              roundNumber}}</span></td>

                        <td *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.change_buyer"
                           class="cursor-pointer"
                           title="{{p?.selected_buyer?.user?.name ? ('table.title.clickToChangeBuyer' | translate) : ('table.title.clickToAddBuyer' | translate)}}"
                           (click)="getAllSellers(p, '1', i, 'buyer', 1)">
                           <span *ngIf="p?.selected_buyer?.user?.legal_entity" class="green-color">
                              {{p?.selected_buyer?.user?.legal_entity?.comm_name || ('table.tr.td.add' | translate)}}
                           </span>
                           <span *ngIf="!p?.selected_buyer?.user?.legal_entity" class="green-color">
                              {{p?.selected_buyer?.user?.name || ('table.tr.td.add' | translate)}}
                           </span>
                        </td>

                        <td *ngIf="parameter.flag==5  && selectedPropertyColumnsToShow?.view_seller_request"
                           class="cursor-pointer" title="{{'table.title.viewSellerRequest' | translate}}"
                           (click)="showAllSellers(p?.id, i)">
                           <span class="green-color"><span>{{'table.tr.td.view' | translate}}</span></span>
                        </td>

                        <td *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.change_seller"
                           class="cursor-pointer"
                           title="{{p?.selected_seller?.user?.name ? ('table.title.clickToChangeSeller' | translate) : ('table.title.clickToAddSeller' | translate)}}"
                           (click)="getAllSellers(p, '1', i, 'seller', 1)">
                           <span *ngIf="p?.selected_seller?.user?.legal_entity" class="green-color">
                              {{p?.selected_seller?.user?.legal_entity?.comm_name || ('table.tr.td.add' | translate)}}
                           </span>
                           <span *ngIf="!p?.selected_seller?.user?.legal_entity" class="green-color">
                              {{p?.selected_seller?.user?.name || ('table.tr.td.add' | translate)}}
                           </span>
                        </td>

                        <td *ngIf="parameter.flag!=5  && selectedPropertyColumnsToShow?.link_unlink_inhouse_agent"
                           class="cursor-pointer" (click)="getBothBroker(p, '', true)">
                           <span class="green-color">
                              <span
                                 title="{{p?.external_broker?.id ? ('table.title.clickToChange' | translate) : ('table.title.clickToAssign' | translate) }}">
                                 {{p?.external_broker?.id
                                 ? ('table.tr.td.change' | translate) : ('table.tr.td.link' | translate)}}</span>
                           </span>
                        </td>
                        <td *ngIf="parameter.flag!=5  && selectedPropertyColumnsToShow?.link_unlink_outside_agent"
                           class="cursor-pointer" (click)="getBothBroker(p, '', false)">
                           <span class="green-color">
                              <span
                                 title="{{p?.external_outside_agent?.id ? ('table.title.clickToChange' | translate) : ('table.title.clickToAssign' | translate) }}">
                                 {{p?.external_outside_agent?.id
                                 ? ('table.tr.td.change' | translate) : ('table.tr.td.link' | translate)}}</span>
                           </span>
                        </td>
                        <td *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.link_agency"
                           class="cursor-pointer" (click)="getAgency(p, '',i)">
                           <span class="green-color">
                              <span
                                 title="{{p?.get_agency?.id ? ('table.title.clickToChange' | translate) : ('table.title.clickToAssign' | translate) }}">
                                 {{p?.get_agency?.id
                                 ? ('table.tr.td.change' | translate) : ('table.tr.td.link' | translate)}}</span>
                           </span>
                        </td>
                        <td *ngIf="parameter.flag!=5  && selectedPropertyColumnsToShow?.change_availability"
                           class="cursor-pointer">
                           <select (change)="changeSoldStatusPopup(p, i, $event)">
                              <option [selected]="p.for_sale==1" value="1">{{'table.th.buy' | translate}}</option>
                              <option [selected]="p.for_rent==1" value="2">{{'table.th.rent' | translate}}</option>
                              <option [selected]="p.for_hold==1" value="3">{{'table.th.inventory' | translate}}</option>
                              <option [selected]="p.for_resale==1" value="4">{{'leadDetails.saleAndrent' | translate}}</option>
                           </select>
                        </td>
                        <td *ngIf="parameter.flag!=5  && selectedPropertyColumnsToShow?.is_property_sold">
                           {{p?.is_property_sold ? ('table.th.yes' | translate) : ('table.th.no' | translate)}}
                        </td>
                        <td *ngIf="parameter.flag!=5 && selectedPropertyColumnsToShow?.linked_collection">
                           <span *ngIf="p?.collection && p?.collection?.is_cancelled!=1">{{'table.th.yes' | translate}}
                              <span class="green-color cursor-pointer"
                                 routerLink="/dashboard/collections/view-collections/{{p?.collection?.id}}">{{p?.collection?.id}}</span>
                           </span>
                           <span
                              *ngIf="!p?.collection || (p?.collection && p?.collection?.is_cancelled==1)">{{'table.th.no'
                              | translate}}</span>
                        </td>
                        <td *ngIf="parameter.flag!=5  && selectedPropertyColumnsToShow?.action">
                           <div class="table-actions">
                              <button [disabled]="admin?.admin_acl['Property Management']?.can_read == 0 " 
                              (click)="getNotes(p)"
                              title="Property Notes" class="action-icon"><img
                                src="assets/img/chat-icon.png" alt="img"></button>
                              <!--this button to open installment modal -->
                              <button class="action-icon disable" 
                              [disabled]="p?.collection && p?.collection?.is_cancelled!=1 && parameter?.flag == 3"
                              *ngIf="p?.collection && p?.collection?.is_cancelled!=1 && parameter?.flag == 3" 
                              title="{{'table.title.pusblishDisable' | translate}}">
                              <img src="assets/img/BLOCKED.jpg" alt="img" style="width: 25px;
                                 height: 25px;">
                              </button>
                              <!-- <button class="action-icon" 
                              [disabled]="p?.collection && p?.collection?.is_cancelled!=1 && parameter?.flag == 3"
                              *ngIf="p?.collection && p?.collection?.is_cancelled!=1 && parameter?.flag == 3"  
                              title="{{'table.title.pusblish' | translate}}">
                              <img src="assets/img/BLOCKED.jpg" alt="img" style="width: 25px;
                              height: 25px;"></button> -->

                              <button (click)="this.pusblish(p);" class="action-icon" 
                              *ngIf="p.is_published == 0 && parameter?.flag == 3 && !p?.collection" 
                              title="{{'table.title.unPusblish' | translate}}">
                              <img src="assets/img/UNACTIVE.jpg" alt="img" style="width: 31px;
                              height: 27px;
                              margin-left: -3px;">
                              </button>
                              
                              <button (click)="this.pusblish(p);" class="action-icon" 
                              *ngIf="p.is_published == 1 && parameter?.flag == 3 && !p?.collection" 
                              title="{{'table.title.pusblish' | translate}}">
                              <img src="assets/img/ACTIVE.jpg" alt="img" style="width: 25px;
                              height: 25px;"></button>

                              <button (click)="this.openModalInstallment(p);" class="action-icon"
                                 [disabled]="!!p?.collection" *ngIf="parameter?.flag == 3"
                                 title="{{'table.title.generatePDF' | translate}}"><img
                                    src="assets/img/commercial_pdf.png" alt="img"></button>

                              <!-- <button (click)="this.updateCommercialized(p,1);" class="action-icon" [disabled]="!!p?.collection" *ngIf="parameter?.flag == 3"
                                 [title]="p?.is_commercialized ? ('table.title.commercializedProperty' | translate ): ('table.title.markCommercialized' | translate)"><img
                                    [src]="p?.is_commercialized ? 'assets/img/tick-selected.png' : 'assets/img/tick.png' " alt="img"></button> -->

                              <button (click)="this.updateCommercialized(p,1);" class="action-icon"
                                 [disabled]="!!p?.collection" *ngIf="p.is_commercialized !=1 && parameter?.flag == 3"
                                 title="{{'table.title.commercializedProperty' | translate}}">
                                 <img src="assets/img/tick.png" alt="img"></button>

                              <button (click)="this.updateCommercialized(p,0);" class="action-icon"
                                 [disabled]="!!p?.collection"
                                 *ngIf="p.is_commercialized == true && parameter?.flag == 3"
                                 title="{{'table.title.markCommercialized' | translate}}">
                                 <img src="assets/img/tick-selected.png" alt="img"></button>

                              <button [disabled]="admin?.admin_acl['Property Management']?.can_update==0"
                                 *ngIf="parameter?.flag!=3" routerLink="/dashboard/properties/edit-property/{{p.id}}"
                                 title="{{'table.title.editDetails' | translate}}" class="action-icon"><img
                                    src="assets/img/edit.png" alt="img"></button>
                              <button [disabled]="admin?.admin_acl['Property Management']?.can_update==0"
                                 *ngIf="parameter?.flag==3"
                                 routerLink="/dashboard/properties/edit-property/{{p.id}}/edit"
                                 title="{{'table.title.editDetails' | translate}}" class="action-icon"><img
                                    src="assets/img/edit.png" alt="img"></button>
                              <button [disabled]="admin?.admin_acl['Property Management']?.can_delete==0"
                                 *ngIf="!p.is_blocked" (click)="blockUnblock(p, 1);" class="action-icon"
                                 title="{{'table.title.block' | translate}}"><img src="assets/img/block.png"
                                    alt="img"></button>
                              <button [disabled]="admin?.admin_acl['Property Management']?.can_delete==0"
                                 *ngIf="p.is_blocked == true" (click)="blockUnblock(p, 0);"
                                 class="action-icon unblock-bg" title="{{'table.title.unblock' | translate}}"><img
                                    src="assets/img/unblock.png" alt="img"></button>

                              <!-- unapprove -->
                              <a style="display:none;" #modalOpen data-toggle="modal"
                                 data-target="#addPropertyReason"></a>
                              <button [disabled]="admin?.admin_acl['Property Management']?.can_update==0"
                                 *ngIf="p.status == 3" (click)="changeStatus(p, 4);" class="action-icon"
                                 title="{{'table.title.unapprove' | translate}}"><img src="assets/img/ic_disapprove.png"
                                    alt="img"></button>
                              <!-- *ngIf="p.status == 2 -->
                              <button [disabled]="admin?.admin_acl['Property Management']?.can_update==0"
                                 *ngIf="p.status !=1 && p.status !=3" (click)="changeStatus(p,3);" class="action-icon"
                                 title="{{'table.title.approve' | translate}}"><img src="assets/img/tick.png"
                                    alt="img"></button>
                              <button [disabled]="admin?.admin_acl['Property Management']?.can_update==0"
                                 *ngIf="p.status == 3 && p.is_featured==0" (click)="markPropertyFeatured(p,1);"
                                 class="action-icon" title="{{'table.title.markFeauture' | translate}}"><img
                                    src="assets/img/ic_featured.png" alt="img"></button>
                              <button [disabled]="admin?.admin_acl['Property Management']?.can_update==0"
                                 *ngIf="p.status == 3 && p.is_featured==1" (click)="markPropertyFeatured(p,0);"
                                 class="action-icon" title="{{'table.title.markUnfeauture' | translate}}"><img
                                    src="assets/img/tick-selected.png" alt="img"></button>
                              <!-- delete -->
                              <button [disabled]="admin?.admin_acl['Property Management']?.can_purge==0"
                                 (click)="deletePopup(p, i)" class="action-icon"
                                 title="{{'table.title.delete' | translate}}"><img src="assets/img/ic_delete.png"
                                    alt="img"></button>
                           </div>

                        </td>
                     </tr>
                     <!-- <tr *ngIf="total == 0">
                           <td colspan="10">No result found</td>
                           </tr> -->
                  </table>
                  <div class="padding20 center" *ngIf="total == 0">
                     <img src="assets/img/404-error.png">
                  </div>
               </div>
            </div>
         </div>
         <div class="tab-pane container fade" id="seller">{{'table.th.sellerTabOn' | translate}}</div>
      </div>
   </div>

   <div class="btn-cont marginT15" *ngIf="total">
      <div class="row">
         <div class="col-6">
            <div class="title-group">
               <p>{{'table.pagination.showing' | translate}} {{items?.length}} {{'table.pagination.outof' | translate}}
                  {{total}}</p>
            </div>
         </div>
         <div class="col-6 text-right">
            <pagination-controls class="my-pagination" (pageChange)="getPage($event)"></pagination-controls>
         </div>
      </div>
   </div>
</div>




<!-- All Sellers -->
<a data-toggle="modal" data-target="#link-user-model" #linkUserModal style="display: none;"></a>
<div class="modal" id="link-user-model">
   <div class="modal-dialog ">
      <div class="modal-content notary-avail">
         <div class="modal-header popup-header">
            <h4 class="modal-title">{{ user_type=='seller' ? ('table.th.linkUnlinkSeller' | translate) :
               ('table.th.linkUnlinkBuyer' | translate)}}</h4>
            <button type="button" class="close" #closeLinkUserModal data-dismiss="modal">&times;</button>
         </div>
         <div class="modal-body">

            <p class="modal-title marginB20" *ngIf="selecter_seller">
               {{'table.th.currentlyLinkedToSeller' | translate}}
               ({{selecter_seller?.user?.is_developer==1 ? 'Developer' :
               (selecter_seller?.user?.legal_entity_id ? 'Legal Representative' : 'Person')}})-
               <b>{{selecter_seller?.user?.legal_entity_id ? selecter_seller?.user?.legal_entity?.comm_name :
                  selecter_seller?.user?.name}}</b>
            </p>

            <p class="modal-title marginB20" *ngIf="selecter_buyer">
               {{'table.th.currentlyLinkedToBuyer' | translate}}
               ({{selecter_buyer?.user?.is_developer==1 ? 'Developer' :
               (selecter_buyer?.user?.legal_entity_id ? 'Legal Representative' : 'Person')}})-
               <b>{{selecter_buyer?.user?.legal_entity_id ? selecter_buyer?.user?.legal_entity?.comm_name :
                  selecter_buyer?.user?.name}}</b>
            </p>

            <div class="cust-tabs">
               <div class="row flex-wrap-reverse">
                  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                     <ul class="nav nav-tabs">
                        <li class="nav-item">
                           <a [ngClass]="{'active':seller_type == 1}"
                              (click)="getAllSellers('', keyword, '', user_type, 1)"
                              class="nav-link cursor-pointer">Person</a>
                        </li>
                        <li class="nav-item">
                           <a [ngClass]="{'active':seller_type == 2}"
                              (click)="getAllSellers('', keyword, '', user_type, 2)"
                              class="nav-link cursor-pointer">Legal Entity</a>
                        </li>
                        <li class="nav-item">
                           <a [ngClass]="{'active':seller_type == 3}"
                              (click)="getAllSellers('', keyword, '', user_type, 3)"
                              class="nav-link cursor-pointer">Developer</a>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>

            <div class="spacer40"></div>
            <div class="row">
               <div class="col-md-8 col-6">
                  <input style="max-width:200px" (keyup.enter)="getAllSellers('', keyword, '', user_type, seller_type)"
                     [(ngModel)]="keyword" class="form-control" type="text" name="keyword"
                     placeholder="{{'addForm.placeholder.search' | translate}}">
               </div>
               <div class="col-md-4 col-5 btn-cont">
                  <a class="btn btn-primary pull-right" href="javascript://"
                     (click)="getAllSellers('', keyword, '', user_type, seller_type)">{{'table.th.search' |
                     translate}}</a>
               </div>
            </div>



            <div class="spacer40"></div>
            <div class="modal-table-data" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
               <table class="table">
                  <tr *ngFor="let item of allUsers">
                     <td>
                        <div class="n-avail-profile">
                           <img *ngIf="item?.image" onerror='src="assets/img/default_img.png"' alt="img"
                              [defaultImage]="item?.image| img:'thumb'" [lazyLoad]="item?.image">
                           <img *ngIf="!item?.image" src="assets/img/default_img.png" alt="img">

                           <div class="n-avail-info">
                              <p class="p12" *ngIf="item?.name">{{item?.name}} {{item?.first_surname}}
                                 {{item?.second_surname}}</p>
                              <p class="p12" *ngIf="item?.comm_name">{{item?.comm_name}}</p>
                              <p class="p12" *ngIf="item?.legal_reps && item?.legal_reps?.id">{{item?.legal_reps?.name}}
                              </p>
                              <p class="p10 marginB0">{{'viewProperty.phone' | translate}} : {{item?.dial_code ?
                                 item?.dial_code : constant.dial_code}}-{{item?.phone}}</p>
                              <!-- <p class="p10">{{item?.is_developer==1 ? ('viewProperty.developer' | translate) : ('viewProperty.seller' | translate)}}</p> -->
                           </div>
                        </div>
                     </td>
                     <td *ngIf="user_type=='seller'">
                        <button
                           *ngIf="seller_type==2 ? parameter.seller_id!=item?.legal_reps?.id : parameter.seller_id!=item?.id"
                           (click)="changeStatusPopUp(parameter.property_id, 
                                                      (seller_type==2 ? item.legal_reps.id : item.id), 
                                                      (seller_type==2 ? item.comm_name : item.name), 
                                                      1, 'link')" class="action-icon"
                           title="{{'table.title.acceptRequest' | translate}}">
                           <img src="assets/img/green-icon.png" alt="img"></button>
                        <button
                           *ngIf="seller_type==2 ? parameter.seller_id==item?.legal_reps?.id : parameter.seller_id==item.id"
                           (click)="changeStatusPopUp(parameter.property_id, 
                              (seller_type==2 ? item.legal_reps.id : item.id), 
                              (seller_type==2 ? item.comm_name : item.name), 
                              2, 'request')" class="action-icon" title="{{'table.title.rejectRequest' | translate}}">
                           <!-- (click)="showRejectSellerRequestModal(parameter.property_id, item.id, 2)"  -->
                           <img src="assets/img/ic_disapprove.png" alt="img">
                        </button>
                     </td>
                     <td *ngIf="user_type=='buyer'">
                        <button
                           *ngIf="seller_type==2 ? parameter.buyer_id!=item?.legal_reps?.id : parameter.buyer_id!=item?.id"
                           (click)="changeStatusPopUp(parameter.property_id, 
                                                      (seller_type==2 ? item.legal_reps.id : item.id), 
                                                      (seller_type==2 ? item.comm_name : item.name), 
                                                      1, 'link')" class="action-icon"
                           title="{{'table.title.acceptRequest' | translate}}">
                           <img src="assets/img/green-icon.png" alt="img"></button>
                        <button
                           *ngIf="seller_type==2 ? parameter.buyer_id==item?.legal_reps?.id : parameter.buyer_id==item.id"
                           (click)="changeStatusPopUp(parameter.property_id, 
                                                      (seller_type==2 ? item.legal_reps.id : item.id), 
                                                      (seller_type==2 ? item.comm_name : item.name), 
                                                      2, 'request')" class="action-icon"
                           title="{{'table.title.rejectRequest' | translate}}">
                           <!-- (click)="showRejectSellerRequestModal(parameter.property_id, item.id, 2)"  -->
                           <img src="assets/img/ic_disapprove.png" alt="img">
                        </button>
                     </td>
                  </tr>
                  <tr *ngIf="allUsers?.length==0">
                     <p class="show-not-found">
                        {{'viewProperty.noSellerFound' | translate}}
                     </p>
                  </tr>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>


<!-- Link Seller -->
<a data-toggle="modal" data-target="#link-seller-model" #linkSellerModal></a>
<div class="modal" id="link-seller-model">
   <div class="modal-dialog ">
      <div class="modal-content notary-avail">
         <div class="modal-header popup-header">
            <h4 class="modal-title">{{'viewProperty.requests' | translate}}</h4>
            <button type="button" class="close" #closeLinkSellerModal data-dismiss="modal">&times;</button>
         </div>
         <div class="modal-body">

            <p class="modal-title" *ngIf="selecter_seller">{{'viewProperty.currentlyLinkedToSeller' | translate}} -
               <b>{{selecter_seller?.user?.name}}</b>
            </p>

            <!-- <div class="row">
                     <input style="max-width:200px" [(ngModel)]="keyword" (input)="showAllSellers()" class="form-control" type="text" name="keyword" placeholder="Search">
               </div> -->
            <div class="spacer40"></div>
            <div class="modal-table-data" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
               <table class="table">
                  <tr *ngFor="let item of allSellers">
                     <td *ngIf="item?.user && item?.user?.is_blocked!=1">
                        <div class="n-avail-profile">
                           <img *ngIf="item?.user?.image" onerror='src="assets/img/default_img.png"' alt="img"
                              [defaultImage]="item?.user?.image| img:'thumb'" [lazyLoad]="item?.user?.image">
                           <img *ngIf="!item?.user?.image" src="assets/img/default_img.png" alt="img">

                           <div class="n-avail-info">
                              <p class="p12">{{item?.user?.name ? item?.user?.name : ('viewProperty.NA' | translate)}}
                              </p>
                              <p class="p10">{{'viewProperty.phone' | translate}} : {{item?.user?.dial_code ?
                                 item?.user?.dial_code : constant.dial_code}}-{{item?.user?.phone}}</p>
                           </div>
                        </div>
                     </td>
                     <td *ngIf="item?.user && item?.user?.is_blocked!=1">
                        <button
                           (click)="changeStatusPopUp(item.property_id, item.user_id, item.user.name, 1, 'request')"
                           class="action-icon" title="{{'table.title.acceptRequest' | translate}}">
                           <img src="assets/img/green-icon.png" alt="img"></button>
                        <button (click)="showRejectSellerRequestModal(item.property_id, item.user_id, 2)"
                           class="action-icon" title="{{'table.title.rejectRequest' | translate}}">
                           <img src="assets/img/ic_disapprove.png" alt="img"></button>
                     </td>
                  </tr>
                  <tr *ngIf="allSellers?.length==0">
                     <p class="show-not-found">
                        {{'viewProperty.noSellerHasRequestedForTheProperty' | translate}}
                     </p>
                  </tr>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>

<!-- Link External Broker -->
<a data-toggle="modal" data-target="#link-broker-model" #linkExtBrokerModal style="display: none;"></a>
<div class="modal" id="link-broker-model">
   <div class="modal-dialog ">
      <div class="modal-content notary-avail">
         <div class="modal-header popup-header">
            <h4 class="modal-title">{{property?.external_broker?.id ? ('viewProperty.changeInHouseAgent' | translate) :
               ('viewProperty.linkInHouseAgent' | translate)}}</h4>
            <button type="button" class="close" #closeExtBrokerModal data-dismiss="modal">&times;</button>
         </div>
         <div class="modal-body">

            <p class="modal-title" *ngIf="property?.external_broker?.id"
               [ngClass]="{'green-color cursor-pointer': property?.external_broker?.name}"
               (click)="agentTab(property?.external_broker, true)">
               {{'viewProperty.currentlyLinkedToAgent' | translate}} -
               <b>{{property?.external_broker?.name}}&nbsp;
                  {{property?.external_broker?.first_surname}}&nbsp;
                  {{property?.external_broker?.second_surname}}</b>
            </p>
            <br />
            <div class="row">
               <div class="col-md-8 col-6">
                  <input style="max-width:200px" (keyup.enter)="getBothBroker('', keyword, true)" [(ngModel)]="keyword"
                     class="form-control" type="text" name="keyword"
                     placeholder="{{'addForm.placeholder.search' | translate}}">
               </div>
               <div class="col-md-4 col-5 btn-cont">
                  <a class="btn btn-primary pull-right" href="javascript://"
                     (click)="getBothBroker('', keyword, true)">{{'viewProperty.search' | translate}}</a>
               </div>
            </div>

            <div class="spacer40"></div>
            <div class="modal-table-data" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
               <table class="table">
                  <tr *ngFor="let item of allExtBrokers">
                     <td>
                        <div class="n-avail-profile">
                           <img *ngIf="item?.image" onerror='src="assets/img/default_img.png"' alt="img"
                              [defaultImage]="item?.image| img:'thumb'" [lazyLoad]="item?.image">
                           <img *ngIf="!item?.image" src="assets/img/default_img.png" alt="img">

                           <div class="n-avail-info">
                              <p class="p12">{{item?.name | titlecase}}</p>
                              <p class="p10 marginB0">{{item?.is_external_agent ? 'OUTSIDE AGENT' : 'IN-HOUSE AGENT'}}
                              </p>
                              <p class="p10">{{'viewProperty.phone' | translate}} : {{item?.dial_code ? item?.dial_code
                                 : constant.dial_code}}-{{item?.phone}}</p>
                           </div>
                        </div>
                     </td>
                     <td>
                        <button *ngIf="property?.external_broker?.id!=item.id"
                           (click)="attachExternalBrokerPopUp(item, 1, true)" class="action-icon"
                           title="{{'table.title.linkAgent' | translate}}">
                           <img src="assets/img/green-icon.png" alt="img"></button>

                        <button *ngIf="property?.external_broker?.id==item.id"
                           (click)="attachExternalBrokerPopUp(item, 2, true)" class="action-icon"
                           title="{{'table.title.unlinkAgent' | translate}}">
                           <img src="assets/img/ic_disapprove.png" alt="img"></button>
                     </td>
                  </tr>
                  <tr *ngIf="allExtBrokers?.length==0">
                     <p class="show-not-found">{{'viewProperty.noExternalAgentFound' | translate}}</p>
                  </tr>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>

<!-- Link Agency -->
<a data-toggle="modal" data-target="#link-agency-model" #openLinkAgencyModal style="display: none;"></a>
<div class="modal" id="link-agency-model">
   <div class="modal-dialog ">
      <div class="modal-content notary-avail">
         <div class="modal-header popup-header">
            <h4 class="modal-title">{{property?.get_agency?.id ? ('viewProperty.changeAgency' | translate) :
               ('viewProperty.linkAgency' | translate)}}</h4>
            <button type="button" class="close" #closeLinkAgencyModal data-dismiss="modal">&times;</button>
         </div>
         <div class="modal-body">

            <p class="modal-title" *ngIf="property?.get_agency?.id"
               [ngClass]="{'green-color cursor-pointer': property?.get_agency?.name}"
               (click)="gotoAgencyTab(property?.get_agency)">
               {{'viewProperty.currentlyLinkedToAgency' | translate}} -
               <b>{{property?.get_agency?.name}}&nbsp;</b>
            </p>
            <br />
            <div class="row">
               <div class="col-md-8 col-6">
                  <input style="max-width:200px" (keyup.enter)="getAgency('', keyword)" [(ngModel)]="keyword"
                     class="form-control" type="text" name="keyword"
                     placeholder="{{'addForm.placeholder.search' | translate}}">
               </div>
               <div class="col-md-4 col-5 btn-cont">
                  <a class="btn btn-primary pull-right" href="javascript://"
                     (click)="getAgency('', keyword)">{{'viewProperty.search' | translate}}</a>
               </div>
            </div>

            <div class="spacer40"></div>
            <div class="modal-table-data" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
               <table class="table">
                  <tr *ngFor="let item of agency_list">
                     <td>
                        <div class="n-avail-profile">
                           <img *ngIf="item?.image" onerror='src="assets/img/default_img.png"' alt="img"
                              [defaultImage]="item?.image| img:'thumb'" [lazyLoad]="item?.image">
                           <img *ngIf="!item?.image" src="assets/img/default_img.png" alt="img">

                           <div class="n-avail-info">
                              <p class="p12">{{item?.name | titlecase}}</p>
                              <!-- <p class="p10 marginB0">{{item?.is_external_agent ? 'OUTSIDE AGENT' : 'IN-HOUSE AGENT'}}
                              </p> -->
                              <p class="p10">{{'viewProperty.phone' | translate}} : {{item?.dial_code ? item?.dial_code
                                 : constant.dial_code}}-{{item?.phone}}</p>
                           </div>
                        </div>
                     </td>
                     <td>
                        <button *ngIf="property?.get_agency?.id!=item.id" (click)="attachAgencyPopUp(item, false)"
                           class="action-icon" title="{{'table.title.linkAgency' | translate}}">
                           <img src="assets/img/green-icon.png" alt="img"></button>

                        <button *ngIf="property?.get_agency?.id==item.id" (click)="attachAgencyPopUp(item, true)"
                           class="action-icon" title="{{'table.title.unlinkAgency' | translate}}">
                           <img src="assets/img/ic_disapprove.png" alt="img"></button>
                     </td>
                  </tr>
                  <tr *ngIf="agency_list?.length==0">
                     <p class="show-not-found">{{'table.th.noAgencyFound' | translate}}</p>
                  </tr>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>



<div class="modal animated" id="addPropertyReason">
   <div class="modal-dialog fadeIndown">
      <div class="modal-content">
         <div class="modal-header modal-header-new">
            <h4 class="modal-title">{{'viewProperty.addReason' | translate}}</h4>
            <button style="display: none;" type="button" class="close" data-dismiss="modal" #modalClose>&times;</button>
            <button type="button" class="close" (click)="closeModal()">&times;</button>
         </div>

         <form class="form-horizontal form-model0P form-model-newP" role="form" ngNativeValidate #addForm="ngForm"
            (ngSubmit)="changeStatus(item, parameter.status); addForm.reset();">
            <div class="modal-body modal-body-new">
               <div class="row">
                  <div class="col-12">
                     <div class="form-group-2">
                        <div class="form-group">
                           <textarea rows="4" required class="form-control note" name="reason"
                              [(ngModel)]="reason"></textarea>
                        </div>
                     </div>
                  </div>
                  <div class="col-12">
                     <div class="btn-cont text-right">
                        <button type="submit" [disabled]="!addForm.valid" class="btn btn-primary">{{'viewProperty.add' |
                           translate}}</button>
                     </div>
                  </div>
               </div>
            </div>
         </form>
      </div>
   </div>
</div>

<a style="display:none;" #rejectModalOpen data-toggle="modal" data-target="#addSellerRejectReason"></a>
<div class="modal animated" id="addSellerRejectReason">
   <div class="modal-dialog fadeIndown">
      <div class="modal-content">
         <div class="modal-header modal-header-new">
            <h4 class="modal-title">{{'viewProperty.addReasonForRejection' | translate}}</h4>
            <button style="display: none;" type="button" class="close" data-dismiss="modal"
               #rejectModalClose>&times;</button>
            <button type="button" class="close" (click)="closeReasonModal()">&times;</button>
         </div>

         <form class="form-horizontal form-model0P form-model-newP" role="form" ngNativeValidate #addForm="ngForm"
            (ngSubmit)="changeStatusSellerSelection(); addForm.reset();">
            <div class="modal-body modal-body-new">
               <div class="row">
                  <div class="col-12">
                     <div class="form-group-2">
                        <div class="form-group">
                           <textarea rows="4" required class="form-control note" name="reason"
                              [(ngModel)]="reason"></textarea>
                        </div>
                     </div>
                  </div>
                  <div class="col-12">
                     <div class="btn-cont text-right">
                        <button type="submit" [disabled]="!addForm.valid" class="btn btn-primary">{{'viewProperty.add' |
                           translate}}</button>
                     </div>
                  </div>
               </div>
            </div>
         </form>
      </div>
   </div>
</div>


<div class="modal animated" id="advancedSearch">
   <div class="modal-dialog fadeIndown">
      <div class="modal-content" style="
     width: 783px;
     border-radius: 5px;
     height: 1296px;">
         <!-- border-top-color: rgb(0, 185, 111); border-top-style: solid;
     border-top-width: thick;
    box-shadow: 0px -2px 0px 7px rgb(105,105,105);width: 783px; -->
         <div class="modal-header modal-header-new" style="background-color: white;">
            <h4 class="modal-title" style="height: 29px;
            width: 241px;
            color: #333;
            font-family: 'sf_ui_textmedium';
            font-size: 24px;
            font-weight: 700;">{{'advanceSearch.advancedSearch' | translate}}</h4>
            <button style="display: none;" type="button" class="close" data-dismiss="modal" #modalClose>&times;</button>
            <button type="button" class="close" (click)="close()">&times;</button>
         </div>

         <form class="form-horizontal form-model0P form-model-newP">
            <h4 class="serch-title">{{'advanceSearch.selectAvailability' | translate}}</h4>
            <div class="row">
               <div class="form-group col-md-12">
                  <label class="cust-radio" *ngFor="let item of property_for">
                     <input name="property_for" type="radio" (click)="toggleOptions(item,property_for)">
                     <span class="checkmark" [ngClass]="{'unActive':!item.is_selected }"> {{language_code == 'en'?
                        item.name_en : item.name_es}}</span>
                  </label>
                  <div class="clearfix"></div>
               </div>
            </div>
            <h4 class="serch-title"> {{'advanceSearch.possessionStatus' | translate}}</h4>
            <div class="row">
               <div class="form-group col-md-12">
                  <label class="cust-radio" *ngFor="let item of possession_status_id">
                     <input name="possession_status_id" type="radio" (click)="toggleOptions(item,possession_status_id)">
                     <span class="checkmark" [ngClass]="{'unActive': !item.is_selected}"> {{language_code == 'en'?
                        item.name_en : item.name_es}}</span>
                  </label>
                  <div class="clearfix"></div>
               </div>
            </div>
            <h4 class="serch-title">{{'advanceSearch.priceRange' | translate}}</h4>
            <div class="form-group-4 marginT20">
               <div class="row">
                  <div class="col-md-4 col-sm-12 col-12">
                     <div class="input-group m-b">
                        <span class="input-group-addon marginR2">{{'advanceSearch.min' | translate}}</span>
                        &nbsp;&nbsp;
                        <input class="form-control" type="text" name="min_price" [(ngModel)]="parameter.min_price"
                           mask="separator.2" thousandSeparator=",">
                     </div>
                  </div>
                  <!-- <div class="col-md-2 col-sm-12 col-12">
                     {{'advanceSearch.max' | translate}}
                   </div> -->
                  <div class="col-md-4 col-sm-12 col-12">
                     <div class="input-group m-b">
                        <span class="input-group-addon marginR2">{{'advanceSearch.max' | translate}}</span>
                        &nbsp;&nbsp;
                        <input class="form-control" type="text" name="max_price" [(ngModel)]="parameter.max_price"
                           mask="separator.2" thousandSeparator=",">
                     </div>
                  </div>
               </div>
            </div>

            <h4 class="serch-title">{{'advanceSearch.carpetArea' | translate}}</h4>
            <div class="form-group-4 marginT20">
               <div class="row">
                  <div class="col-md-4 col-sm-12 col-12">
                     <div class="input-group m-b">
                        <span class="input-group-addon marginR2">{{'advanceSearch.min' | translate}}</span>
                        &nbsp;&nbsp;
                        <input class="form-control" type="text" name="min_carpet_area"
                           [(ngModel)]="parameter.min_carpet_area" mask="separator.2" thousandSeparator=",">
                     </div>
                  </div>
                  <!-- <div class="col-md-2 col-sm-12 col-12">
                       {{'commonBlock.to' | translate}}
                   </div> -->
                  <div class="col-md-4 col-sm-12 col-12">
                     <div class="input-group m-b">
                        <span class="input-group-addon marginR2">{{'advanceSearch.max' | translate}}</span>
                        &nbsp;&nbsp;
                        <input class="form-control" type="text" name="max_carpet_area"
                           [(ngModel)]="parameter.max_carpet_area" mask="separator.2" thousandSeparator=",">
                     </div>
                  </div>
               </div>
            </div>

            <!-- PropertyType -->
            <h4 class="serch-title">{{'advanceSearch.PropertyType' | translate}}</h4>
            <div class="row">
               <div class="form-group-3 col-md-12">
                  <div class="clearfix"></div>
                  <label class="cust-radio" *ngFor="let item of propertyTypes;">
                     <input name="property_id" type="checkbox" (click)="item.is_selected = !item.is_selected">
                     <span class="checkmark" [ngClass]="{'unActive': !item.is_selected}">{{item?.name_en}}</span>
                  </label>
                  <div class="clearfix"></div>
               </div>
            </div>
            <!-- ParkingDetails -->
            <h4 class="serch-title">{{'advanceSearch.ParkingDetails' | translate}}</h4>
            <div class="row">
               <div class="form-group col-md-1">
                  <p class="parking" style="
                  height: 17px;
                  width: 58px;
                  color: #333;
                  font-family: 'sf_ui_textlight';
                  font-size: 14px;
                  font-weight: 300;
                  line-height: 17px;margin-top: 7px;">
                     {{'advanceSearch.ParkingAvailable' | translate}}
                  </p>
               </div>
               <div class="form-group col-md-5">
                  <label class="switch">
                     <input type="checkbox" [(ngModel)]="parameter.parking" name="parking">
                     <span class="slider round"></span>
                  </label>
               </div>
               <div class="form-group col-md-1">
                  <p class="parking" style="
                  height: 17px;
                  width: 58px;
                  color: #333;
                  font-family: 'sf_ui_textlight';
                  font-size: 14px;
                  font-weight: 300;
                  line-height: 17px;margin-top: 7px;">
                     {{'advanceSearch.ParkingForSale' | translate}}
                  </p>
               </div>
               <div class="form-group col-md-5">
                  <label class="switch">
                     <input type="checkbox" [(ngModel)]="parameter.parking_for_sale" name="parking_for_sale" checked>
                     <span class="slider round"></span>
                  </label>
               </div>
               <!-- <div class="form-group col-md-4" *ngIf="parameter.parking == 1">
                  {{'advanceSearch.ParkingPlace' | translate}}
                  <input class="form-control" type="number" [(ngModel)]="parameter.parking_place" min="0"
                     name="parking_place">
               </div> -->

            </div>
            <!-- configuration -->
            <h4 class="serch-title">{{'advanceSearch.configuration' | translate}}</h4>
            <div class="row">
               <h4 class="configuration-title">{{'advanceSearch.Bedrooms' | translate}}</h4>
               <div class="form-group col-md-12">
                  <label class="circle-radio" *ngFor="let item of bedrooms;">
                     <input name="bedroom" type="checkbox" (click)="item.is_selected = !item.is_selected">
                     <span class="checkmark" [ngClass]="{'unActive': !item.is_selected}">{{item?.name}}</span>
                  </label>
                  <div class="clearfix"></div>
               </div>

               <h4 class="configuration-title">{{'advanceSearch.Bathrooms' | translate}}</h4>
               <div class="form-group col-md-12">
                  <label class="circle-radio" *ngFor="let item of bathrooms;">
                     <input name="bathroom" type="checkbox" (click)="item.is_selected = !item.is_selected">
                     <span class="checkmark" [ngClass]="{'unActive': !item.is_selected}">{{item?.name}}</span>
                  </label>
               </div>
               <h4 class="configuration-title"> {{'advanceSearch.HalfBathrooms' | translate}}</h4>
               <div class="form-group col-md-12">
                  <label class="circle-radio" *ngFor="let item of halfBathrooms;">
                     <input name="half_bathroom" type="checkbox" (click)="item.is_selected = !item.is_selected">
                     <span class="checkmark" [ngClass]="{'unActive': !item.is_selected}">{{item?.name}}</span>
                  </label>
               </div>
            </div>
            <!-- Amenities -->
            <!-- <h4 style="color: rgb(48, 46, 46); font-size: 18px;">{{'advanceSearch.Amenities' | translate}}</h4> -->
            <div class="row">
               <div class="form-group col-md-6">
                  <h4 class="serch1-title">{{'advanceSearch.AmenitiesProp' | translate}}</h4>
                  <ng-multiselect-dropdown class="col-3 section-section2 multi-select" [placeholder]="''"
                     name="selctedAmenities" [data]="amenities" [(ngModel)]="selctedAmenities"
                     [settings]="multiDropdownSettings" (onDeSelect)="unsetProject($event)"
                     (onSelect)="onItemSelect('selctedAmenities', $event)" (onSelectAll)="onSelectAll($event)">
                  </ng-multiselect-dropdown>
                  <div class="clearfix"></div>
               </div>
            </div>
            <div class="row">
               <div class="form-group col-md-6">
                  <h4 class="serch1-title">{{'advanceSearch.AmenitiesProj' | translate}} </h4>
                  <ng-multiselect-dropdown class="col-3 section-section2 multi-select" [placeholder]="''"
                     name="selctedProjectAmenities" [data]="projectAmenities" [(ngModel)]="selctedProjectAmenities"
                     [settings]="multiDropdownSettings" (onDeSelect)="unsetProjectAmne($event)"
                     (onSelect)="onItemSelect('selctedProjectAmenities', $event)" (onSelectAll)="onSelectAll($event)">
                  </ng-multiselect-dropdown>
               </div>
            </div>
            <div class="row">
               <div class="form-group col-md-4" style="text-align: left;">
                  <button type="submit" class="btn btn-success" (click)="searchProperties()" style="
                  border-left-color: rgb(0, 185, 111);
                  border-right-color: rgb(0, 185, 111);color: #fff;
                  border-color: #28a745;
                  height: 40px;
                  width: 180px;
                  border-radius: 2px;
                  background-color: #00B96F;">
                     {{'advanceSearch.search' | translate}}
                  </button>
               </div>
               <div class="form-group col-md-4" style="text-align: center;">
                  <button type="button" class="btn btn-danger" (click)="close()" style="height: 40px;
                  width: 180px;
                  border-radius: 2px;
                  background-color: #DC3545;">
                     {{'advanceSearch.cancel' | translate}}
                  </button>
               </div>
               <div class="form-group col-md-4" style="text-align: right;">
                  <button type="button" class="btn btn-danger" (click)="clearData()" style="background-color: white;
                  color: rgb(0, 185, 111);
                  box-sizing: border-box;
                  height: 40px;
                  width: 180px;
                  border-radius: 2px;
                  border: 1px solid #00B96F;">{{'advanceSearch.clearData' | translate}}</button>
               </div>
            </div>
         </form>
      </div>
   </div>
</div>

<!-- publish popup -->
<a style="display:none;" #openpusblishModal data-toggle="modal" data-target="#openpusblishModal"></a>
<div class="modal animated" id="openpusblishModal">
   <div class="modal-dialog fadeIndownpublish">
      <div class="modal-content">
         <div class="modal-header modal-header-new">
            <button style="display: none;" type="button" class="close" data-dismiss="modal"
               #closepusblish>&times;</button>
            <button type="button" class="close" (click)="this.closeModalPusblish()">&times;</button>
         </div>
         <form autocomplete="off" class="form-horizontal form-model0P form-model-newP" style="padding: 13px 13px;">
            <div class="modal-body modal-body-new" *ngIf="propertyItems?.is_published == 0">
                  <img src="assets/img/warning.png" alt="img" class="img-publish">

               <h5 style="    
               height: 36px;
               color: #333;
               font-family: 'sf_ui_textmedium';
               font-size: 30px;
               font-weight: 500;
               line-height: 36px;
               text-align: center;">{{'swal.warnings' | translate}}</h5>
               <div class="row">
                  <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <p style="text-align: center;
                        height: 42px;
                        width: 277px;
                        color: #4F4F4F;
                        font-family: 'sf_ui_textregular';
                        font-size: 18px;
                        line-height: 21px;">
                        {{'generatePDF.pub_prop' | translate}}
                        <b style="font-family: 'sf_ui_textbold';font-weight: bold;">{{'generatePDF.pub_prop1' | translate}}</b>
                        {{'generatePDF.pub_prop2' | translate}}
                     </p>
                     </div>
                  </div>
               </div>
               <div class="row line">
                  <div class="col-lg-1 col-md-2 col-sm-2 col-12">
                     <a href="javascript://" *ngIf="propertyItems?.for_sale == 0">
                        <img src="assets/img/tick.png" alt="img">
                     </a>

                     <a href="javascript://" *ngIf="propertyItems?.for_sale == 1">
                        <img src="assets/img/tick-selected.png" alt="img">
                     </a>
                  </div>
                  <div class="col-lg-8 col-md-8 col-sm-8 col-12">
                     <div class="form-group-3">
                        <label style="color: #828282;
                        font-family: 'sf_ui_textlight';
                        font-size: 11px;
                        line-height: 13px;" *ngIf="propertyItems?.for_sale == 0">
                        {{'deshboard.ForSale' | translate}}</label>
                         <label style="color: #00B96F;
                         font-family: 'sf_ui_textlight';
                         font-size: 11px;
                         line-height: 13px;" *ngIf="propertyItems?.for_sale == 1">
                         {{'deshboard.ForSale' | translate}}</label>
                     </div>
                  </div>
               </div>
               <div class="row line">
                  <div class="col-lg-1 col-md-2 col-sm-2 col-12">
                     <a href="javascript://" *ngIf="propertyItems?.is_commercialized == 0">
                        <img src="assets/img/tick.png" alt="img">
                     </a>

                     <a href="javascript://" *ngIf="propertyItems?.is_commercialized == 1">
                        <img src="assets/img/tick-selected.png" alt="img">
                     </a>
                  </div>
                  <div class="col-lg-8 col-md-8 col-sm-8 col-12">
                     <div class="form-group-3">
                        <label style="color: #828282;
                        font-family: 'sf_ui_textlight';
                        font-size: 11px;
                        line-height: 13px;" *ngIf="propertyItems?.is_commercialized == 0">
                        {{'table.title.commercialized' | translate}}</label>
                         <label style="color: #00B96F;
                         font-family: 'sf_ui_textlight';
                         font-size: 11px;
                         line-height: 13px;" *ngIf="propertyItems?.is_commercialized == 1">
                        {{'table.title.commercialized' | translate}}</label>
                     </div>
                  </div>
               </div>
               <div class="row line">
                  <div class="col-lg-1 col-md-2 col-sm-2 col-12">
                     <a href="javascript://" *ngIf="!propertyItems?.city_id">
                        <img src="assets/img/tick.png" alt="img">
                     </a>

                     <a href="javascript://" *ngIf="propertyItems?.city_id">
                        <img src="assets/img/tick-selected.png" alt="img">
                     </a>
                  </div>
                  <div class="col-lg-8 col-md-8 col-sm-8 col-12">
                     <div class="form-group-3">
                        <label style="color: #828282;
                        font-family: 'sf_ui_textlight';
                        font-size: 11px;
                        line-height: 13px;" *ngIf="!propertyItems?.city_id">
                        {{'table.title.city_id' | translate}}</label>
                         <label style="color: #00B96F;
                         font-family: 'sf_ui_textlight';
                         font-size: 11px;
                         line-height: 13px;" *ngIf="propertyItems?.city_id">
                         {{'table.title.city_id' | translate}}</label>
                     </div>
                  </div>
               </div>
               <div class="row line">
                  <div class="col-lg-1 col-md-2 col-sm-2 col-12">
                     <a href="javascript://" *ngIf="propertyItems?.is_blocked == 1">
                        <img src="assets/img/tick.png" alt="img">
                     </a>

                     <a href="javascript://" *ngIf="propertyItems?.is_blocked == 0">
                        <img src="assets/img/tick-selected.png" alt="img">
                     </a>
                  </div>
                  <div class="col-lg-8 col-md-8 col-sm-8 col-12">
                     <div class="form-group-3">
                        <label style="color: #828282;
                        font-family: 'sf_ui_textlight';
                        font-size: 11px;
                        line-height: 13px;" *ngIf="propertyItems?.is_blocked == 1">
                        {{'table.title.unblocked' | translate}}
                     </label>
                         <label style="color: #00B96F;
                         font-family: 'sf_ui_textlight';
                         font-size: 11px;
                         line-height: 13px;" *ngIf="propertyItems?.is_blocked == 0">
                         {{'table.title.unblocked' | translate}}
                        </label>
                     </div>
                  </div>
               </div>
               <div class="row line">
                  <div class="col-lg-1 col-md-2 col-sm-2 col-12">
                     <a href="javascript://" *ngIf="propertyItems?.status != 3">
                        <img src="assets/img/tick.png" alt="img">
                     </a>

                     <a href="javascript://" *ngIf="propertyItems?.status == 3">
                        <img src="assets/img/tick-selected.png" alt="img">
                     </a>
                  </div>
                  <div class="col-lg-8 col-md-8 col-sm-8 col-12">
                     <div class="form-group-3">
                        <label style="color: #828282;
                        font-family: 'sf_ui_textlight';
                        font-size: 11px;
                        line-height: 13px;" *ngIf="propertyItems?.status != 3">
                        {{'table.title.approve' | translate}}</label>
                        <label style="color: #00B96F;
                        font-family: 'sf_ui_textlight';
                        font-size: 11px;
                        line-height: 13px;" *ngIf="propertyItems?.status == 3">
                        {{'table.title.approve' | translate}}</label>
                     </div>
                  </div>
               </div>
               <div class="row line">
                  <div class="col-lg-1 col-md-2 col-sm-2 col-12">
                     <a href="javascript://">
                        <img src="assets/img/tick.png" alt="img"
                        *ngIf="propertyItems?.external_broker == null && propertyItems?.external_outside_agent == null
                        && propertyItems?.get_agency == null && propertyItems?.selected_seller == null">
                     </a>

                     <a href="javascript://" 
                     *ngIf="propertyItems?.selected_seller && propertyItems?.external_broker 
                     && propertyItems?.external_outside_agent && propertyItems?.get_agency">
                        <img src="assets/img/tick-selected.png" alt="img">
                     </a>
                  </div>
                  <div class="col-lg-8 col-md-8 col-sm-8 col-12">
                     <div class="form-group-3">
                        <label style="color: #828282;
                        font-family: 'sf_ui_textlight';
                        font-size: 11px;
                        line-height: 13px;" *ngIf="propertyItems?.external_broker == null && propertyItems?.external_outside_agent == null
                        && propertyItems?.get_agency == null && propertyItems?.selected_seller == null">
                        {{'table.title.selected' | translate}}</label>
                        <label style="color: #00B96F;
                        font-family: 'sf_ui_textlight';
                        font-size: 11px;
                        line-height: 13px;" 
                        *ngIf="propertyItems?.selected_seller && propertyItems?.external_broker && propertyItems?.external_outside_agent && propertyItems?.get_agency">
                        {{'table.title.selected' | translate}}</label>
                     </div>
                  </div>
               </div>
               <div class="spacer15"></div>
               <!-- addNote row-->
               <div class="row">
                  <div class="col-lg-4 col-md-5 col-sm-12 col-12" style="margin-left: auto;">
                     <div class="form-group btn-cont">
                        <label style="display: block; margin-top: 3px;">&nbsp;</label>
                        <button type="button" (click)="this.closeModalPusblish()" class="cancel">{{'generatePDF.cancel'
                           | translate}}</button>
                     </div>
                  </div>
                  <div class="col-lg-4 col-md-4 col-sm-12 col-12" style="margin-right: auto;">
                     <div class="form-group btn-cont">
                        <label style="display: block; margin-top: 3px;">&nbsp;</label>
                        <button type="button" class="publish"
                        [disabled]="isApplyBtnClicked" (click)="this.openPublish(propertyItems?.id);">
                           {{'generatePDF.publish' | translate}}</button>
                     </div>
                  </div>
               </div>
            </div>

            <!-- Unactive publish -->
            <div class="modal-body modal-body-new" *ngIf="propertyItems?.is_published == 1">
               <img src="assets/img/warning.png" alt="img" class="img-publish">

            <h5 style="    
            height: 36px;
            color: #333;
            font-family: 'sf_ui_textmedium';
            font-size: 30px;
            font-weight: 500;
            line-height: 36px;
            text-align: center;">{{'swal.warnings' | translate}}</h5>
            <div class="row">
               <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                  <div class="form-group-3">
                     <p style="text-align: center;
                     height: 42px;
                     width: 308px;
                     color: #4F4F4F;
                     font-family: 'sf_ui_textregular';
                     font-size: 18px;
                     line-height: 21px;">
                     {{'generatePDF.Unpublish' | translate}}
                     <b style="font-family: 'sf_ui_textbold';font-weight: bold;">{{'generatePDF.Unpublish1' | translate}}</b>
                     {{'generatePDF.Unpublish2' | translate}}</p>
                  </div>
               </div>
            </div>
            <div class="spacer15"></div>
            <!-- addNote row-->
            <div class="row">
               <div class="col-lg-4 col-md-5 col-sm-12 col-12" style="margin-left: auto;">
                  <div class="form-group btn-cont">
                     <label style="display: block; margin-top: 3px;">&nbsp;</label>
                     <button type="button" (click)="this.closeModalPusblish()" class="cancel">{{'generatePDF.cancel'
                        | translate}}</button>
                  </div>
               </div>
               <div class="col-lg-4 col-md-4 col-sm-12 col-12" style="margin-right: auto;">
                  <div class="form-group btn-cont">
                     <label style="display: block; margin-top: 3px;">&nbsp;</label>
                     <button type="button" class="publish"
                     [disabled]="isApplyBtnClicked" (click)="this.openPublish(propertyItems?.id);">
                        {{'generatePDF.un_publish' | translate}}</button>
                  </div>
               </div>
            </div>
         </div>
         </form>
      </div>
   </div>
</div>

<a style="display:none;" #openInstallmentModal data-toggle="modal" data-target="#installmentModal"></a>
<div class="modal animated" id="installmentModal">
   <div class="modal-dialog fadeIndown">
      <div class="modal-content">
         <div class="modal-header modal-header-new">
            <h4 class="modal-title" style="font-weight: bold;">{{'generatePDF.offerInformaton' | translate}}</h4>
            <br>
            <button style="display: none;" type="button" class="close" data-dismiss="modal"
               #closeInstallmentModal>&times;</button>
            <button type="button" class="close" (click)="this.closeModalInstallment()">&times;</button>
         </div>
         <!-- role="form" ngNativeValidate #addForm="ngForm" -->
         <form autocomplete="off" class="form-horizontal form-model0P form-model-newP"
            [formGroup]="this.installmentFormGroup">
            <div class="modal-body modal-body-new">
               <label>{{'generatePDF.offerDetails' | translate}}</label>
               <div class="spacer15"></div>
               <!-- List and final price fields -->
               <div class="row">
                  <div class="col-lg-4 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'generatePDF.listprice' | translate}}</label>
                        <input autocomplete="off" type="text" class="form-control" placeholder="$"
                           formControlName="listPrice" />
                     </div>
                  </div>
                  <div class="col-lg-4 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'generatePDF.finalprice' | translate}}</label>
                        <input autocomplete="off" type="text" class="form-control" placeholder="$"
                           formControlName="finalPrice" />
                     </div>
                  </div>
                  <div class="col-lg-4 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                     </div>
                  </div>
               </div>
               <div class="spacer15" *ngIf="!this.installmentFormGroup.get('isAddParkingLotForSale').value"></div>
               <!-- parking lot for sale button-->
               <div class="row" *ngIf="!this.installmentFormGroup.get('isAddParkingLotForSale').value">
                  <div class="col-12">
                     <div class="btn-cont">
                        <span><a class="add" href="javascript://"
                              (click)="this.markIsParkingLotForSale(true,$event)">{{'addForm.addParking' |
                              translate}}</a></span>
                     </div>
                  </div>
               </div>
               <div class="spacer15"></div>
               <!-- parking lot for sale row-->
               <div class="row" *ngIf="this.installmentFormGroup.get('isAddParkingLotForSale').value">
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'addForm.noparking' | translate}} <span class="color-red">*</span></label>
                        <input autocomplete="off" type="text" class="form-control" placeholder=""
                           formControlName="parkingLotsNumber" appOnlyNumber />
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'addForm.Type' | translate}} <span class="color-red">*</span></label>
                        <!-- <input autocomplete="off" type="text" class="form-control" placeholder="$"/> -->
                        <select title="Select Type" class="form-control" formControlName="parkingLotsType">
                           <option value="" disabled>Select Type</option>
                           <!-- <option value="" disabled>{{'addForm.selectParkingType' | translate}}</option> -->
                           <option *ngFor="let item of parkingSpaceLotsArray" [value]="item.id"
                              [disabled]="checkAlreadySelected(item.id)">
                              {{ this.language_code == 'en' ? item.name_en : item.name_es }}
                           </option>
                        </select>
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'addForm.Price(each)' | translate}} <span class="color-red">*</span></label>
                        <input autocomplete="off" type="text" class="form-control" placeholder="$100,000.00"
                           formControlName="parkingLotsPrice" mask="separator.2" thousandSeparator="," />
                     </div>
                  </div>
                  <div class="col-lg-1 col-md-12 col-sm-12 col-12">
                     <label style="color: white;">{{'addForm.Price(each)' | translate}}</label>
                     <span><a class="add" href="javascript://"
                           (click)="this.addNewParkingLotForSale($event)">{{'addForm.save' | translate}}</a></span>
                  </div>
                  <div class="col-lg-2 col-md-12 col-sm-12 col-12">
                     <label style="color: white;">{{'addForm.Price(each)' | translate}}</label>
                     <span><a class="add" style="color: red;" href="javascript://"
                           (click)="this.markIsParkingLotForSale(false,$event)">{{'addForm.remove' |
                           translate}}</a></span>
                  </div>
               </div>
               <!-- parking list row -->
               <div formArrayName="parkingLotForSaleFormArray" *ngIf="this.getParkingLotForSaleFormArrayLength > 0">
                  <ng-container
                     *ngFor="let temp_parking_lot_for_sale of this.getParkingLotForSaleFormArray['controls']; let i=index">
                     <div [formGroupName]="i">
                        <div class="row">
                           <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                              <div class="form-group-3">
                                 <label>{{'addForm.noparking' | translate}}</label>
                                 <input autocomplete="off" type="text" class="form-control" placeholder=""
                                    formControlName="parkingLotsNumber" />
                              </div>
                           </div>
                           <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                              <div class="form-group-3">
                                 <label>{{'addForm.Type' | translate}}</label>
                                 <select title="Select Type" class="form-control" formControlName="parkingLotsType">
                                    <option value="" disabled>Select Type</option>
                                    <!-- <option value="" disabled>{{'addForm.selectParkingType' | translate}}</option> -->
                                    <option *ngFor="let item of parkingSpaceLotsArray" [value]="item.id">
                                       {{ this.language_code == 'en' ? item.name_en : item.name_es }}
                                    </option>
                                 </select>
                              </div>
                           </div>
                           <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                              <div class="form-group-3">
                                 <label>{{'addForm.Price(each)' | translate}}</label>
                                 <input autocomplete="off" type="text" class="form-control" placeholder="$100,000.00"
                                    formControlName="parkingLotsPrice" mask="separator.2" thousandSeparator="," />
                              </div>
                           </div>
                           <div class="col-lg-1 col-md-12 col-sm-12 col-12">
                              <label style="color: white;">{{'addForm.Price(each)' | translate}}&nbsp;&nbsp;</label>
                              <button class="action-icon" (click)="this.removeParkingLotForSaleFormGroup(i)"
                                 title="{{'addForm.remove' | translate}}"><img src="assets/img/ic_disapprove.png"
                                    alt="img"></button>
                           </div>
                        </div>
                     </div>
                  </ng-container>
               </div>
               <hr>
               <!-- down or discount -->
               <div class="spacer15"></div>
               <div class="row">
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'generatePDF.downPaymentPercentage' | translate}} <span
                              class="color-red">*</span></label>
                        <input autocomplete="off" type="text" class="form-control" placeholder="%"
                           formControlName="downPayment" appOnlyDecimal />
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label style="color: white;">{{'addForm.Type' | translate}}</label>
                        <p style="color: red;font-size: 15px;" *ngIf="isPreview">
                           ${{installmentFormGroup.get("downPaymentFinalPrice").value}}</p>
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'generatePDF.discountPercentage' | translate}}</label>
                        <input autocomplete="off" type="text" class="form-control" placeholder="%"
                           formControlName="discount" appOnlyDecimal />
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <label style="color: white;">{{'addForm.Type' | translate}}</label>
                     <p style="color: red;font-size: 15px;"
                        *ngIf="isPreview && !installmentFormGroup.get('interestFinalPrice').value">
                        ${{installmentFormGroup.get("discountFinalPrice").value}}</p>
                  </div>
               </div>
               <!-- month or interest -->
               <div class="spacer15"></div>
               <div class="row">
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'generatePDF.monthlyInstallmentPercentage' | translate}} <span
                              class="color-red">*</span></label>
                        <input autocomplete="off" type="text" class="form-control" placeholder="%"
                           formControlName="monthlyInstallment" appOnlyDecimal />
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label style="color: white;">{{'addForm.Type' | translate}}</label>
                        <p style="color: red;font-size: 15px;" *ngIf="isPreview">
                           ${{installmentFormGroup.get("monthlyInstallmentFinalPrice").value}}</p>
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'generatePDF.interest' | translate}}</label>
                        <input autocomplete="off" type="text" class="form-control" placeholder="%"
                           formControlName="interest" appOnlyDecimal />
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <label style="color: white;">{{'addForm.Type' | translate}}</label>
                     <p style="color: red;font-size: 15px;"
                        *ngIf="isPreview && installmentFormGroup.get('interestFinalPrice').value">
                        ${{installmentFormGroup.get("interestFinalPrice").value}} </p>
                  </div>
               </div>
               <!-- numberOfMI -->
               <div class="spacer15"></div>
               <div class="row">
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label style="width: 245px;">{{'generatePDF.numberOfMI' | translate}} <span
                              class="color-red">*</span></label>
                        <input autocomplete="off" type="text" class="form-control" maxlength="6" appOnlyNumber
                           placeholder="#" formControlName="numberOfMI" />
                     </div>
                  </div>
                  <!-- <div class="col-lg-3 col-md-12 col-sm-12 col-12">
               <div class="form-group-3">
                  <label style="color: white;">{{'addForm.Type' | translate}}</label>
                 <p style="color: red;font-size: 15px;">$2,102,178.00</p>
               </div>
            </div> -->
               </div>
               <!-- paymentupondeliveryPercentage -->
               <div class="spacer15"></div>
               <div class="row">
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label style="width: 232px;">{{'generatePDF.paymentupondeliveryPercentage' | translate}} <span
                              class="color-red">*</span></label>
                        <input autocomplete="off" type="text" class="form-control" formControlName="paymentupondelivery"
                           placeholder="%" appOnlyDecimal />
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label style="color: white;">{{'addForm.Type' | translate}}</label>
                        <p style="color: red;font-size: 15px;" *ngIf="isPreview">
                           ${{installmentFormGroup.get("paymentupondeliveryFinalPrice").value}}</p>
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group btn-cont">
                        <label style="display: block; margin-top: 3px;">&nbsp;</label>
                        <button type="button" class="btn  width100P P86 btn-primary-new"
                           (click)="this.onClickPreview(true)">
                           {{'generatePDF.preview' | translate}}</button>
                     </div>
                  </div>
               </div>
               <!-- add variable button-->
               <div class="spacer15" *ngIf="!this.installmentFormGroup.get('isAddVariables').value"></div>
               <div class="row" *ngIf="!this.installmentFormGroup.get('isAddVariables').value">
                  <div class="col-12">
                     <div class="btn-cont">
                        <span><a class="add" href="javascript://"
                              (click)="this.markIsAddVariables(true,$event)">{{'generatePDF.addNewVariablePlus' |
                              translate}}</a></span>
                     </div>
                  </div>
               </div>
               <div class="spacer15"></div>
               <!-- add variable row-->
               <div class="row" *ngIf="this.installmentFormGroup.get('isAddVariables').value">
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'generatePDF.variableName' | translate}} <span class="color-red">*</span></label>
                        <input autocomplete="off" type="text" class="form-control" placeholder=""
                           formControlName="tempAddVariablesText" />
                     </div>
                  </div>
                  <div class="col-lg-3 col-md-12 col-sm-12 col-12">
                     <div class="form-group-3">
                        <label>{{'generatePDF.variablePercentage' | translate}} <span class="color-red">*</span></label>
                        <input autocomplete="off" type="text" class="form-control" placeholder="%"
                           formControlName="tempAddVariablesPercentage" appOnlyDecimal />
                     </div>
                  </div>
                  <div class="col-lg-1 col-md-12 col-sm-12 col-12">
                     <label style="color: white;">{{'addForm.Price(each)' | translate}}</label>
                     <span><a class="add" href="javascript://"
                           (click)="this.addNewAddVariables($event)">{{'addForm.save' | translate}}</a></span>
                  </div>
                  <div class="col-lg-2 col-md-12 col-sm-12 col-12">
                     <label style="color: white;">{{'addForm.Price(each)' | translate}}</label>
                     <span><a class="add" style="color: red;" href="javascript://"
                           (click)="this.markIsAddVariables(false,$event)">{{'addForm.remove' | translate}}</a></span>
                  </div>
               </div>
               <!-- listing of add variable -->
               <div formArrayName="addVariablesFormArray" *ngIf="this.getAddVariablesFormArrayLength > 0">
                  <ng-container
                     *ngFor="let temp_add_variables of this.getAddVariablesFormArray['controls']; let i=index">
                     <div [formGroupName]="i">
                        <div class="row" style="margin: auto;">
                           <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                              <div class="form-group-2">
                                 <label>{{'generatePDF.variableName' | translate}}
                                 </label>
                              </div>
                           </div>
                           <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                              <div class="form-group-2">
                                 <label>{{'generatePDF.variablePercentage' | translate}}
                                 </label>
                              </div>
                           </div>
                        </div>
                        <div class="row" style="margin-top: -15px;margin-left: auto;">
                           <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                              <div class="form-group-3">
                                 <input required autocomplete="off" class="form-control" type="text"
                                    formControlName="addVariablesText" placeholder="">
                              </div>
                           </div>
                           <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                              <div class="form-group-3">
                                 <input required autocomplete="off" class="form-control" type="text"
                                    formControlName="addVariablesPercentage" placeholder="%">
                              </div>
                           </div>
                           <div class="col-lg-3 col-md-12 col-sm-12 col-12" *ngIf="isPreview">
                              <div class="form-group-3">
                                 <p style="color: red;font-size: 15px;">
                                    ${{this.getAddVariablesFormArray['controls'][i].get("addVariablesPercentageFinalPrice").value}}
                                 </p>
                              </div>
                           </div>
                           <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                              <div style="padding: 5px;">
                                 <button (click)="this.removeAddVariablesFormGroup(i);" class="action-icon"
                                    title="{{'addForm.remove' | translate}}"><img src="assets/img/ic_disapprove.png"
                                       alt="img"></button>
                              </div>
                           </div>
                        </div>
                     </div>
                  </ng-container>
               </div>
               <!-- leadName -->
               <div class="spacer15"></div>
               <div class="row">
                  <div class="col-lg-6 col-md-12 col-sm-12 col-12">
                     <label style="width: 232px;">{{'generatePDF.leadName' | translate}} <span
                           class="color-red">*</span></label>
                     <input autocomplete="off" type="text" class="form-control" placeholder=""
                        formControlName="leadName" />
                  </div>
               </div>
               <!-- bankDetails -->
               <div class="spacer20"></div>
               <label>{{'generatePDF.bankDetails' | translate}}</label>
               <div class="row" style="margin: auto;">
                  <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                     <div style="margin: 5px;">
                        <span style="font-weight: 600;">{{'generatePDF.agency' | translate}}</span>
                     </div>
                  </div>
                  <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                     <div class="form-group-3">
                        <label class="switch1">
                           <input type="checkbox" class="form-control" formControlName="agencyOrSeller"
                              (change)="this.onAgencyOrSellerChange()">
                           <span class="slider round" style="background-color: #00B96F;"></span>
                        </label>
                     </div>
                  </div>
                  <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                     <div style="margin: 5px;">
                        <span style="font-weight: 600;">{{'generatePDF.seller' | translate}}</span>
                     </div>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                     <div class="form-group-3">
                        <div class="form-group">
                           <select name="payment_bank" class="form-control" formControlName="paymentBankDetails">
                              <option value="">{{'generatePDF.selectAccount' | translate}}</option>
                              <option *ngFor="let tempPaymentBankDetailsArray of paymentBankDetailsArray"
                                 [ngValue]="tempPaymentBankDetailsArray">
                                 {{tempPaymentBankDetailsArray?.name}} |
                                 {{tempPaymentBankDetailsArray?.account_number}} |
                                 {{tempPaymentBankDetailsArray?.currency?.code}}</option>
                           </select>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- addNote -->
               <div class="spacer15" *ngIf="this.getAddNoteFormArrayLength == 0"></div>
               <div class="row" *ngIf="this.getAddNoteFormArrayLength == 0">
                  <div class="col-12">
                     <div class="btn-cont">
                        <span><a class="add" href="javascript://"
                              (click)="this.addNotes($event)">{{'generatePDF.addNotePlus' | translate}}</a></span>
                     </div>
                  </div>
               </div>
               <div class="spacer15"></div>
               <!-- addNote row-->
               <!-- <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-12">
               <div class="form-group-3">
                  <label>{{'generatePDF.note' | translate}}
                  </label>
                  <textarea rows="2" required class="form-control" 
                  placeholder="This offer value is for our best friend"></textarea>
               </div>
            </div>
         </div> -->
               <div formArrayName="addNoteFormArray" *ngIf="this.getAddNoteFormArrayLength > 0">
                  <ng-container *ngFor="let temp_add_note of this.getAddNoteFormArray['controls']; let j=index">
                     <div [formGroupName]="j">
                        <div class="row">
                           <div class="col-lg-12 col-md-6 col-sm-6 col-12">
                              <div class="form-group-3">
                                 <label>{{'generatePDF.note' | translate}}
                                 </label>
                                 <textarea rows="3" type="text" class="form-control note"
                                    formControlName="addNote"></textarea>
                              </div>
                           </div>
                        </div>
                     </div>
                  </ng-container>
               </div>
               <div class="spacer15"></div>
               <!-- addNote row-->
               <div class="row">
                  <div class="col-lg-4 col-md-5 col-sm-12 col-12" style="margin-left: auto;">
                     <div class="form-group btn-cont">
                        <label style="display: block; margin-top: 3px;">&nbsp;</label>
                        <button type="button" (click)="this.checkIsGeneratePDF()"
                           class="btn btn-primary-new width100P P86" style="height: 42px;">{{'generatePDF.generateOffer'
                           | translate}}</button>
                     </div>
                  </div>
                  <div class="col-lg-4 col-md-4 col-sm-12 col-12" style="margin-right: auto;">
                     <div class="form-group btn-cont">
                        <label style="display: block; margin-top: 3px;">&nbsp;</label>
                        <button type="button" class="btn  width100P P86 btn-danger"
                           (click)="this.closeModalInstallment()">
                           {{'advanceSearch.cancel' | translate}}</button>
                     </div>
                  </div>
               </div>
            </div>
         </form>
      </div>
   </div>
</div>

<!-- Commercial offers popup -->
<a href="javascript://" data-toggle="modal" data-target="#addd-notes" #notesadddModalOpen></a>
<div class="modal animated" id="addd-notes">
   <div class="modal-dialogg fadeIndown">
      <div class="modal-content">
         <div class="modal-header modal-header-new">
            <!-- <h4 class="modal-title">{{'leadDetails.note.addNote' |translate}}</h4> -->
            <button style="display: none;" type="button" class="close" data-dismiss="modal"
               #notesadddModalClose>&times;</button>
            <button type="button" class="close" (click)="this.closeNotesadddModalModal()">&times;</button>
         </div>
         <div class="modal-body">
            <div class="row" style="margin: 2px;">
               <div class="col-md-6">
                  <h6>{{'table.th.Commercialofferslist' | translate}}</h6>
               </div>
               <div class="col-md-6">
                  <div class="text-right">
                     <b style="color: #00B96F;font-size: 15px;">{{property_offers.length}}</b>
                  </div>
               </div>
            </div>
            <div class="spacer40"></div>
            <div class="row" style="margin: 2px;">
               <div class="col-md-3">
                  <h6>{{'table.th.offerID' | translate}}</h6>
               </div>
               <div class="col-md-3">
                  <h6>{{'table.th.agent' | translate}}</h6>
               </div>
               <div class="col-md-6">
                  <h6>{{'table.th.date' | translate}}</h6>
               </div>
            </div>

            <div class="modal-table-data" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
               <table class="table table-striped table-align-left quick-table">
                  <!-- <thead id="myHeader">
                     <tr>
                       <th>{{'table.th.offerID' | translate}}</th>
                       <th>{{'table.th.agent' | translate}}</th> 
                       <th>{{'table.th.date' | translate}}</th>
                       <th></th>
                     </tr>
                  </thead> -->
                  <tbody class="content">
                     <tr *ngFor="let offer of property_offers">
                        <td>
                           <a class="add1" href="javascript://" (click)="offerID(offer)" style="color: #00B96F;">
                              {{offer.random_id}}
                           </a>
                        </td>
                        <td>{{offer.name ? offer.name : ('viewProperty.NA' | translate)}}</td>
                        <td>{{offer.date | date }}</td>
                        <td> <button (click)="deletePopup(p, i);" class="action-icon"
                              title="{{'table.title.delete' | translate}}"><img src="assets/img/ic_delete.png" alt="img"
                                 (click)="deleteOffer(offer)"></button></td>
                     </tr>
                  </tbody>
               </table>
            </div><br>
            <div class="row">
               <div class="col-md-12">
                  <p style="font-weight: bold;">{{'table.th.30days' | translate}}</p>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>

<!-- select columns -->
<a data-toggle="modal" data-target="#link-select-columns-model" #openSelectColumnsModal style="display: none;"></a>
<div class="modal" id="link-select-columns-model">
   <div class="modal-dialog" style="width: max-content;">
      <div class="modal-content notary-avail">
         <div class="modal-header popup-header">
            <h4 class="modal-title">{{'table.title.columnsSelection' | translate}}</h4>
            <button type="button" class="close" #closeSelectColumnsModal data-dismiss="modal">&times;</button>
         </div>
         <div class="modal-body">
            <p class="modal-title">{{'table.title.selectTheColumnYouWantToVisualize' | translate}}</p>
            <br />
            <div class="row">
               <div class="col-md-8 col-6">
                  <label class="p16-two">
                     <input class="form-control" class="is_commission_sale_enabled" type="checkbox" name="SelectAll"
                        (change)="changeSelectAll()" [(ngModel)]="isSelectAllColumns">
                     <span style="margin-left: 10px; vertical-align: super;">{{'commonBlock.selectAll' |
                        translate}}</span>
                  </label>
               </div>
               <div class="col-md-4 col-6 btn-cont">
                  <a class="btn btn-primary pull-right" href="javascript://"
                     (click)="applyShowSelectedColumns()">{{'filters.location.applyBtn' | translate}}</a>
               </div>
            </div>
            <div class="spacer40"></div>
            <div class="row">
               <div class="col-md-8 col-6">
                  <input style="max-width:200px" (keyup.enter)="getPropertySelection(false, keyword)"
                     [(ngModel)]="keyword" class="form-control" type="text" name="keyword"
                     placeholder="{{'addForm.placeholder.search' | translate}}">
               </div>
               <div class="col-md-4 col-5 btn-cont">
                  <a class="btn btn-primary pull-right" href="javascript://"
                     (click)="getPropertySelection(false, keyword)">{{'viewProperty.search' | translate}}</a>
               </div>
            </div>

            <div class="spacer40"></div>
            <div class="modal-table-data" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
               <table class="table">
                  <tr *ngFor="let item of select_columns_list; let ii=index">
                     <td>
                        <div class="row">
                           <div class="col-md-8 col-6">
                              <label class="p16-two">
                                 <input class="form-control" class="is_commission_sale_enabled" type="checkbox"
                                    name="checkbox{{ii}}" [(ngModel)]="item.isCheckBoxChecked"
                                    (change)="changeSelect()">
                                 <span style="margin-left: 10px; vertical-align: super;">
                                    {{this.language_code == 'en' ? item.name_en : item.name_es }}
                                 </span>
                              </label>
                           </div>
                        </div>
                     </td>
                  </tr>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>

<!-- OutSide Agent-->
<a data-toggle="modal" data-target="#link-outside-model" #linkOutsideBrokerModal style="display: none;"></a>
<div class="modal" id="link-outside-model">
   <div class="modal-dialog ">
      <div class="modal-content notary-avail">
         <div class="modal-header popup-header">
            <h4 class="modal-title">{{property?.external_outside_agent?.id ? ('viewProperty.changeOutsideAgent' |
               translate) :
               ('viewProperty.linkOutsideAgent' | translate)}}</h4>
            <button type="button" class="close" #closeOutsideBrokerModal data-dismiss="modal">&times;</button>
         </div>
         <div class="modal-body">

            <p class="modal-title" *ngIf="property?.external_outside_agent?.id"
               [ngClass]="{'green-color cursor-pointer': property?.external_outside_agent?.name}"
               (click)="agentTab(property?.external_outside_agent, false)">
               {{'viewProperty.currentlyLinkedToAgent' | translate}} -
               <b>{{property?.external_outside_agent?.name}}&nbsp;
                  {{property?.external_outside_agent?.first_surname}}&nbsp;
                  {{property?.external_outside_agent?.second_surname}}</b>
            </p>
            <br />
            <div class="row">
               <div class="col-md-8 col-6">
                  <input style="max-width:200px" (keyup.enter)="getBothBroker('', keyword, false)" [(ngModel)]="keyword"
                     class="form-control" type="text" name="keyword"
                     placeholder="{{'addForm.placeholder.search' | translate}}">
               </div>
               <div class="col-md-4 col-5 btn-cont">
                  <a class="btn btn-primary pull-right" href="javascript://"
                     (click)="getBothBroker('', keyword, false)">{{'viewProperty.search' | translate}}</a>
               </div>
            </div>

            <div class="spacer40"></div>
            <div class="modal-table-data" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
               <table class="table">
                  <tr *ngFor="let item of allExtBrokers">
                     <td>
                        <div class="n-avail-profile">
                           <img *ngIf="item?.image" onerror='src="assets/img/default_img.png"' alt="img"
                              [defaultImage]="item?.image| img:'thumb'" [lazyLoad]="item?.image">
                           <img *ngIf="!item?.image" src="assets/img/default_img.png" alt="img">

                           <div class="n-avail-info">
                              <p class="p12">{{item?.name | titlecase}}</p>
                              <p class="p10 marginB0">{{item?.is_external_agent ? 'OUTSIDE AGENT' : 'IN-HOUSE AGENT'}}
                              </p>
                              <p class="p10">{{'viewProperty.phone' | translate}} : {{item?.dial_code ? item?.dial_code
                                 : constant.dial_code}}-{{item?.phone}}</p>
                           </div>
                        </div>
                     </td>
                     <td>
                        <button *ngIf="property?.external_outside_agent?.id!=item.id"
                           (click)="attachExternalBrokerPopUp(item, 1, false)" class="action-icon"
                           title="{{'table.title.linkAgent' | translate}}">
                           <img src="assets/img/green-icon.png" alt="img"></button>

                        <button *ngIf="property?.external_outside_agent?.id==item.id"
                           (click)="attachExternalBrokerPopUp(item, 2, false)" class="action-icon"
                           title="{{'table.title.unlinkAgent' | translate}}">
                           <img src="assets/img/ic_disapprove.png" alt="img"></button>
                     </td>
                  </tr>
                  <tr *ngIf="allExtBrokers?.length==0">
                     <p class="show-not-found">{{'viewProperty.noExternalAgentFound' | translate}}</p>
                  </tr>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>
<!-- add note -->
<a href="javascript://" data-toggle="modal" data-target="#collection-notes" #notesModalOpen></a>
<div class="modal animated" id="collection-notes">
  <div class="modal-dialog fadeIndown" style="max-width: 54%; margin-top: 11%;">
    <div class="modal-content notary-avail">
      <div class="modal-header popup-header">
        <h4>{{'addCollection.Notes' | translate}}</h4>
        <button style="display: none;" type="button" class="close" data-dismiss="modal"
          #notesModalClose>&times;</button>
        <button type="button" class="close" (click)="closeNotesModal()">&times;</button>
      </div>

      <div class="modal-body">
        <div class="white-bg">
          <div class="row">
          </div>
        </div>
        <div class="form-group-2">
          <div class="form-group">
            <label>{{'addCollection.title' | translate}}</label>
            <input type="text" required class="form-control title" name="title" [(ngModel)]="noted.title">
          </div>
        </div>
        <div class="form-group-2">
          <div class="form-group">
            <label>{{'addCollection.note' | translate}}</label>
            <textarea rows="3" required class="form-control note" name="note" [(ngModel)]="noted.note"></textarea>
          </div>
        </div>
        <div *ngIf="parameter.notes?.length!=0" [ngStyle]="{'max-height':sent_as === 1 ? '250px' : '' }"
          class="write-note white-bg" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
          <div class="wn-block" *ngFor="let item of parameter.notes; let i=index">
            <div class="circle">
              <span></span>
            </div>
            <div class="row">
              <div class="col-md-2">
                <pre class="p13">{{item?.create_date}}</pre>
              </div>
              <div class="col-md-2">
                <p>{{item?.userinfo?.name}}</p>
              </div>
              <div class="col-md-2">
                <p>{{item?.title}}</p>
              </div>
              <div class="col-md-4">
                <p>{{item?.note}}</p>
              </div>
              <div class="col-md-2">
                <button class="delete" href="javascript://" (click)="deleteNote(item.id, i)">
                  <i class="fa fa-trash-o" aria-hidden="true" style="margin-left: -18px;"></i>
                </button>
              </div>
              <!-- <div class="col-md-2">
                <button class="delete" href="javascript://" (click)="deleteLeadPopup(item.id, i)">
                  <i class="fa fa-trash-o" aria-hidden="true"></i>
                </button>
              </div> -->
              <!-- <div class="col-md-2"> <button class="editt" href="javascript://"
                  (click)="editLeadPopup('edit',item.id, item,i)">
                  <i class="fa fa-pencil" aria-hidden="true"></i>
                </button></div> -->
            </div>

            <!-- <ng-template #noDeletePermissiom>
              <a class="delete" href="javascript://">{{'commonBlock.delete' | translate}}</a>
            </ng-template> -->


          </div>
        </div>
        <div *ngIf="parameter.notes?.length==0" class="write-note white-bg"
          [ngStyle]="{'height':sent_as === 1 ? '230px' : '245px' }">
          <p class="show-not-found">
            {{'message.error.noNoteFound' | translate}}
          </p>
        </div>
        
        <div class="col-12">
          <div class="btn-cont text-right">
            <button type="submit" class="btn btn-primary" (click)="addNote()">{{'leadDetails.note.addNote' |
              translate}}</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>