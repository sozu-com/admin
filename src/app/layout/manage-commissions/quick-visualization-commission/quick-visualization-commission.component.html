<div class="container-fluid">
  <div class="row">
    <div class="col-lg-11 col-md-11 col-6">
      <div class="title-group">
        <h5><a routerLink="/dashboard/collections/view-collections/{{property_collection_id}}" href="javascript://"><i
              class="fa fa-angle-double-left" style="font-size: 1.5em;"></i> </a>
          &nbsp;&nbsp;{{'quickVisualization.label' | translate}}</h5>
      </div>
    </div>

    <div class="col-lg-1 col-md-1 col-6">
      <div class="btn-cont text-right">
        <a routerLink="/dashboard/collections/view-collections" class="btn btn-primary-new"
          href="javascript://">{{'quickVisualization.back' | translate}}</a>
      </div>
    </div>
  </div>

  <hr>

  <h5>{{'quickVisualization.stackholdersInformation' | translate}}</h5>
  <div class="row cust-tabs">
    <div class="col-md-4">

      <div class="table-responsive">
        <table class="table table-bordered white-bg">
          <tbody id="accordion">
            <tr>
              <th rowspan="3">{{'quickVisualization.buyer' | translate}}:</th>
              <td>abc</td>
              <td>abc1</td>
              <!-- <td *ngIf="model?.buyer_type==2">
                  {{model?.buyer_legal_entity?.comm_name || ('table.tr.td.NA' | translate)}}
                </td>
                <td *ngIf="model?.buyer_type!=2">
                  {{model?.buyer?.name ? (model?.buyer?.name + ' ' + model?.buyer?.first_surname + ' ' + model?.buyer?.second_surname) : ('table.tr.td.NA' | translate)}}
                </td> -->
            </tr>
            <!-- <tr>
                <td *ngIf="model?.buyer_type==2">{{model?.buyer_legal_entity?.email || ('table.tr.td.NA' | translate)}}</td>
                <td *ngIf="model?.buyer_type!=2">{{model?.buyer?.email || ('table.tr.td.NA' | translate)}}</td>
              </tr>
              <tr>
                <td *ngIf="model?.buyer_type==2">{{model?.buyer_legal_entity?.phone ? model?.buyer_legal_entity?.dial_code + ' ' + model?.buyer_legal_entity?.phone : ('table.tr.td.NA' | translate)}}</td>
                <td *ngIf="model?.buyer_type!=2">{{model?.buyer?.phone ? model?.buyer?.dial_code + ' ' + model?.buyer?.phone : ('table.tr.td.NA' | translate)}}</td>
              </tr> -->
            <!-- <ng-container *ngFor="let buyer_bank of buyerBanks; let sb=index">
                <tr>
                  <td></td>
                  <td>
                   <a class="black" data-toggle="collapse" data-parent="#accordion" href="#collapseBB{{sb}}">
                     <b>Bank {{sb+1}}</b>
                    </a>
                  </td>
                </tr>
                <tr id="collapseBB{{sb}}" class="panel-collapse collapse">
                  <td></td>
                  <table [style.width]="'100%'">
                    <tbody>
                      <tr><th>{{'quickVisualization.bankName' | translate}}</th></tr>
                      <tr><td>{{buyer_bank?.bank_name || 'NA'}}</td></tr>
                      <tr><th>{{'quickVisualization.accountNumber' | translate}}</th></tr>
                      <tr><td>{{buyer_bank?.account_number || 'NA'}}</td></tr>
                      <tr><th>{{'quickVisualization.clabeSwift' | translate}}</th></tr>
                      <tr><td>{{buyer_bank?.swift || 'NA'}}</td></tr>
                      <tr><th>{{'quickVisualization.currency' | translate}}</th></tr>
                      <tr><td>{{buyer_bank?.currency?.code || 'NA'}}</td></tr>
                    </tbody>
                    </table>
                </tr>
              </ng-container> -->
          </tbody>
        </table>
      </div>
      <div class="table-responsive">
        <table class="table table-bordered white-bg">
          <tbody>
            <tr>
              <th rowspan="3">{{'quickVisualization.seller' | translate}}:</th>
              <td>xyz</td>
              <td>xyz1</td>
              <!-- <td *ngIf="model?.seller_type==2">{{model?.seller_legal_entity?.comm_name || ('table.tr.td.NA' | translate)}}</td>
                  <td *ngIf="model?.seller_type!=2">
                    {{model?.seller?.name ? (model?.seller?.name + ' ' + model?.seller?.first_surname + ' ' + model?.seller?.second_surname) : ('table.tr.td.NA' | translate)}}
                  </td> -->
            </tr>
            <tr>
              <!-- <td *ngIf="model?.seller_type==2">{{model?.seller_legal_entity?.email || ('table.tr.td.NA' | translate)}}</td>
                  <td *ngIf="model?.seller_type!=2">{{model?.seller?.email || ('table.tr.td.NA' | translate)}}</td> -->
            </tr>
            <tr>
              <!-- <td *ngIf="model?.seller_type==2">{{model?.seller_legal_entity?.phone ? model?.seller_legal_entity?.dial_code + ' ' + model?.seller_legal_entity?.phone : ('table.tr.td.NA' | translate)}}</td>
                  <td *ngIf="model?.seller_type!=2">{{model?.seller?.phone ? model?.seller?.dial_code + ' ' + model?.seller?.phone : ('table.tr.td.NA' | translate)}}</td> -->
            </tr>
            <!-- <ng-container *ngFor="let seller_bank of sellerBanks; let sb=index">
                  <tr>
                    <td></td>
                    <td>
                     <a class="black" data-toggle="collapse" data-parent="#accordion" href="#collapseSB{{sb}}">
                       <b>Bank {{sb+1}}</b>
                      </a>
                    </td>
                  </tr>
                  <tr id="collapseSB{{sb}}" class="panel-collapse collapse">
                    <td></td>
                    <table [style.width]="'100%'">
                      <tbody>
                        <tr><th>{{'quickVisualization.bankName' | translate}}</th></tr>
                        <tr><td>{{seller_bank?.bank_name || 'NA'}}</td></tr>
                        <tr><th>{{'quickVisualization.accountNumber' | translate}}</th></tr>
                        <tr><td>{{seller_bank?.account_number || 'NA'}}</td></tr>
                        <tr><th>{{'quickVisualization.clabeSwift' | translate}}</th></tr>
                        <tr><td>{{seller_bank?.swift || 'NA'}}</td></tr>
                        <tr><th>{{'quickVisualization.currency' | translate}}</th></tr>
                        <tr><td>{{seller_bank?.currency?.code || 'NA'}}</td></tr>
                      </tbody>
                      </table>
                  </tr>
                </ng-container> -->
          </tbody>
        </table>
      </div>
      <!-- <div class="table-responsive">
            <table class="table table-bordered white-bg">
              <tbody>
                <tr>
                  <th rowspan="3">
                    {{model?.deal_commission_agents?.length>0 && model?.deal_commission_agents[0]?.broker?.is_external_agent==1 ? ('quickVisualization.outsideAgent' | translate) : ('quickVisualization.inhouseAgent' | translate)}}:
                  </th>
                  <td>
                    {{model?.deal_commission_agents?.length>0 ? 
                      (model?.deal_commission_agents[0]?.broker?.name + ' ' + model?.deal_commission_agents[0]?.broker?.first_surname + ' ' +model?.deal_commission_agents[0]?.broker?.second_surname) : 
                      ('table.tr.td.NA' | translate)}}</td>
                </tr>
                <tr>
                  <td>{{model?.deal_commission_agents?.length>0 ? model?.deal_commission_agents[0]?.broker?.email : ('table.tr.td.NA' | translate)}}</td>
                </tr>
                <tr>
                  <td>{{model?.deal_commission_agents?.length>0 ? model?.deal_commission_agents[0]?.broker?.dial_code + ' ' +model?.deal_commission_agents[0]?.broker?.phone : ('table.tr.td.NA' | translate)}}</td>
                </tr>
              </tbody>
            </table>
          </div> -->
    </div>

    <div class="col-md-1"></div>

    <div class="col-md-4">

      <!-- <div class="table-responsive">
            <table class="table table-bordered white-bg">
              <tbody>
                <tr>
                  <th rowspan="3">{{'quickVisualization.buyerLegal' | translate}} <br> {{'quickVisualization.representativeContact' | translate}}:</th>
                    <td *ngIf="model?.buyer_type==1">
                      {{model?.buyer?.legal_representative?.name ? (model?.buyer?.legal_representative?.name + ' ' + model?.buyer?.legal_representative?.first_surname + ' ' + model?.buyer?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}
                    </td>
                    <td *ngIf="model?.buyer_type==2">
                      {{model?.buyer_legal_entity?.legal_reps?.name ? (model?.buyer_legal_entity?.legal_reps?.name + ' ' +model?.buyer_legal_entity?.legal_reps?.first_surname + ' ' + model?.buyer_legal_entity?.legal_reps?.second_surname) : ('table.tr.td.NA' | translate)}}
                    </td>
                    <td *ngIf="model?.buyer_type==3">
                      {{model?.buyer?.legal_representative?.name ? (model?.buyer?.legal_representative?.name + ' ' + model?.buyer?.legal_representative?.first_surname + ' ' + model?.buyer?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}
                    </td>
                 </tr>
                <tr>
                  <td *ngIf="model?.buyer_type==1">{{model?.buyer_leg_rep_email || ('table.tr.td.NA' | translate)}}</td>
                  <td *ngIf="model?.buyer_type==2">{{model?.buyer_legal_entity?.legal_reps?.email || ('table.tr.td.NA' | translate)}}</td>
                  <td *ngIf="model?.buyer_type==3">{{model?.buyer?.legal_representative?.email || ('table.tr.td.NA' | translate)}}</td>
                 </tr>
                <tr>
                  <td *ngIf="model?.buyer_type==1">{{model?.buyer_leg_rep_phone ? model?.buyer?.dial_code + ' '+ model?.buyer_leg_rep_phone : ('table.tr.td.NA' | translate)}}</td>
                  <td *ngIf="model?.buyer_type==2">{{model?.buyer_legal_entity?.legal_reps?.phone ? model?.buyer_legal_entity?.legal_reps?.dial_code + ' '+ model?.buyer_legal_entity?.legal_reps?.phone : ('table.tr.td.NA' | translate)}}</td>
                  <td *ngIf="model?.buyer_type==3">{{model?.buyer?.legal_representative?.phone ? model?.buyer?.dial_code + ' ' + model?.buyer?.legal_representative?.phone : ('table.tr.td.NA' | translate)}}</td>
                </tr>
                <ng-container *ngFor="let buyer_rep_banks of buyerRepBanks; let sb=index">
                  <tr>
                    <td></td>
                    <td>
                     <a class="black" data-toggle="collapse" data-parent="#accordion" href="#collapseBRB{{sb}}">
                       <b>Bank {{sb+1}}</b>
                      </a>
                    </td>
                  </tr>
                  <tr id="collapseBRB{{sb}}" class="panel-collapse collapse">
                    <td></td>
                    <table [style.width]="'100%'">
                      <tbody>
                        <tr><th>{{'quickVisualization.bankName' | translate}}</th></tr>
                        <tr><td>{{buyer_rep_banks?.bank_name || 'NA'}}</td></tr>
                        <tr><th>{{'quickVisualization.accountNumber' | translate}}</th></tr>
                        <tr><td>{{buyer_rep_banks?.account_number || 'NA'}}</td></tr>
                        <tr><th>{{'quickVisualization.clabeSwift' | translate}}</th></tr>
                        <tr><td>{{buyer_rep_banks?.swift || 'NA'}}</td></tr>
                        <tr><th>{{'quickVisualization.currency' | translate}}</th></tr>
                        <tr><td>{{buyer_rep_banks?.currency?.code || 'NA'}}</td></tr>
                      </tbody>
                      </table>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
            <div class="table-responsive">
              <table class="table table-bordered white-bg">
                <tbody>
                  <tr>
                    <th rowspan="3">{{'quickVisualization.sellerLegal' | translate}} <br> {{'quickVisualization.representativeContact' | translate}}:</th>
                    <td *ngIf="model?.seller_type==1">
                      {{model?.seller?.legal_representative?.name ? (model?.seller?.legal_representative?.name + ' ' + model?.seller?.legal_representative?.first_surname + ' ' + model?.seller?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}
                    </td>
                    <td *ngIf="model?.seller_type==2">
                      {{model?.seller_legal_entity?.legal_reps?.name ? (model?.seller_legal_entity?.legal_reps?.name + ' ' +model?.seller_legal_entity?.legal_reps?.first_surname + ' ' + model?.seller_legal_entity?.legal_reps?.second_surname) : ('table.tr.td.NA' | translate)}}
                    </td>
                    <td *ngIf="model?.seller_type==3">
                      {{model?.seller?.legal_representative?.name ? (model?.seller?.legal_representative?.name + ' ' + model?.seller?.legal_representative?.first_surname + ' ' + model?.seller?.legal_representative?.second_surname) : ('table.tr.td.NA' | translate)}}
                    </td>
                 </tr>
                <tr>
                  <td *ngIf="model?.seller_type==1">{{model?.seller_leg_rep_email || ('table.tr.td.NA' | translate)}}</td>
                  <td *ngIf="model?.seller_type==2">{{model?.seller_legal_entity?.legal_reps?.email || ('table.tr.td.NA' | translate)}}</td>
                  <td *ngIf="model?.seller_type==3">{{model?.seller?.legal_representative?.email || ('table.tr.td.NA' | translate)}}</td>
                 </tr>
                 <tr>
                   <td *ngIf="model?.seller_type==1">{{model?.seller_leg_rep_phone ? model?.seller?.dial_code + ' '+ model?.seller_leg_rep_phone : ('table.tr.td.NA' | translate)}}</td>
                   <td *ngIf="model?.seller_type==2">{{model?.seller_legal_entity?.legal_reps?.phone ? model?.seller_legal_entity?.legal_reps?.dial_code + ' '+ model?.seller_legal_entity?.legal_reps?.phone : ('table.tr.td.NA' | translate)}}</td>
                   <td *ngIf="model?.seller_type==3">{{model?.seller?.legal_representative?.phone ? model?.seller?.dial_code + ' ' + model?.seller?.legal_representative?.phone : ('table.tr.td.NA' | translate)}}</td>
                 </tr>
                 <ng-container *ngFor="let seller_rep_banks of sellerRepBanks; let sb=index">
                   <tr>
                     <td></td>
                     <td>
                      <a class="black" data-toggle="collapse" data-parent="#accordion" href="#collapseSRB{{sb}}">
                        <b>Bank {{sb+1}}</b>
                       </a>
                     </td>
                   </tr>
                   <tr id="collapseSRB{{sb}}" class="panel-collapse collapse">
                     <td></td>
                     <table [style.width]="'100%'">
                       <tbody>
                         <tr><th>{{'quickVisualization.bankName' | translate}}</th></tr>
                         <tr><td>{{seller_rep_banks?.bank_name || 'NA'}}</td></tr>
                         <tr><th>{{'quickVisualization.accountNumber' | translate}}</th></tr>
                         <tr><td>{{seller_rep_banks?.account_number || 'NA'}}</td></tr>
                         <tr><th>{{'quickVisualization.clabeSwift' | translate}}</th></tr>
                         <tr><td>{{seller_rep_banks?.swift || 'NA'}}</td></tr>
                         <tr><th>{{'quickVisualization.currency' | translate}}</th></tr>
                         <tr><td>{{seller_rep_banks?.currency?.code || 'NA'}}</td></tr>
                       </tbody>
                       </table>
                   </tr>
                 </ng-container>
                </tbody>
              </table>
            </div> -->
    </div>
  </div>


  <h5>{{'quickVisualization.generalPropertyInformation' | translate}}</h5>
  <!-- <div class="row">
    <div class="col-md-4">

          <div class="table-responsive">
            <table class="table table-bordered white-bg">
              <tbody>
                  <tr>
                      <th>{{'quickVisualization.project' | translate}}:</th>
                      <td>{{model?.property?.building?.name || ('table.tr.td.NA' | translate)}}</td>
                    </tr>
                    <tr>
                      <th>{{'quickVisualization.tower' | translate}}:</th>
                      <td>{{model?.property?.building_towers?.tower_name || ('table.tr.td.NA' | translate)}}</td>
                    </tr>
                    <tr>
                      <th>{{'quickVisualization.floor' | translate}}:</th>
                      <td>
                          {{model?.property?.floor_num ? (model?.property?.floor_num == 0 ? ('addCollection.groundFloor' | translate) : ('addCollection.floor' | translate) + ' ' + model?.property?.floor_num) : ('table.tr.td.NA' | translate)}}
                      </td>
                    </tr>
                    <tr>
                      <th>{{'quickVisualization.model' | translate}}:</th>
                      <td>{{model?.property?.building_configuration?.name || ('table.tr.td.NA' | translate)}}</td>
                    </tr>
                    <tr *ngFor="let item of this.model?.property?.property_parking_space; let i=index">
                      <th [attr.rowspan]="this.model?.property?.property_parking_space?.length" *ngIf="i == 0 ">{{'quickVisualization.Parkinglotincluded' | translate}}:</th>
                      <td >{{item.parking_type && item.parking_count ? (this.getParkingLotIncludedText(item.parking_type) + ':' + item.parking_count) : ('table.tr.td.NA' | translate)}}</td>
                    </tr>
                    <tr>
                      <th>{{'quickVisualization.Parkinglotsale' | translate}}:</th>
                      <td>{{'table.tr.td.NA' | translate}}</td>
                    </tr>
                    <tr>
                      <th>{{'quickVisualization.propertyName' | translate}}:</th>
                      <td>{{model?.property?.name || ('table.tr.td.NA' | translate)}}</td>
                    </tr>
                    <tr>
                      <th>{{'quickVisualization.price' | translate}}:</th>
                      <td>{{(model?.deal_price || 0) | currency}}</td>
                    </tr>
              </tbody>
            </table>
          </div>
      </div>
  
      <div class="col-md-1"></div>
  
      <div class="col-md-4">  
            <div class="table-responsive">
              <table class="table table-bordered white-bg">
                  <tbody>
                      <tr>
                          <th>{{'quickVisualization.purchaseDate' | translate}}:</th>
                          <td>{{model?.deal_purchase_date ? (model?.deal_purchase_date | date:'dd/MMM/yyyy') : ('table.tr.td.NA' | translate)}}</td>
                        </tr>
                        <tr>
                          <th>{{'quickVisualization.currency' | translate}}:</th>
                          <td>{{model?.currency?.code || ('table.tr.td.NA' | translate)}}</td>
                        </tr>
                  </tbody>
              </table>
            </div>
              <div class="table-responsive">
                <table class="table table-bordered white-bg">
                    <tbody>
                          <tr>
                              <th>
                                <a data-toggle="collapse" data-parent="#accordion" href="#coll">
                                  {{'quickVisualization.paid' | translate}}:
                                </a>
                              </th>
                              <td>{{(model?.total_payment_recieved || 0) | currency}}</td>
                          </tr>
                          <tr id="coll" class="panel-collapse collapse">
                            <td colspan="2">
                              <table>
                                <tbody>
                                  <tr *ngFor="let d of data2">
                                    <th>{{language_code == 'en' ? d?.name_en : d?.name_es}}</th>
                                    <td>{{(d?.total_amount || 0) | currency}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </td>
                          </tr>
                          <tr>
                            <th>{{'quickVisualization.remaining' | translate}}:</th>
                          
                            <td>{{remainingAmt > 0 ? (remainingAmt | currency) : ( 0 | currency)}}</td>
                           
                          </tr>
                          <tr>
                            <th>{{'quickVisualization.totalPenalty' | translate}}:</th>
                            <td>{{(model?.penalty || 0) | currency}}</td>
                          </tr>
                    </tbody>
                </table>
              </div>
        </div>

  </div> -->

  <h5>{{'quickVisualization.paymentInformation' | translate}}</h5>
  <div id="accordion" class="table-responsive main-table">
    <table class="table table-bordered table-striped table-align-center quick-table">
      <thead class="header" id="myHeader">
        <tr>
          <th [style.width]="'200px'" [style.z-index]="100">
            <b>{{'quickVisualization.concept' | translate}}</b>
          </th>
          <th [style.width]="'140px'">
            <b>{{'quickVisualization.month' | translate}}</b>
          </th>
          <th [style.width]="'120px'">
            <b>{{'quickVisualization.paid' | translate}}</b>
          </th>
          <th [style.width]="'120px'">
            <b>{{'quickVisualization.outstandingPayment' | translate}}</b>
          </th>
          <th [style.width]="'120px'">
            <b>{{'quickVisualization.toBePaidByUser' | translate}}</b>
          </th>
          <th [style.width]="'120px'">
            <b>{{'quickVisualization.penaltyFLP' | translate}}</b>
          </th>
          <th>
            <b>{{'quickVisualization.penaltyDescription' | translate}}</b>
          </th>
          <th [style.width]="'120px'">
            <b>{{'quickVisualization.agentCommission' | translate}}</b>
          </th>
          <th [style.width]="'150px'">
            <b>{{'quickVisualization.dateOfAC' | translate}}</b>
          </th>
          <th>
            <b>{{'quickVisualization.ACAttachment' | translate}}</b>
          </th>
          <th>
            <b>{{'quickVisualization.ACDescription' | translate}}</b>
          </th>
          <th>
            <b>{{'quickVisualization.invoiceDate' | translate}}</b>
          </th>
          <th>
            <b>{{'quickVisualization.invoiceID' | translate}}</b>
          </th>
          <th [style.width]="'120px'">
            <b>{{'quickVisualization.pdfDoc' | translate}}</b>
          </th>
          <th [style.width]="'150px'">
            <b>{{'quickVisualization.xmlDoc' | translate}}</b>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>monthlypay</td>
          <td>7/oct/2020</td>
          <td></td>
          <td>$20.00</td>
          <td></td>
          <td></td>
          <td>monthlypay</td>
          <td><a style="color: black;" class="color-changed" data-toggle="collapse" data-parent="#accordion"
              href="#collapse{{i}}">
              8765867843
            </a></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr id="collapse{{i}}" class="panel-collapse collapse">
          <td>commission 1</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td><a style="color: red;">
              $100,800.90
            </a></td>
          <td>15/nov20</td>
          <td style="color: green;">view</td>
          <td></td>
          <td>19/nov/20</td>
          <td>f192</td>
          <td style="color: green;">view</td>
          <td style="color: green;">view</td>
         
        </tr>

        <tr>
          <td>monthlypay</td>
          <td>7/oct/2020</td>
          <td></td>
          <td>$20.00</td>
          <td></td>
          <td></td>
          <td>monthlypay</td>
          <td><a style="color: black;" class="color-changed" data-toggle="collapse" data-parent="#accordion"
              href="#collapse{{i}}">
              8765867843
            </a></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>

      </tbody>
    </table>
  </div>
</div>