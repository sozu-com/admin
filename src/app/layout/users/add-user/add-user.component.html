<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="title-group">
        <h5>{{model.id ? ('viewUsers.editBtn' | translate) : ('viewUsers.addBtn' | translate)}}</h5>
        <div class="spacer30"></div>
      </div>
    </div>
  </div>


  <form role="form" ngNativeValidate #addForm="ngForm" (ngSubmit)="add(addForm)">

    <div class="col-12">
      <div class="btn-cont text-right">
        <button *ngIf="!model?.id" type="submit" [disabled]="!addForm.valid" class="btn btn-primary">{{'addForm.addBtn'
          | translate}}</button>
        <button *ngIf="model?.id" type="submit" class="btn btn-primary">{{'addForm.updateBtn' | translate}}</button>
      </div>
    </div>
    <div class="col-12">
      <div class="spacer40"></div>
    </div>

    <!-- Street Address,External Number,Internal Number,Neighborhood,Municipality,City,ZIP code,State,Address -->
    <div class="white-bg padding40">
      <h3>{{'addForm.generalData' | translate}}</h3>
      <div class="col-12">
        <div class="spacer40"></div>
      </div>
      <div class="row">
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.names' | translate}} <span class="color-red">*</span></label>
            <input autocomplete="off" minlength="1" maxlength="80" [pattern]="constant.onlyWhiteSpaces" required
              type="text" class="form-control" [(ngModel)]="model.name" name="name1">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.firstSurname' | translate}}
              <span class="color-red">*</span>
            </label>
            <input autocomplete="off" minlength="1" maxlength="30" [pattern]="constant.onlyWhiteSpaces" type="text"
              class="form-control" required [(ngModel)]="model.first_surname" name="first_surname1">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'secondSurname' | translate}}
              <!-- <span class="color-red">*</span> -->
            </label>
            <input autocomplete="off" minlength="1" maxlength="30" [pattern]="constant.onlyWhiteSpaces" type="text"
              class="form-control" [(ngModel)]="model.second_surname" name="second_surname1">
          </div>
        </div>
      </div>
      <div class="col-12">
        <div class="spacer40"></div>
      </div>
      <div class="row">
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.gender' | translate}}</label><br />
            <input type="radio" name="gender" value="male">{{'addForm.male' | translate}} &nbsp;&nbsp;
            <input type="radio" name="gender" value="female">{{'addForm.female' | translate}}
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.email' | translate}} <span class="color-red">*</span></label>
            <input (keydown.space)="$event.preventDefault();" autocomplete="off" required
              [pattern]="constant.emailPattern" type="email" class="form-control" [(ngModel)]="model.email"
              name="email">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.contact_number' | translate}} <span class="color-red">*</span></label>
            <input minlength="8" maxlength="15" autocomplete="off" type="text" [pattern]="constant.phonePattern"
              class="form-control" id="phone" required minlength="1" [(ngModel)]="model.phone" name="phone" ng2TelInput
              [ng2TelInputOptions]="initialCountry" (countryChange)="onCountryChange($event)" />
          </div>
        </div>
      </div>
      <div class="col-12">
        <div class="spacer40"></div>
      </div>

      <div class="row">
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.dateOfBirth' | translate}}</label>
            <input class="form-control" type="date" name="launch_date">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.CURP' | translate}}</label>
            <input (keydown.space)="$event.preventDefault();" autocomplete="off" required
              [pattern]="constant.emailPattern" type="text" class="form-control" [(ngModel)]="model.email" name="email">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.fedralTaxPayerRegistry' | translate}}</label>
            <input autocomplete="off" minlength="12" maxlength="13" [pattern]="constant.onlyWhiteSpaces" type="text"
              class="form-control" [(ngModel)]="model.fed_tax_pay" name="fed_tax_pay">
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="spacer40"></div>
      </div>

      <div class="row">
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.nacionality' | translate}}</label>
            <input (keydown.space)="$event.preventDefault();" autocomplete="off" required
              [pattern]="constant.emailPattern" type="text" class="form-control" [(ngModel)]="model.email" name="email">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label class="p16-two">{{'addForm.marital_status' | translate}}</label>
            <select title="Select Marital Status" name="country" required class="form-control">
              <option value="Marital Status" disabled></option>
              <option value="Single">{{'addForm.maritalStatus.married' | translate}}</option>
              <option value="Married">{{'addForm.maritalStatus.connivance' | translate}}</option>
              <option value="Married">{{'addForm.maritalStatus.divorced' | translate}}</option>
              <option value="Married">{{'addForm.maritalStatus.single' | translate}}</option>
              <option value="Married">{{'addForm.maritalStatus.freeUnion' | translate}}</option>
              <option value="Married">{{'addForm.maritalStatus.window' | translate}}</option>
            </select>

          </div>
        </div>
      </div>
      <div class="col-12">
        <div class="spacer40"></div>
      </div>

      <div class="row">
        <div class="col-12">
          <label>{{'addCollection.bankName' | translate}}
            <span class="pull-right"><a class="add" (click)="addDeveloperBank($event)"
                href="javascript://">{{'addCollection.addNewBankAccount' | translate}}</a></span>
          </label>
          <div class="row" *ngFor="let bankAccount of model.legal_rep_banks; let i=index">
            <div class="col-lg-3 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>{{'addCollection.bankName' | translate}}</label>
                <div class="clearfix"></div>
                <input autocomplete="off" minlength="1" maxlength="30" class="form-control" type="text"
                  [(ngModel)]="bankAccount.bank_name" name="bank_name{{i}}">
              </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>{{'addCollection.accountNumber' | translate}}</label>
                <div class="clearfix"></div>
                <input autocomplete="off" class="form-control" type="text" minlength="10" maxlength="20"
                  [pattern]="constant.accountPattern" [(ngModel)]="bankAccount.account_number"
                  name="account_number{{i}}">
              </div>
            </div>
            <div class="col-lg-2 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>{{'addCollection.clabeSwift' | translate}}</label>
                <div class="clearfix"></div>
                <input autocomplete="off" class="form-control" type="text" [(ngModel)]="bankAccount.swift"
                  name="swift{{i}}">
              </div>
            </div>
            <div class="col-lg-2 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>{{'addCollection.currency' | translate}}</label>
                <div class="clearfix"></div>
                <select name="currency_id{{i}}" [(ngModel)]="bankAccount.currency_id" class="form-control">
                  <option value="">{{'addCollection.currency' | translate}}</option>
                  <option value="{{c.id}}" *ngFor="let c of currencies">{{ c?.code }} | {{c?.currency}}</option>
                </select>
              </div>
            </div>
            <div class="col-lg-2 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>Remove</label>
                <div class="clearfix"></div>
                <button type="button" (click)="removeDeveloperBank($event, bankAccount, i)">Remove</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12">
      <div class="spacer40"></div>
    </div>

    <div class="white-bg padding40">
      <h3>{{'addForm.address' | translate}}</h3>
      <div class="col-12">
        <div class="spacer40"></div>
      </div>
      <div class="row">
        <div class="col-3">
          <div class="form-group-3">
            <label>{{'addForm.streetAddress' | translate}}</label>
            <input type="text" class="form-control" />
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group-3">
            <label>{{'addForm.externalNumber' | translate}}</label>
            <input type="text" class="form-control" />
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group-3">
            <label>{{'addForm.internalNumber' | translate}}</label>
            <input type="text" class="form-control" />
          </div>
        </div>
        <div class="col-3">
          <div class="form-group-3">
            <label>{{'addForm.neighborhood' | translate}}</label>
            <input type="text" class="form-control" />
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="spacer40"></div>
      </div>

      <div class="row">
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.municipality' | translate}}</label>
            <input (keydown.space)="$event.preventDefault();" autocomplete="off" required
              [pattern]="constant.emailPattern" type="email" class="form-control" [(ngModel)]="model.email"
              name="email">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.city' | translate}}</label>
            <input (keydown.space)="$event.preventDefault();" autocomplete="off" required
              [pattern]="constant.emailPattern" type="email" class="form-control" [(ngModel)]="model.email"
              name="email">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.ZIP' | translate}}</label>
            <input minlength="8" maxlength="15" autocomplete="off" type="text" 
              class="form-control" id="phone" required minlength="1" [(ngModel)]="model.phone" name="phone" 
               />
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="spacer40"></div>
      </div>

      <div class="row">
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.state' | translate}}</label>
            <input (keydown.space)="$event.preventDefault();" autocomplete="off" required
              [pattern]="constant.emailPattern" type="text" class="form-control" [(ngModel)]="model.email" name="email">
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="spacer40"></div>
      </div>

      <div class="row">
        <div class="col-12">
          <div class="form-group-3-2">
            <label>{{'addForm.address' | translate}}
            </label>
            <input placeholder="{{'addForm.placeholder.searchForAddress' | translate}}" autocorrect="off"
              autocapitalize="off" spellcheck="off" type="text" class="form-control" #search
              (input)="loadPlaces('developer_address', 'lat', 'lng', 'searchElementRef')" name="developer_address"
              [(ngModel)]="model.developer_address" autocomplete="off">
          </div>
        </div>
        <div class="col-12">
          <div class="form-group-3-2">
            <label>{{'addForm.locationPinOnMap' | translate}}
              <!-- <span class="color-red">*</span> -->
            </label>
            <agm-map class="height200" [latitude]="model.lat" [longitude]="model.lng" [scrollwheel]="false"
              (mapClick)="placeMarker($event, 'developer_address', 'lat', 'lng')" [zoom]="constant.zoom">
              <agm-marker [latitude]="model.lat" [longitude]="model.lng"></agm-marker>
            </agm-map>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12">
      <div class="spacer40"></div>
    </div>

    <div class="white-bg padding40">
      <h3>{{'addForm.legalRepresentativeInfo' | translate}}</h3>
      <div class="col-12">
        <div class="spacer40"></div>
      </div>
      <div class="row">
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.names' | translate}}
              <!-- <span class="color-red">*</span> -->
            </label>
            <input autocomplete="off" minlength="1" maxlength="50" [pattern]="constant.onlyWhiteSpaces" type="text"
              class="form-control" [(ngModel)]="model.legal_representative.name" name="name">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.firstSurname' | translate}}
              <!-- <span class="color-red">*</span> -->
            </label>
            <input autocomplete="off" minlength="1" maxlength="30" [pattern]="constant.onlyWhiteSpaces" type="text"
              class="form-control" [(ngModel)]="model.legal_representative.first_surname" name="first_surname">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.secondSurname' | translate}}
              <!-- <span class="color-red">*</span> -->
            </label>
            <input autocomplete="off" minlength="1" maxlength="30" [pattern]="constant.onlyWhiteSpaces" type="text"
              class="form-control" [(ngModel)]="model.legal_representative.second_surname" name="second_surname">
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="spacer40"></div>
      </div>

      <div class="row">
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.contactNumber' | translate}}</label>
            <input minlength="8" maxlength="15" autocomplete="off" type="text" [pattern]="constant.phonePattern"
              class="form-control" id="phone" [(ngModel)]="model.legal_representative.phone"
              name="legal_representative_phone" ng2TelInput [ng2TelInputOptions]="initialCountry"
              (countryChange)="onCountryChange($event)" />
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.emailId' | translate}}</label>
            <input (keydown.space)="$event.preventDefault();" autocomplete="off" [pattern]="constant.emailPattern"
              type="email" class="form-control" [(ngModel)]="model.legal_representative.email" name="rep_email">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group-3">
            <label>{{'addForm.fedralTaxPayerRegistry' | translate}}</label>
            <input autocomplete="off" minlength="12" maxlength="13" [pattern]="constant.onlyWhiteSpaces" type="text"
              class="form-control" [(ngModel)]="model.legal_representative.fed_tax_pay" name="le_fed_tax_pay">
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="spacer40"></div>
      </div>

      <div class="row">
        <div class="col-12">
          <label>{{'addCollection.bankAccount' | translate}}
            <!-- <span class="color-red">*</span> -->
            <span class="pull-right"><a class="add" (click)="addLegalEntityBank($event)"
                href="javascript://">{{'addCollection.addNewBankAccount' | translate}}</a></span>
          </label>
          <div class="row" *ngFor="let leBankAccount of model.legal_representative.legal_rep_banks; let i=index">
            <div class="col-lg-3 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>{{'addCollection.bankName' | translate}}</label>
                <div class="clearfix"></div>
                <input autocomplete="off" minlength="1" maxlength="30" class="form-control" type="text"
                  [(ngModel)]="leBankAccount.bank_name" name="le_bank_name{{i}}">
              </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>{{'addCollection.accountNumber' | translate}}</label>
                <div class="clearfix"></div>
                <input autocomplete="off" class="form-control" type="text" minlength="9" maxlength="20"
                  [pattern]="constant.accountPattern" [(ngModel)]="leBankAccount.account_number"
                  name="le_account_number{{i}}">
              </div>
            </div>
            <div class="col-lg-2 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>{{'addCollection.clabeSwift' | translate}}</label>
                <div class="clearfix"></div>
                <input autocomplete="off" class="form-control" type="text" [(ngModel)]="leBankAccount.swift"
                  name="le_swift{{i}}">
              </div>
            </div>
            <div class="col-lg-2 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>{{'addCollection.currency' | translate}}</label>
                <div class="clearfix"></div>
                <select name="le_currency_id{{i}}" [(ngModel)]="leBankAccount.currency_id" class="form-control">
                  <option value="">{{'addCollection.currency' | translate}}</option>
                  <option value="{{c.id}}" *ngFor="let c of currencies">{{ c?.code }} | {{c?.currency}}</option>
                </select>
              </div>
            </div>
            <div class="col-lg-2 col-md-6 col-sm-6 col-12">
              <div class="form-group-3">
                <label>{{'addCollection.remove' | translate}}</label>
                <div class="clearfix"></div>
                <button type="button" (click)="removeLegalEntityBank($event, leBankAccount, i)">{{'addCollection.remove'
                  |
                  translate}}</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>