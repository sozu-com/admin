<div class="container-fluid">

  <form role="form" ngNativeValidate #addForm="ngForm" (ngSubmit)="add(addForm)">
    <div class="row">
      <div class="col-md-6">
        <div class="title-group">
          <h5>{{model.id ? ('viewUsers.editBtn' | translate) : ('viewUsers.addBtn' | translate)}}</h5>
        </div>
      </div>
      <div class="col-md-6">
        <div class="btn-cont text-right">
          <button *ngIf="!model?.id" type="submit" [disabled]="!addForm.valid"
            class="btn btn-primary">{{'addForm.addBtn'
            | translate}}</button>
          <button *ngIf="model?.id" type="submit" class="btn btn-primary"
            [disabled]="admin?.admin_acl['User Management']?.can_update==0">{{'addForm.updateBtn' | translate}}</button>
        </div>
      </div>
    </div>

    <div class="col-12">
      <div class="spacer40"></div>
    </div>


    <div class="white-bg padding40">
      <section id="tabs" class="project-tab">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <nav>
                <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                  <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab"
                    aria-controls="nav-home" aria-selected="true">{{'addForm.buyer' | translate}}</a>
                  <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab"
                    aria-controls="nav-profile" aria-selected="false">{{'addForm.seller' | translate}}</a>
                  <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab"
                    aria-controls="nav-contact" aria-selected="false">{{'addForm.rent' | translate}}</a>
                  <a class="nav-item nav-link" id="nav-credit-tab" data-toggle="tab" href="#nav-credit" role="tab"
                    aria-controls="nav-credit" aria-selected="false">{{'addForm.credit' | translate}}</a>
                  <a class="nav-item nav-link" id="nav-info-tab" data-toggle="tab" href="#nav-info" role="tab"
                    aria-controls="nav-info" aria-selected="false">{{'addForm.info' | translate}}</a>
                </div>
              </nav>
              <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                  <div class="col-12">
                    <div class="spacer40"></div>
                  </div>
                  <!-- <a [routerLink]="['/dashboard/leads/csr-buyers/1002']" class="action-icon">
                              <img src="assets/img/edit.png" alt="img"></a> -->
                  <app-csr-buyer-detail [user_id]="model.id" (noDataAvailable)="noDataAvailable($event)"
                    *ngIf="model.id && !dataNotAvailable"></app-csr-buyer-detail>
                  <div *ngIf="dataNotAvailable" style="text-align: center;">
                    <span>No record available</span>
                  </div>
                </div>
                <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                  <div class="col-12">
                    <div class="spacer40"></div>
                  </div>
                  <h6 style="text-align: center;">{{'addForm.emptySeller' | translate}}</h6>
                </div>
                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                  <div class="col-12">
                    <div class="spacer40"></div>
                  </div>
                  <h6 style="text-align: center;">{{'addForm.emptyRent' | translate}}</h6>
                </div>
                <div class="tab-pane fade" id="nav-credit" role="tabpanel" aria-labelledby="nav-credit-tab">
                  <div class="col-12">
                    <div class="spacer40"></div>
                  </div>
                  <h6 style="text-align: center;">{{'addForm.emptyCredit' | translate}}</h6>
                </div>
                <div class="tab-pane fade" id="nav-info" role="tabpanel" aria-labelledby="nav-info-tab"
                  *ngIf="isGetEditUserData">
                  <div class="col-12">
                    <div class="spacer40"></div>
                  </div>
                  <div class="white-bg padding40">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="title-group">
                          <h5>{{'addForm.generalData' | translate}}</h5>
                        </div>
                      </div>
                      <div class="col-md-2">
                        <div class="btn-cont">
                          <button *ngIf="model?.id" (click)="reset()" type="button"
                            class="btn btn-primary">{{'addForm.resetActivations' | translate}}</button>
                        </div>
                      </div>
                      <div class="col-md-2">
                        <div class="btn-cont">
                          <button *ngIf="model?.id" (click)="uploadDoc(1)"
                            class="btn btn-primary">{{'addForm.documentation' | translate}}</button>
                        </div>
                      </div>
                      <div class="col-md-2">
                        <div class="btn-cont text-right">
                          <button (click)="goBack()" class="btn btn-primary">{{'quickVisualization.back' |
                            translate}}</button>
                        </div>
                      </div>
                    </div>
                    <!-- <h3>{{'addForm.generalData' | translate}}</h3> -->
                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>
                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.names' | translate}} <span class="color-red">*</span></label>
                          <input autocomplete="off" minlength="1" maxlength="30"
                            [pattern]="constant.acceptAlphabetNumberAccentscharactersWithWhiteSpace" required
                            type="text" class="form-control" [(ngModel)]="model.name" name="name1">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.firstSurname' | translate}}
                            <span class="color-red">*</span>
                          </label>
                          <input autocomplete="off" minlength="1" maxlength="30"
                            [pattern]="constant.acceptAlphabetNumberAccentscharactersWithWhiteSpace" type="text"
                            class="form-control" required [(ngModel)]="model.first_surname" name="first_surname1">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.secondSurname' | translate}}
                            <!-- <span class="color-red">*</span> -->
                          </label>
                          <input autocomplete="off" minlength="1" maxlength="30"
                            [pattern]="constant.acceptAlphabetNumberAccentscharactersWithWhiteSpace" type="text"
                            class="form-control" [(ngModel)]="model.second_surname" name="second_surname1">
                        </div>
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>
                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.gender' | translate}}</label><br />
                          <input type="radio" name="gender" value="male" [checked]="isChecked('male')"
                            (change)="selectGender($event.target.value)">{{'addForm.male' | translate}} &nbsp;&nbsp;
                          <input type="radio" name="gender" value="female" [checked]="isChecked('female')"
                            (change)="selectGender($event.target.value)">{{'addForm.female' | translate}}
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.email' | translate}} <span class="color-red">*</span></label>
                          <input (keydown.space)="$event.preventDefault();" autocomplete="off" required
                            [pattern]="constant.emailPattern" type="email" class="form-control"
                            [(ngModel)]="model.email" name="email">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.contact_number' | translate}} <span class="color-red">*</span></label>
                          <!-- [pattern]="constant.phonePattern" -->
                          <input minlength="8" maxlength="15" autocomplete="off" type="number"
                            [pattern]="constant.onlyWhiteSpaces" class="form-control" id="phone" required
                            [(ngModel)]="model.phone" name="phone" ng2TelInput
                            [ng2TelInputOptions]="{ initialCountry: model.country_code }"
                            (countryChange)="onCountryChange($event,1)" />
                        </div>
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.dateOfBirth' | translate}}</label>
                          <input class="form-control" type="date" name="dob" [(ngModel)]="model.dob">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.CURP' | translate}}</label>
                          <input (keydown.space)="$event.preventDefault();" autocomplete="off" type="text"
                            minlength="18" maxlength="18" class="form-control" [(ngModel)]="model.curp" name="curp">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.fedralTaxPayerRegistry' | translate}}</label>
                          <input autocomplete="off" minlength="13" maxlength="13" [pattern]="constant.onlyWhiteSpaces"
                            type="text" class="form-control" [(ngModel)]="model.fed_tax_pay" name="fed_tax_pay">
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label class="p16-two">{{'addForm.nacionality' | translate}}</label>
                          <select title="Select Nationality" [(ngModel)]="model.nationality_id" name="nationality_id"
                            class="form-control" (change)="this.updateNationalityName($event.target.value)">
                            <!-- <option value="-1" disabled>{{'addForm.selectNationality' | translate}}</option> -->
                            <option *ngFor="let tempNationalityDetails of nationalityDetails"
                              [selected]="tempNationalityDetails.id == model.nationality_id"
                              value="{{tempNationalityDetails.id}}">
                              {{tempNationalityDetails.name}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-4" *ngIf="model.nationality_id == 0">
                        <div class="form-group-3">
                          <label>{{'addForm.specifyNationality' | translate}}</label>
                          <input (keydown.space)="$event.preventDefault();" autocomplete="off" type="text"
                            class="form-control" [(ngModel)]="model.nationality_name" name="nationality_name">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label class="p16-two">{{'addForm.marital_status' | translate}}</label>
                          <select title="Select Marital Status" name="marital_status" class="form-control"
                            (change)="getMaritalStatus($event.target.value)">
                            <option value="0" disabled>{{'addForm.maritalStatus.selectMaritalStatus' | translate}}
                            </option>
                            <option *ngFor="let maritalStatus of marrital_status_list"
                              [selected]="maritalStatus.id == model.marital_statuses_id" value="{{maritalStatus.id}}">
                              {{language_code == 'en'? maritalStatus.name_en : maritalStatus.name_es}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label class="p16-two">{{'addForm.ocupation' | translate}}</label>
                          <input autocomplete="off" class="form-control" type="text" name="ocupation"
                            [(ngModel)]="model.ocupation">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label class="p16-two">{{'addForm.idType' | translate}}</label>
                          <select class="form-control" (change)="selectIdType($event.target.value)"
                            [(ngModel)]="model.id_type">
                            <option [selected]="model.id_type == 1" value="1">{{'contract.other' | translate}}</option>
                            <option [selected]="model.id_type == 2" value="2">{{'contract.passport' | translate}}</option>
                            <option [selected]="model.id_type == 3" value="3">{{'contract.ine' | translate}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label class="p16-two">{{'addForm.idNumber' | translate}}</label>
                          <input autocomplete="off" class="form-control" type="text" name="id_number"
                            [(ngModel)]="model.id_number">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label class="p16-two">{{'addForm.stateOfBirth' | translate}}</label> 
                          <input autocomplete="off" class="form-control" type="text" name="birth_state"
                           [(ngModel)]="model.birth_state">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label class="p16-two">{{'addForm.cityOfBirth' | translate}}</label> 
                          <input autocomplete="off" class="form-control" type="text" name="birth_city"
                           [(ngModel)]="model.birth_city">
                        </div>
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-12">
                        <label>{{'addCollection.bankName' | translate}}
                          <span class="pull-right"><a class="add" (click)="addDeveloperBank($event)"
                              href="javascript://">{{'addCollection.addNewBankAccount' | translate}}</a></span>
                        </label>
                        <div class="row" *ngFor="let bankAccount of model.legal_rep_banks; let i=index">
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addCollection.bankName' | translate}}</label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" minlength="1" maxlength="30" class="form-control" type="text"
                                [(ngModel)]="bankAccount.bank_name" name="bank_name{{i}}">
                            </div>
                          </div>
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addCollection.accountNumber' | translate}}</label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" class="form-control" type="text" minlength="10" maxlength="20"
                                [pattern]="constant.accountPattern" [(ngModel)]="bankAccount.account_number"
                                name="account_number{{i}}">
                            </div>
                          </div>
                          <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addCollection.clabeSwift' | translate}}</label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" class="form-control" type="text" [(ngModel)]="bankAccount.swift"
                                name="swift{{i}}">
                            </div>
                          </div>
                          <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addCollection.currency' | translate}}</label>
                              <div class="clearfix"></div>
                              <select name="currency_id{{i}}" [(ngModel)]="bankAccount.currency_id"
                                class="form-control">
                                <option value="">{{'addCollection.currency' | translate}}</option>
                                <option value="{{c.id}}" *ngFor="let c of currencies">{{ c?.code }} | {{c?.currency}}
                                </option>
                              </select>
                            </div>
                          </div>
                          <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>Remove</label>
                              <div class="clearfix"></div>
                              <button type="button"
                                (click)="removeDeveloperBank($event, bankAccount, i)">Remove</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-12">
                    <div class="spacer40"></div>
                  </div>
 <!-- //sponose -->
 <div class="white-bg padding40" *ngIf="model?.marital_statuses_id == 2">
  <div class="row">
    <div class="col-3">
      <h3>{{'addForm.add_spouse' | translate}}</h3>
    </div>
    <div class="col-3">
      <label class="switch">
        <input class="switch-input" type="checkbox" [(ngModel)]="model.spouse_status"  [ngModelOptions]="{standalone: true}" [disabled]="model?.marital_statuses_id != 2"/>
        <span class="switch-label" data-on="On" data-off="Off"></span> 
        <span class="switch-handle"></span> 
      </label>
    </div>
    <div class="col-6">
      <div class="btn-cont" style="float: right;">
        <button  (click)="uploadDoc(4)" [disabled]="model?.marital_statuses_id != 2"
          class="btn btn-primary">{{'addForm.documentation' | translate}}</button>
      </div>
    </div>
  </div>
  
  <div class="white-bg padding40" *ngIf="model?.spouse_status == 1">
    <div class="row">
      <div class="col-4">
        <div class="form-group-3">
          <label>{{'addForm.names' | translate}} <span class="color-red">*</span></label>
          <input autocomplete="off" minlength="1" maxlength="30"
            [pattern]="constant.acceptAlphabetNumberAccentscharactersWithWhiteSpace" required type="text"
            class="form-control" [(ngModel)]="model.user_name" name="user_name">
        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label>{{'addForm.firstSurname' | translate}}
            <span class="color-red">*</span>
          </label>
          <input autocomplete="off" minlength="1" maxlength="30"
            [pattern]="constant.acceptAlphabetNumberAccentscharactersWithWhiteSpace" type="text" class="form-control"
            required [(ngModel)]="model.user_first_surname" name="user_first_surname">
        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label>{{'addForm.secondSurname' | translate}}
            <!-- <span class="color-red">*</span> -->
          </label>
          <input autocomplete="off" minlength="1" maxlength="30"
            [pattern]="constant.acceptAlphabetNumberAccentscharactersWithWhiteSpace" type="text" class="form-control"
            [(ngModel)]="model.user_second_surname" name="user_second_surname">
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="spacer40"></div>
    </div>
    <div class="row">
      <div class="col-4">
        <div class="form-group-3">
          <label>{{'addForm.gender' | translate}}</label><br />
          <input type="radio" name="user_gender" value="male" [checked]="isCheckedd('male')"
            (change)="selectGenderUser($event.target.value)">{{'addForm.male' | translate}} &nbsp;&nbsp;
          <input type="radio" name="user_gender" value="female" [checked]="isCheckedd('female')"
            (change)="selectGenderUser($event.target.value)">{{'addForm.female' | translate}}
        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label>{{'addForm.email' | translate}} <span class="color-red">*</span></label>
          <input (keydown.space)="$event.preventDefault();" autocomplete="off" required
            [pattern]="constant.emailPattern" type="email" class="form-control" [(ngModel)]="model.user_email" name="user_email">
        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label>{{'addForm.contact_number' | translate}} <span class="color-red">*</span></label>
          <input minlength="10" maxlength="10" autocomplete="off" type="number" 
          [pattern]="constant.onlyWhiteSpaces"
          class="form-control" id="phone" required [(ngModel)]="model.user_phone" name="user_phone" ng2TelInput
          [ng2TelInputOptions]="initialCountry" (countryChange)="onCountryChange($event,3)" />
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="spacer40"></div>
    </div>

    <div class="row">
      <div class="col-4">
        <div class="form-group-3">
          <label>{{'addForm.dateOfBirth' | translate}}</label>
          <input class="form-control" type="date" name="user_dob" [(ngModel)]="model.user_dob">
        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label>{{'addForm.CURP' | translate}}</label>
          <input (keydown.space)="$event.preventDefault();" autocomplete="off" type="text" minlength="18"
            maxlength="18" class="form-control" [(ngModel)]="model.user_curp" name="user_curp">
        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label>{{'addForm.fedralTaxPayerRegistry' | translate}}</label>
          <input autocomplete="off" minlength="13" maxlength="13" [pattern]="constant.onlyWhiteSpaces" type="text"
            class="form-control" [(ngModel)]="model.user_fed_tax_pay" name="user_fed_tax_pay">
        </div>
      </div>
    </div>

    <div class="col-12">
      <div class="spacer40"></div>
    </div>

    <div class="row">
      <div class="col-4">
        <div class="form-group-3">
          <label class="p16-two">{{'addForm.nacionality' | translate}}</label>
          <select title="Select Nationality" [(ngModel)]="model.user_nationality" name="user_nationality" class="form-control" (change)="this.updateNationalityName($event.target.value)">
            <!-- <option value="-1" disabled>{{'addForm.selectNationality' | translate}}</option> -->
            <option *ngFor="let tempNationalityDetails of nationalityDetails"
              [selected]="tempNationalityDetails.id == model.user_nationality" value="{{tempNationalityDetails.id}}">
              {{tempNationalityDetails.name}}</option>
          </select>
        </div>
      </div>
      <div class="col-4" *ngIf="model.user_nationality == 0">
        <div class="form-group-3">
          <label>{{'addForm.specifyNationality' | translate}}</label>
          <input (keydown.space)="$event.preventDefault();" autocomplete="off" type="text" class="form-control"
            [(ngModel)]="model.nationality_name" name="nationality_name">
        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label class="p16-two">{{'addForm.marital_status' | translate}}</label>
          <select title="Select Marital Status" name="marital_status" class="form-control"
            (change)="getMaritalStatusUser($event.target.value)">
            <option value="0" disabled>{{'addForm.maritalStatus.selectMaritalStatus' | translate}}</option>
            <option *ngFor="let maritalStatus of marrital_status_list"
              [selected]="maritalStatus.id == model.user_marital_statuses_id" value="{{maritalStatus.id}}">{{language_code
              == 'en'? maritalStatus.name_en : maritalStatus.name_es}}</option>
          </select>

        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label class="p16-two">{{'addForm.ocupation' | translate}}</label> 
          <input autocomplete="off" class="form-control" type="text" name="user_ocupation"
           [(ngModel)]="model.user_ocupation">
        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label class="p16-two">{{'addForm.idType' | translate}}</label> 
           <select class="form-control" (change)="selectIdTypes($event.target.value)"
           [(ngModel)]="model.user_id_type">
           <option [selected]="model.user_id_type == 1" value="1">{{'contract.other' | translate}}</option>
           <option [selected]="model.user_id_type == 2" value="2">{{'contract.passport' | translate}}</option>
           <option [selected]="model.user_id_type == 3" value="3">{{'contract.ine' | translate}}</option>
         </select>
        </div>
      </div>
      <div class="col-4">
        <div class="form-group-3">
          <label class="p16-two">{{'addForm.idNumber' | translate}}</label> 
          <input autocomplete="off" class="form-control" type="text" name="user_id_number"
           [(ngModel)]="model.user_id_number">
        </div>
      </div>
    </div>
  </div>

</div>

<div class="col-12">
  <div class="spacer40"></div>
</div>
<!-- ----edit------ -->
                  <div class="white-bg padding40">
                    <h3>{{'addForm.address' | translate}}</h3>
                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>
                    <div class="row">
                      <div class="col-3">
                        <div class="form-group-3">
                          <label>{{'addForm.streetAddress' | translate}}</label>
                          <input type="text" class="form-control" name="street_address"
                            [(ngModel)]="model.street_address" (keyup)="this.onClickUseUserSameAddress()" />
                        </div>
                      </div>
                      <div class="col-sm-3">
                        <div class="form-group-3">
                          <label>{{'addForm.externalNumber' | translate}}</label>
                          <input type="text" class="form-control" name="external_number"
                            [(ngModel)]="model.external_number" (keyup)="this.onClickUseUserSameAddress()" />
                        </div>
                      </div>
                      <div class="col-sm-3">
                        <div class="form-group-3">
                          <label>{{'addForm.internalNumber' | translate}}</label>
                          <input type="text" class="form-control" name="internal_number"
                            [(ngModel)]="model.internal_number" (keyup)="this.onClickUseUserSameAddress()" />
                        </div>
                      </div>
                      <div class="col-3">
                        <div class="form-group-3">
                          <label>{{'addForm.ZIP' | translate}}</label>
                          <input minlength="8" maxlength="15" autocomplete="off" type="text" class="form-control"
                            id="zipcode" minlength="1" [(ngModel)]="model.zipcode" name="zipcode" />
                          <!-- (keyup)="this.getCounrtyByZipcode(false)" -->
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.municipality' | translate}}</label>
                          <input autocomplete="off" type="text"
                            class="form-control" [(ngModel)]="model.municipality" name="municipality"
                            (keyup)="this.onClickUseUserSameAddress()" />
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'filters.location.country' | translate}}</label>
                          <input autocomplete="off" type="text" class="form-control" id="country"
                            [(ngModel)]="model.country" name="country" (keyup)="this.onClickUseUserSameAddress()" />
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'filters.location.state' | translate}}</label>
                          <!-- <input autocomplete="off" type="text" class="form-control" id="state"
                            [(ngModel)]="model.state" name="state" (keyup)="this.onClickUseUserSameAddress()" /> -->
                            <select title="{{'table.title.chooseState' | translate}}" name="state_code_id" class="form-control"
                            (change)="selectState($event.target.value)">
                            <option value="">{{'addForm.location.selectState' | translate}}</option>
                            <option *ngFor="let state of parameter.states" value="{{state.id}}"
                              [selected]="state.id == model.state_code_id">{{state.name_en}}</option>
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'filters.location.city' | translate}}</label>
                          <input autocomplete="off" type="text" class="form-control" id="city" [(ngModel)]="model.city"
                            name="city" (keyup)="this.onClickUseUserSameAddress()" />
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.neighbourhood' | translate}}</label>
                          <input autocomplete="off" type="text" class="form-control" id="neighborhood"
                            [(ngModel)]="model.neighborhood" name="neighborhood" />
                          <!-- <select class="form-control" [(ngModel)]="model.neighborhood" name="neighborhood"
                            (change)="this.onClickUseUserSameAddress()">
                            <option *ngFor="let tempNeighbourhood of model.neighbourhoods" [value]="tempNeighbourhood">
                              {{tempNeighbourhood}}</option>
                          </select> -->
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-12">
                        <div class="form-group-3-2">
                          <label>{{'addForm.address' | translate}}
                          </label>
                          <input placeholder="{{'addForm.placeholder.searchForAddress' | translate}}" autocorrect="off"
                            autocapitalize="off" spellcheck="off" type="text" class="form-control" #search
                            (input)="loadPlaces('developer_address', 'lat', 'lng', 'searchElementRef')"
                            name="developer_address" [(ngModel)]="model.developer_address" autocomplete="off">
                        </div>
                      </div>
                      <div class="col-12">
                        <div class="form-group-3-2">
                          <label>{{'addForm.googleSearchAddress' | translate}}
                            <!-- <span class="color-red">*</span> -->
                          </label>
                          <agm-map class="height200" [latitude]="model.lat" [longitude]="model.lng"
                            [scrollwheel]="false" (mapClick)="placeMarker($event, 'developer_address', 'lat', 'lng')"
                            [zoom]="constant.zoom">
                            <agm-marker [latitude]="model.lat" [longitude]="model.lng"></agm-marker>
                          </agm-map>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-12">
                    <div class="spacer40"></div>
                  </div>

                  <div class="white-bg padding40">
                    <div class="row">
                      <div class="col-2">
                        <h3>{{'addForm.taxAddress' | translate}}</h3>
                      </div>
                      <div class="col-md-4 col-sm-4 col-4">
                        <div class="form-group-3">
                          <div class="form-check">
                            <label class="form-check-label">
                              {{'addForm.useUserSameAddress' | translate}}
                              <input type="checkbox" name="use_user_same_address"
                                [(ngModel)]="model.use_user_same_address" (change)="this.onClickUseUserSameAddress()">
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>
                    <div class="row">
                      <div class="col-3">
                        <div class="form-group-3">
                          <label>{{'addForm.streetAddress' | translate}}</label>
                          <input type="text" class="form-control" name="tax_street_address"
                            [(ngModel)]="model.tax_street_address" />
                        </div>
                      </div>
                      <div class="col-sm-3">
                        <div class="form-group-3">
                          <label>{{'addForm.externalNumber' | translate}}</label>
                          <input type="text" class="form-control" name="tax_external_number"
                            [(ngModel)]="model.tax_external_number" />
                        </div>
                      </div>
                      <div class="col-sm-3">
                        <div class="form-group-3">
                          <label>{{'addForm.internalNumber' | translate}}</label>
                          <input type="text" class="form-control" name="tax_internal_number"
                            [(ngModel)]="model.tax_internal_number" />
                        </div>
                      </div>
                      <div class="col-3">
                        <div class="form-group-3">
                          <label>{{'addForm.ZIP' | translate}}</label>
                          <input minlength="8" maxlength="15" autocomplete="off" type="text" class="form-control"
                            id="zipcode" minlength="1" [(ngModel)]="model.tax_zipcode" name="tax_zipcode" />
                          <!-- (keyup)="this.getCounrtyByZipcode(true)" -->
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.municipality' | translate}}</label>
                          <input  autocomplete="off" type="text"
                            class="form-control" [(ngModel)]="model.tax_municipality" name="tax_municipality">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'filters.location.country' | translate}}</label>
                          <input autocomplete="off" type="text" class="form-control" id="tax_country"
                            [(ngModel)]="model.tax_country" name="tax_country" />
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'filters.location.state' | translate}}</label>
                          <!-- <input autocomplete="off" type="text" class="form-control" id="tax_state"
                            [(ngModel)]="model.tax_state" name="tax_state" /> -->
                            <select title="{{'table.title.chooseState' | translate}}" name="state_tax_code_id" class="form-control"
                            (change)="selecTaxtState($event.target.value)">
                            <option value="">{{'addForm.location.selectState' | translate}}</option>
                            <option *ngFor="let state of parameter.states" value="{{state.id}}"
                              [selected]="state.id == model.state_tax_code_id">{{state.name_en}}</option>
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'filters.location.city' | translate}}</label>
                          <input autocomplete="off" type="text" class="form-control" id="tax_city"
                            [(ngModel)]="model.tax_city" name="tax_city" />
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.neighbourhood' | translate}}</label>
                          <input autocomplete="off" type="text" class="form-control" id="tax_neighbourhood"
                            [(ngModel)]="model.tax_neighbourhood" name="tax_neighbourhood" />
                          <!-- <select class="form-control" [(ngModel)]="model.tax_neighbourhood" name="tax_neighbourhood">
                            <option *ngFor="let temp_tax_neighbourhood of model.tax_neighbourhoods"
                              [value]="temp_tax_neighbourhood">
                              {{temp_tax_neighbourhood}}</option>
                          </select> -->
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-12">
                    <div class="spacer40"></div>
                  </div>

                  <div class="white-bg padding40">
                    <h3>{{'addForm.legalRepresentativeInfo' | translate}}</h3>
                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>
                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.names' | translate}}
                            <!-- <span class="color-red">*</span> -->
                          </label>
                          <input autocomplete="off" minlength="1" maxlength="50"
                            [pattern]="constant.acceptAlphabetNumberAccentscharactersWithWhiteSpace" type="text"
                            class="form-control" [(ngModel)]="model.legal_representative.name" name="name">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.firstSurname' | translate}}
                            <!-- <span class="color-red">*</span> -->
                          </label>
                          <input autocomplete="off" minlength="1" maxlength="30"
                            [pattern]="constant.acceptAlphabetNumberAccentscharactersWithWhiteSpace" type="text"
                            class="form-control" [(ngModel)]="model.legal_representative.first_surname"
                            name="first_surname">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.secondSurname' | translate}}
                            <!-- <span class="color-red">*</span> -->
                          </label>
                          <input autocomplete="off" minlength="1" maxlength="30"
                            [pattern]="constant.acceptAlphabetNumberAccentscharactersWithWhiteSpace" type="text"
                            class="form-control" [(ngModel)]="model.legal_representative.second_surname"
                            name="second_surname">
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.contactNumber' | translate}}</label>
                          <input minlength="8" maxlength="15" autocomplete="off" type="number"
                          [pattern]="constant.onlyWhiteSpaces" class="form-control" id="legal_representative_phone"
                          [(ngModel)]="model.legal_representative.phone" name="legal_representative_phone" ng2TelInput
                          [ng2TelInputOptions]="{ initialCountry: model.legal_representative.country_code }"
                          (countryChange)="onCountryChange($event,2)" />
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.emailId' | translate}}</label>
                          <input (keydown.space)="$event.preventDefault();" autocomplete="off"
                            [pattern]="constant.emailPattern" type="email" class="form-control"
                            [(ngModel)]="model.legal_representative.email" name="rep_email">
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group-3">
                          <label>{{'addForm.fedralTaxPayerRegistry' | translate}}</label>
                          <input autocomplete="off" minlength="13" maxlength="13" [pattern]="constant.onlyWhiteSpaces"
                            type="text" class="form-control" [(ngModel)]="model.legal_representative.fed_tax_pay"
                            name="le_fed_tax_pay">
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <div class="spacer40"></div>
                    </div>

                    <div class="row">
                      <div class="col-12">
                        <label>{{'addCollection.bankAccount' | translate}}
                          <!-- <span class="color-red">*</span> -->
                          <span class="pull-right"><a class="add" (click)="addLegalEntityBank($event)"
                              href="javascript://">{{'addCollection.addNewBankAccount' | translate}}</a></span>
                        </label>
                        <div class="row"
                          *ngFor="let leBankAccount of model.legal_representative.legal_rep_banks; let i=index">
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addCollection.bankName' | translate}}</label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" minlength="1" maxlength="30" class="form-control" type="text"
                                [(ngModel)]="leBankAccount.bank_name" name="le_bank_name{{i}}">
                            </div>
                          </div>
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addCollection.accountNumber' | translate}}</label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" class="form-control" type="text" minlength="9" maxlength="20"
                                [pattern]="constant.accountPattern" [(ngModel)]="leBankAccount.account_number"
                                name="le_account_number{{i}}">
                            </div>
                          </div>
                          <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addCollection.clabeSwift' | translate}}</label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" class="form-control" type="text"
                                [(ngModel)]="leBankAccount.swift" name="le_swift{{i}}">
                            </div>
                          </div>
                          <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addCollection.currency' | translate}}</label>
                              <div class="clearfix"></div>
                              <select name="le_currency_id{{i}}" [(ngModel)]="leBankAccount.currency_id"
                                class="form-control">
                                <option value="">{{'addCollection.currency' | translate}}</option>
                                <option value="{{c.id}}" *ngFor="let c of currencies">{{ c?.code }} | {{c?.currency}}
                                </option>
                              </select>
                            </div>
                          </div>
                          <div class="col-lg-2 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addCollection.remove' | translate}}</label>
                              <div class="clearfix"></div>
                              <button type="button"
                                (click)="removeLegalEntityBank($event, leBankAccount, i)">{{'addCollection.remove'
                                |
                                translate}}</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="spacer40"></div>
                  </div>

                  <form role="form" ngNativeValidate #addForm="ngForm">
                    <div class="white-bg padding40">
                      <!-- Beneficiaries -->
                      <div class="row">
                        <div class="col-md-12">
                          <h5 style="color: black;font-weight: bold;">{{beneficiary.id ? ('creditForm.editBeneficiaries'
                            | translate) : ('creditForm.AddBeneficiaries' | translate)}}</h5>
                        </div>
                        <!-- <div class="col-md-2">
                          <div class="btn-cont">
                            <button *ngIf="model?.id" (click)="uploadDoc('beneficiary')" [disabled]="beneficiary.id ? false : true"
                              class="btn btn-primary">{{'addForm.documentation' | translate}}</button>
                          </div>
                        </div> -->
                      </div>
                      <!-- <h5 style="color: black;font-weight: bold;">
                          {{beneficiary.id ? ('creditForm.editBeneficiaries' | translate) : ('creditForm.AddBeneficiaries' | translate)}}
                         </h5> -->
                      <div class="row">
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.names' | translate}} <span class="color-red">*</span></label>
                            <div class="clearfix"></div>
                            <input autocomplete="off" class="form-control" type="text" name="beneficiary_name"
                              [(ngModel)]="beneficiary.beneficiary_name">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.firstSurname' | translate}}</label>
                            <div class="clearfix"></div>
                            <input autocomplete="off" class="form-control" type="text" name="beneficiary_firstSurname"
                              [(ngModel)]="beneficiary.beneficiary_firstSurname">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.secondSurname' | translate}}</label>
                            <div class="clearfix"></div>
                            <input autocomplete="off" class="form-control" type="text" name="beneficiary_secondSurname"
                              [(ngModel)]="beneficiary.beneficiary_secondSurname">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <div>
                              <label>{{'creditForm.RELATIONSHIP' | translate}}</label>
                              <select title="{{'creditForm.selectRELATIONSHIP' | translate}}" class="form-control"
                                name="beneficiary_relationship" [(ngModel)]="beneficiary.beneficiary_relationship">
                                <option disabled selected value="undefined">{{'creditForm.selectRELATIONSHIP' |
                                  translate}}
                                </option>
                                <option *ngFor="let dest of Relationship_list" [value]="dest.id">
                                  {{language_code
                                  == 'en'? dest.name_en : dest.name_es}}</option>
                              </select>

                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.dateOfBirth' | translate}}</label>
                            <input class="form-control" type="date" name="beneficiary_dob" [max]="toDayDate"
                              [(ngModel)]="beneficiary.beneficiary_dob" (ngModelChange)="ageFromDateOfBirthday($event)">
                          </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.address' | translate}}</label>
                            <input autocomplete="off" class="form-control" type="text" name="beneficiary_address"
                              [(ngModel)]="beneficiary.beneficiary_address">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.phone' | translate}} </label>
                            <div class="clearfix"></div>
                            <input minlength="8" maxlength="15" autocomplete="off" type="number"
                            [pattern]="constant.onlyWhiteSpaces" class="form-control" id="phone"
                            [(ngModel)]="beneficiary.beneficiary_phone" name="beneficiary_phone" ng2TelInput
                            [ng2TelInputOptions]="{ initialCountry: model.country_code }"
                            (countryChange)="onCountryChange($event,1)" />
                            <!-- <input  autocomplete="off" class="form-control" type="text" name="beneficiary_phone"
                              [(ngModel)]="beneficiary.beneficiary_phone"> -->
                          </div>
                        </div>

                      </div>
                      <div class="row">
                        <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.email' | translate}} </label>
                            <div class="clearfix"></div>
                            <input autocomplete="off" class="form-control" type="email" name="beneficiary_email"
                              [(ngModel)]="beneficiary.beneficiary_email">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.CURP' | translate}}</label>
                            <input (keydown.space)="$event.preventDefault();" autocomplete="off" type="text"
                              minlength="18" maxlength="18" class="form-control" [(ngModel)]="beneficiary.curp"
                              name="beneficiary_curp">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.fedralTaxPayerRegistry' | translate}}</label>
                            <input autocomplete="off" minlength="13" maxlength="13" [pattern]="constant.onlyWhiteSpaces"
                              type="text" class="form-control" [(ngModel)]="beneficiary.fedtax_pay"
                              name="beneficiary_fedTaxPay">
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label class="p16-two">{{'addForm.nacionality' | translate}}</label>
                            <select title="Select Nationality" [(ngModel)]="beneficiary.nationality" name="nationality"
                              class="form-control"
                              (change)="this.updateBeneficiaryNationalityName($event.target.value)">
                              <option *ngFor="let tempNationalityDetails of nationalityDetails"
                                [selected]="tempNationalityDetails.id == beneficiary.nationality"
                                value="{{tempNationalityDetails.id}}">
                                {{tempNationalityDetails.name}}</option>
                            </select>
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-6 col-12" *ngIf="beneficiary.nationality == 0">
                          <div class="form-group-3">
                            <label>{{'addForm.specifyNationality' | translate}}</label>
                            <input (keydown.space)="$event.preventDefault();" autocomplete="off" type="text"
                              class="form-control" [(ngModel)]="beneficiary.nationality_name" name="nationality_name">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label class="p16-two">{{'addForm.marital_status' | translate}}</label>
                            <select title="{{'addForm.maritalStatus.selectMaritalStatus' | translate}}"
                              name="beneficiary_maritalStatusesId" class="form-control"
                              [(ngModel)]="beneficiary.marital_status">
                              <option value="0" disabled>{{'addForm.maritalStatus.selectMaritalStatus' | translate}}
                              </option>
                              <option *ngFor="let maritalStatus of marrital_status_bene"
                                [selected]="maritalStatus.id == beneficiary.marital_status"
                                value="{{maritalStatus.id}}">{{language_code
                                == 'en'? maritalStatus.name_en : maritalStatus.name_es}}</option>
                            </select>
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                          <div class="form-group-3">
                            <label>{{'addForm.gender' | translate}}</label><br />
                            <input type="radio" name="beneficiary_gender" value="male"
                              [checked]="isCheckedBeneficiaryGender('male')"
                              [(ngModel)]="beneficiary.gender">{{'addForm.male' | translate}} &nbsp;&nbsp;
                            <input type="radio" name="beneficiary_gender" value="female"
                              [checked]="isCheckedBeneficiaryGender('female')"
                              [(ngModel)]="beneficiary.gender">{{'addForm.female' | translate}}
                          </div>
                        </div>
                      </div>
                      <div class="col-12">
                        <div class="spacer40"></div>
                      </div>
                      <!-- Tutor -->
                      <div class="white-bg padding40" *ngIf="age< 18">
                        <div class="row">
                          <div class="col-md-12">
                            <h5 style="color: black;font-weight: bold;">{{'addCollection.Tutor' | translate}}</h5>
                          </div>
                          <!-- <div class="col-md-2">
                              <div class="btn-cont">
                                <button *ngIf="model?.id" (click)="uploadDoc('tutor')" [disabled]="beneficiary.id ? false : true"
                                  class="btn btn-primary">{{'addForm.documentation' | translate}}</button>
                              </div>
                            </div> -->
                        </div>
                        <!-- <h5 style="color: black;font-weight: bold;">{{'addCollection.Tutor' | translate}}</h5> -->
                        <div class="row">
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addForm.names' | translate}} <span class="color-red">*</span></label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" class="form-control" type="text" name="tutor_name"
                                [(ngModel)]="beneficiary.tutor.tutor_name">
                            </div>
                          </div>
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addForm.firstSurname' | translate}}</label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" class="form-control" type="text" name="tutor_firstSurname"
                                [(ngModel)]="beneficiary.tutor.tutor_firstSurname">
                            </div>
                          </div>
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addForm.secondSurname' | translate}}</label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" class="form-control" type="text" name="tutor_secondSurname"
                                [(ngModel)]="beneficiary.tutor.tutor_secondSurname">
                            </div>
                          </div>
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <div>
                                <label>{{'creditForm.RELATIONSHIP' | translate}}</label>
                                <select title="{{'creditForm.selectRELATIONSHIP' | translate}}" class="form-control"
                                  name="tutor_relationship" [(ngModel)]="beneficiary.tutor.tutor_relationship">
                                  <option disabled selected value="undefined">{{'creditForm.selectRELATIONSHIP' |
                                    translate}}
                                  </option>
                                  <option *ngFor="let dest of Relationship_list" [value]="dest.id">
                                    {{language_code
                                    == 'en'? dest.name_en : dest.name_es}}</option>
                                </select>

                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addForm.dateOfBirth' | translate}}</label>
                              <input class="form-control" type="date" name="tutor_dob" [max]="toDayDate"
                                [(ngModel)]="beneficiary.tutor.tutor_dob">
                            </div>
                          </div>
                          <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addForm.address' | translate}}</label>
                              <input autocomplete="off" class="form-control" type="text" name="tutor_address"
                                [(ngModel)]="beneficiary.tutor.tutor_address">
                            </div>
                          </div>
                          <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addForm.phone' | translate}} </label>
                              <div class="clearfix"></div>
                              <input minlength="8" maxlength="15" autocomplete="off" type="number"
                              [pattern]="constant.onlyWhiteSpaces" class="form-control" id="phone"
                                [(ngModel)]="beneficiary.tutor.tutor_phone" name="tutor_phone" ng2TelInput
                                [ng2TelInputOptions]="{ initialCountry: model.country_code }"
                                (countryChange)="onCountryChange($event,1)" />
                              <!-- <input  autocomplete="off" class="form-control" type="text" name="tutor_phone"
                                [(ngModel)]="beneficiary.tutor.tutor_phone"> -->
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label>{{'addForm.email' | translate}} </label>
                              <div class="clearfix"></div>
                              <input autocomplete="off" class="form-control" type="email" name="tutor_email"
                                [(ngModel)]="beneficiary.tutor.tutor_email">
                            </div>
                          </div>
                          <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                            <div class="form-group-3">
                              <label class="p16-two">{{'addForm.nacionality' | translate}}</label>
                              <select title="Select Nationality" [(ngModel)]="beneficiary.tutor.tutor_nationality"
                                name="tutor_nationality" class="form-control"
                                (change)="this.updateTutorNationalityName($event.target.value)">
                                <option *ngFor="let tempNationalityDetails of nationalityDetails"
                                  [selected]="tempNationalityDetails.id == beneficiary.tutor.tutor_nationality"
                                  value="{{tempNationalityDetails.id}}">
                                  {{tempNationalityDetails.name}}</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-lg-4 col-md-6 col-sm-6 col-12"
                            *ngIf="beneficiary.tutor.tutor_nationality == 0">
                            <div class="form-group-3">
                              <label>{{'addForm.specifyNationality' | translate}}</label>
                              <input (keydown.space)="$event.preventDefault();" autocomplete="off" type="text"
                                class="form-control" [(ngModel)]="beneficiary.tutor.tutor_nationality_name"
                                name="tutor_nationality_name">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="spacer15"></div>
                    <div class="row">
                      <div class="col-12">
                        <div class="btn-cont text-right">
                          <button class="btn btn-primary" [disabled]="hasErrorBeneficiary()" type="button"
                            (click)="addBeneficiary()">
                            {{'creditForm.saveBeneficiaries' | translate}}
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="spacer15"></div>
                    <div class="white-bg padding40">
                      <h5 style="color: black;font-weight: bold;">{{'creditForm.ListBeneficiaries' | translate}}</h5>
                      <div class="col-12">
                        <div class="spacer40"></div>
                      </div>
                      <table class="table">
                        <thead class="thead-light">
                          <tr>
                            <th style="color: black;">{{'creditForm.id' | translate}}</th>
                            <th style="color: black;">{{'addCollection.beneficiaryNames' | translate}}:</th>
                            <th style="color: black;">{{'addCollection.tutorNames' | translate}}:</th>
                            <th style="color: black;">{{'creditForm.RELATIONSHIP' | translate}}:</th>
                            <th style="color: black;">{{'creditForm.age' | translate}}:</th>
                            <th style="color: black;">{{'addCollection.edit' | translate}}</th>
                            <th style="color: black;">{{'addCollection.delete' | translate}}</th>
                            <th style="color: black;">{{'addCollection.beneficiaryDocumentation' | translate}}:</th>
                            <th style="color: black;">{{'addCollection.tutorDocumentation' | translate}}:</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let beneficiary of beneficiary_list; let i=index">
                            <td>{{(i+1)}}</td>
                            <td>{{beneficiary?.beneficiary_name ? this.getBeneficiaryText(beneficiary) :
                              ('table.tr.td.NA' | translate)}}</td>
                            <td>{{beneficiary?.tutor?.tutor_name ? this.getTutorText(beneficiary) : ('table.tr.td.NA' |
                              translate)}}</td>
                            <td>{{beneficiary?.beneficiary_relationship ?
                              this.getAccountTypeText(beneficiary?.beneficiary_relationship) : ('table.tr.td.NA' |
                              translate)}}
                            </td>
                            <td>
                              {{beneficiary?.beneficiary_dob ? ageFromDateOfBirthday2(beneficiary?.beneficiary_dob) :
                              ('table.tr.td.NA' | translate)}}</td>
                            <td>
                              <button class="action-icon" title="{{'addCollection.edit' | translate}}"
                                (click)="editBeneficiary(beneficiary,i)">
                                <img src="assets/img/edit.png" alt="img">
                              </button>
                            </td>
                            <td>
                              <button class="action-icon" title="{{'addCollection.delete' | translate}}"
                                (click)="deletePopup(beneficiary,i)">
                                <img src="assets/img/ic_delete.png" alt="img">
                              </button>
                            </td>
                            <td>
                              <button class="action-icon"
                                title="{{'addCollection.beneficiaryDocumentation' | translate}}"
                                (click)="uploadDoc(2,beneficiary)" [disabled]="beneficiary?.id ? false : true ">
                                <i class="fa fa-file-o" aria-hidden="true"></i>
                              </button>
                            </td>
                            <td>
                              <button class="action-icon" title="{{'addCollection.tutorDocumentation' | translate}}"
                                (click)="uploadDoc(3,beneficiary)"
                                [disabled]="beneficiary?.tutor?.tutor_name ? false : true ">
                                <i class="fa fa-file-o" aria-hidden="true"></i>
                              </button>
                            </td>
                          </tr>
                          <tr *ngIf="beneficiary_list?.length == 0">
                            <th colspan="9" style="text-align: center;">{{'message.error.noRecordFound' | translate}}
                            </th>
                          </tr>
                        </tbody>
                      </table>

                    </div>

                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- space -->
    <div class="col-12">
      <div class="spacer40"></div>
    </div>
    <!-- space -->
    <!-- Street Address,External Number,Internal Number,Neighborhood,Municipality,City,ZIP code,State,Address -->

  </form>