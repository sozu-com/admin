<div class="spacer30"></div>
<div class="row">
  <div class="col-6">
    <p class="p16">{{'commonBlock.interestedProjects' | translate}}</p>
  </div>
  <div class="col-6">
    <div class="btn-cont text-right">
      <a style="display: none;" data-toggle="modal" #showProjectModal data-target="#view-viewed-projects"
        class="btn btn-fourth" href="javascript://">{{'commonBlock.viewAll' | translate}}</a>
      <a *ngIf="viewed_projects?.length>1" class="btn btn-fourth" href="javascript://"
        (click)="viewProjects(viewed_properties, 1, user_id)">{{'commonBlock.viewAll' | translate}}</a>
    </div>
  </div>
</div>

<div class="spacer15"></div>
<div class="row" *ngIf="viewed_projects?.length>0">
  <div class="col-lg-6 col-md-12 col-sm-12 col-12" *ngFor="let data of viewed_projects; let in=index">

    <div *ngIf="data && in<2" class="project-des-bx white-bg">
      <!-- <div class="price">{{data.starting_price|thousand}}+</div> -->
      <div class="fig-block">
        <img [src]="data.building.main_image| img:'thumb'" onerror='src="assets/img/placeholder-img.png"' alt="img">
      </div>
      <div class="project-des-content">
        <small>{{data?.created_at | date}}</small><br>
        <small title="Developer">{{data?.building?.developer?.name ? data?.building?.developer?.name : ('commonBlock.NA' | translate)}}</small>
        <a title="Building Name" routerLink="/dashboard/projects/details/{{data.building.id}}">
          <h5>{{data.building.name.slice(0, 35)}}</h5>
        </a>
        <p class="p12">{{data.building.address.slice(0, 90)}}</p>

        <p class="p13" title="Configurations">
          <span *ngFor="let conf1 of data.building.configurations; let k=index">
            <!-- {{conf1.config.name}} -->
            {{conf1?.name ? conf1?.name : conf1?.config?.name}}
            <span *ngIf="k<data?.building?.configurations?.length-1">,</span>
          </span>
          <span *ngIf="data.building.configurations?.length==0">NA</span>
        </p>
        <p class="p13"><strong>{{data.building.starting_price|price}}</strong></p>
      </div>
    </div>

  </div>
</div>
<div *ngIf="!viewed_projects || viewed_projects?.length == 0">
  <p class="show-not-found">
      {{'message.error.noInterstedPropertyFound' | translate}}
  </p>
</div>


<!-- show viewed_projects -->
<div class="modal" id="view-viewed-projects">
  <div class="modal-dialog  modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <h3>{{'commonBlock.viewedProjects' | translate}}</h3>
        <hr>
        <pagination-controls id="v-projects-1" class="my-pagination" (pageChange)="getPage($event)">
        </pagination-controls>
        <div class="scrollbox fav-prop" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
          <div class="row">
            <div class="col-lg-6 col-md-12 col-sm-12 col-12"
              *ngFor="let x of parameter.interested_projects| paginate: {id:'v-projects-1', itemsPerPage: parameter.itemsPerPage, currentPage: parameter.page, totalItems: parameter.total }; let in=index">
              <div class="project-des-bx white-bg-2">
                <!-- <div class="price">{{x.starting_price|thousand}}+</div> -->
                <div class="fig-block">
                  <img [src]="x?.building?.main_image| img:'thumb'" onerror='src="assets/img/bank.png"' alt="img">
                </div>
                <div class="project-des-content">
                  <small title="Developer">{{x?.building?.developer?.name ? x?.building?.developer?.name.slice(0, 15) : ('commonBlock.NA' | translate)}}</small>
                  <a title="Building Name" routerLink="/dashboard/projects/details/{{x.id}}">
                    <h5>{{x?.building?.name.slice(0, 15)}}</h5>
                  </a>
                  <p class="p12">{{x?.building?.address.slice(0, 35)}}</p>
                  <p class="p13">
                    <span *ngFor="let conf of x?.building?.configurations; let ii=index">
                      {{conf.name ? conf.name : conf.config.name}}<span *ngIf="ii<x?.building?.configurations?.length-1">,</span>
                    </span>
                    <span *ngIf="x?.building?.configurations?.length==0">{{'commonBlock.NA' | translate}}</span>
                  </p>
                  <p class="p13">{{x?.building?.starting_price|price}}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>