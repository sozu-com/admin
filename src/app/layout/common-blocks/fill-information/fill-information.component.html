<div class="white-bg padding15">
    <p class="p16 marginB0">{{'commonBlock.fillInInformation' | translate}}</p>
</div>

<hr class="margin0" *ngIf="leadData">

<!-- <div class="white-bg padding40 fill-info" malihu-scrollbar [scrollbarOptions]="scrollbarOptions"> -->
        <div class="white-bg padding40 fill-info" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">

    <div class="form-group-5">
        <label>{{'commonBlock.whatYouAreLookingFor' | translate}}</label>
        <div class="clearfix"></div>
        <label class="cust-radio">
            <input [disabled]="sent_as==2" name="looking_for" type="radio" (change)="leadData.prefs.looking_for = 1"
                [checked]="leadData.prefs.looking_for == 1 ?'checked':''">
            <span class="checkmark">{{'leadDetails.buy' | translate}}</span>
        </label>
        <label class="cust-radio">
            <input [disabled]="sent_as==2" name="looking_for" type="radio" (change)="leadData.prefs.looking_for = 2"
                [checked]="leadData.prefs.looking_for == 2 ?'checked':''">
            <span class="checkmark">{{'commonBlock.rent' | translate}}</span>
        </label>
        <div class="clearfix"></div>
    </div>

    <div class="form-group-5 marginT20">
        <label>{{'commonBlock.configuration' | translate}}</label>
        <div class="clearfix"></div>
        <p class="p10">{{'commonBlock.iWouldLikeToKnwMoreAbtYou' | translate}}</p>

        <p class="p11">{{'commonBlock.bedroom' | translate}}</p>
        <label class="cust-radio" *ngFor="let count of configurationCount">
            <input [disabled]="sent_as==2" name="bedroom" type="radio" (change)="setPrefValue('bedroom', count)"
                [checked]="leadData.prefs.bedroom == count ?'checked':''">
            <span class="checkmark">{{count}}</span>
        </label>
        <div class="clearfix"></div>

        <p class="p11">{{'commonBlock.bathroom' | translate}}</p>
        <label class="cust-radio" *ngFor="let count of configurationCount">
            <input [disabled]="sent_as==2" name="bathroom" type="radio" (change)="setPrefValue('bathroom', count)"
                [checked]="leadData.prefs.bathroom == count ?'checked':''">
            <span class="checkmark">{{count}}</span>
        </label>
        <div class="clearfix"></div>

        <p class="p11">{{'commonBlock.halfBathroom' | translate}}</p>
        <label class="cust-radio" *ngFor="let count of configurationCount">
            <input [disabled]="sent_as==2" name="half_bathroom" type="radio" (change)="setPrefValue('half_bathroom', count)"
                [checked]="leadData.prefs.half_bathroom == count ?'checked':''">
            <span class="checkmark">{{count}}</span>
        </label>
        <div class="clearfix"></div>
    </div>

    <div class="form-group-4 marginT20">
        <label>{{'commonBlock.priceExpectations' | translate}}</label>
        <div class="row">
            <div class="col-md-4 col-sm-12 col-12">
                <!-- <div class="form-group-3 eca">
                    <span class="input-group-addon">$</span>
                    <input class="form-control" type="number" name="min_price" [(ngModel)]="leadData.prefs.min_price">
                </div> -->
                <div class="input-group m-b">
                    <span class="input-group-addon marginR2">$</span>
                    <input [disabled]="sent_as==2" class="form-control" type="number" name="min_price" [(ngModel)]="leadData.prefs.min_price">
                </div>
            </div>
            <div class="col-md-2 col-sm-12 col-12">
                {{'commonBlock.to' | translate}}
            </div>
            <div class="col-md-4 col-sm-12 col-12">
                <div class="input-group m-b">
                    <span class="input-group-addon marginR2">$</span>
                    <input [disabled]="sent_as==2" class="form-control" type="number" name="max_price" [(ngModel)]="leadData.prefs.max_price">
                </div>
                <!-- <div class="form-group-3 eap">
                    <span class="input-group-addon">$</span>
                    <input class="form-control" type="number" name="max_price" [(ngModel)]="leadData.prefs.max_price">
                </div> -->
            </div>
        </div>
    </div>

    <div class="form-group-5 marginT20">
        <label>{{'commonBlock.whatTypeOfPropertyYouAreLookingFor' | translate}}</label>
        <div class="clearfix"></div>
        <label class="cust-radio" *ngFor="let property_type of leadData.buyer_property_type; let i=index">
            <input [disabled]="sent_as==2" type="checkbox" (click)="setValue('buyer_property_type', i)"
                [checked]="property_type.is_selected == 0 ? '' : 'checked'" name="radio1">
            <span class="checkmark">{{property_type.name}}</span>
        </label>
        <div class="clearfix"></div>
    </div>

    <div class="form-group-5 marginT20">
        <label>{{'commonBlock.expectedAmenity' | translate}}</label>
        <div class="clearfix"></div>
        
        <ng-multiselect-dropdown [disabled]="sent_as==2" class="section-section2" *ngIf="leadData.buyer_amenities"
            [placeholder]="'Choose Amenities'"
            [data]="allAmenities"
            [(ngModel)]="selectedAmenities"
            [settings]="dropdownSettings"
            (onDeSelect)="onItemDeSelect($event)"
            (onSelect)="onItemSelect($event)"
            (onSelectAll)="onSelectAll($event)">
        </ng-multiselect-dropdown>
        <div class="clearfix"></div>
    </div>

    <div class="form-group-5 marginT20">
        <label>{{'commonBlock.closeProximity' | translate}}</label>
        <div class="clearfix"></div>
        <label class="cust-radio" *ngFor="let proximity_place of leadData.buyer_proximity; let i=index">
            <input [disabled]="sent_as==2" type="checkbox" (click)="setValue('buyer_proximity', i)"
                [checked]="proximity_place.is_selected == 0 ? '' : 'checked'" name="radio3">
            <span class="checkmark">{{proximity_place.name}}</span>
        </label>
        <label class="cust-radio">
            <input [disabled]="sent_as==2" type="checkbox" (click)="setProximityValue($event, showOtherTextBox ? false : true)"
                [checked]="showOtherTextBox ? 'checked' : ''" name="radio3">
            <span class="checkmark">{{'commonBlock.other' | translate}}</span>
        </label>
        <textarea [disabled]="sent_as==2" *ngIf="showOtherTextBox" [(ngModel)]="leadData.prefs.proximity_other" class="form-control" rows="3" name="proximity_other">{{leadData.prefs.proximity_other}}</textarea>
        <div class="clearfix"></div>
    </div>

    <div class="form-group-5 marginT20">
        <label>{{'commonBlock.carsYouHave' | translate}}</label>
        <div class="clearfix"></div>
        <label class="cust-radio" *ngFor="let car_type of leadData.buyer_car_type; let i=index">
            <input [disabled]="sent_as==2" type="radio" (click)="setCarType(car_type.id)"
                [checked]="car_type.is_selected == 0 ? '' : 'checked'" name="radio4">
            <span class="checkmark">{{car_type.name}}</span>
        </label>
        <div class="clearfix"></div>
    </div>

    <div class="form-group-5 marginT20">
        <label>{{'commonBlock.familySize' | translate}}</label> <br>
        <label class="cust-radio" *ngFor="let count of configurationCount">
            <input [disabled]="sent_as==2" name="family_size" type="radio" (change)="setPrefValue('family_size', count)"
                [checked]="leadData.prefs.family_size == count ?'checked':''">
            <span class="checkmark">{{count}}</span>
        </label>
        <div class="clearfix"></div>
    </div>

    <div class="inline-form-group-2 marginT20">
        <div class="row">
            <div class="col-6"><label class="float-left">{{'commonBlock.doYouHavePets' | translate}}</label></div>
            <div class="col-5">
                <label class="cust-check-bx">
                    <input [disabled]="sent_as==2" type="checkbox" value="{{leadData.prefs.pets == 1 ? 'true' : 'false'}}" [(ngModel)]="leadData.prefs.pets"
                        name="pets">
                    <span class="checkmark"></span>
                </label>
            </div>
        </div>
    </div>

    <div class="inline-form-group-2 marginT20">
        <div class="row">
            <div class="col-6"><label class="float-left">{{'commonBlock.doYouHaveKids' | translate}}</label></div>
            <div class="col-5">
                <label class="cust-check-bx">
                    <input [disabled]="sent_as==2" type="checkbox" value="{{leadData.prefs.kid_count == 1 ? 'true' : 'false'}}"
                        [(ngModel)]="leadData.prefs.kid_count" name="kid_count">
                    <span class="checkmark"></span>
                </label>
            </div>
        </div>
    </div>

    <div class="form-group-5 date-picker marginT20">
        <label>{{'commonBlock.planningDate' | translate}}</label>
        <div class="clearfix"></div>
        <p-calendar [disabled]="sent_as==2" [locale]="locale" showIcon="true" (onSelect)="onSelect($event)" [(ngModel)]="leadData.prefs.planning_to_buy"
            showButtonBar="true" [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030"></p-calendar>
        <div class="clearfix"></div>
    </div>

    <!-- <div class="form-group-5 marginT20" *ngIf="leadData.prefs.looking_for==1">
        <label>How do you plan to do your payment?</label>
        <div class="clearfix"></div>
        <label class="cust-radio" *ngFor="let payment_mode of leadData.payment_modes; let i=index">
            <input type="radio" (click)="setPaymentMode(payment_mode.id)"
                [checked]="payment_mode.is_selected == 0 ? '' : 'checked'" name="radio3">
            <span class="checkmark">{{payment_mode.name}}</span>
        </label>
        <div class="clearfix"></div>
    </div> -->

    <div class="form-group-5 marginT20" *ngIf="leadData.prefs.looking_for==1">
        <label>{{'commonBlock.youAreLookingFor' | translate}}</label>
        <div class="clearfix"></div>
        <label class="cust-radio" *ngFor="let property_purpose of leadData.property_purposes; let i=index">
            <input [disabled]="sent_as==2" type="checkbox" (click)="setValue('property_purposes', i)"
                [checked]="property_purpose.is_selected == 0 ? '' : 'checked'" name="radio3">
            <span class="checkmark">{{property_purpose.name}}</span>
        </label>
        <div class="clearfix"></div>
    </div>
    
    
    <div class="btn-cont text-right">
        <button *ngIf="sent_as!=2" [disabled]="(sent_as==constant.userType.csr_buyer && (admin?.admin_acl['Buyer Lead Management']?.can_update==0 || admin?.permissions?.can_csr_buyer==0)) ||
                            (sent_as==constant.userType.inhouse_broker && (admin?.admin_acl['Broker Lead Management']?.can_update==0 || admin?.permissions?.can_in_house_broker==0))"
            type="button" class="btn btn-primary" (click)="addPreferences()">{{'commonBlock.save' | translate}}</button>
    </div>
</div>





<!-- <div class="white-bg padding15">
    <p class="p16 marginB0">Fill in Information</p>
</div>
<hr class="margin0" *ngIf="leadData">
<div class="white-bg padding40 fill-info" malihu-scrollbar [scrollbarOptions]="scrollbarOptions">
    <div class="form-group-4">
        <label>Close proximity needed to</label>
        <div class="clearfix"></div>
        <label class="cust-radio" *ngFor="let proximity_place of leadData.proximity_places_array; let i=index">
            <input type="checkbox" (click)="setValue('proximity_places_array', i)"
                [checked]="proximity_place.is_selected == 0 ? '' : 'checked'" name="radio3">
            <span class="checkmark">{{proximity_place.name}}</span>
        </label>
        <div class="clearfix"></div>
    </div>
    <div class="form-group-4 marginT20"></div>
    <div class="row">
        <div class="col-sm-12 col-12">
            <div class="form-group-4">
                <label>Family Size</label>
                <input min="1" class="form-control" [(ngModel)]="leadData.family_size" type="number" name="family_size">
            </div>
        </div>
    </div>
    <div class="inline-form-group-2 marginT20">
        <div class="row">
            <div class="col-6"><label class="float-left">Do you have pets?</label></div>
            <div class="col-5">
                <label class="cust-check-bx">
                    <input type="checkbox" value="{{leadData.pets == 1 ? 'true' : 'false'}}" [(ngModel)]="leadData.pets"
                        name="pets">
                    <span class="checkmark"></span>
                </label>
            </div>
        </div>
    </div>
    <div class="inline-form-group-2 marginT20">
        <div class="row">
            <div class="col-6"><label class="float-left">Do you have kids?</label></div>
            <div class="col-5">
                <label class="cust-check-bx">
                    <input type="checkbox" value="{{leadData.kid_count == 1 ? 'true' : 'false'}}"
                        [(ngModel)]="leadData.kid_count" name="kid_count">
                    <span class="checkmark"></span>
                </label>
            </div>
        </div>
    </div>
    <div class="form-group-4 marginT20">
        <div class="row">
            <div class="col-sm-12 col-12">
                <div class="form-group-4">
                    <label>Price range</label>
                    <nouislider *ngIf="leadData.price_range" name="price_range" [connect]="true"
                        [min]="constant.minValue" [max]="constant.maxValue" [step]="constant.steps" [tooltips]="true"
                        [(ngModel)]="leadData.price_range"></nouislider>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group-4 date-picker marginT20">
        <label>How soon planning to buy/rent</label>
        <div class="clearfix"></div>
        <p-calendar showIcon="true" (onSelect)="onSelect($event)" [(ngModel)]="leadData.planning_to_buy"
            showButtonBar="true" [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030"></p-calendar>
        <div class="clearfix"></div>
    </div>
    <div class="form-group-4 marginT20">
        <label>Number of Cars</label>
        <div class="clearfix"></div>
        <label class="cust-radio" *ngFor="let car_type of leadData.car_types; let i=index">
            <input type="radio" (click)="setCarType('car_types', i, car_type.id)"
                [checked]="car_type.is_selected == 0 ? '' : 'checked'" name="radio4">
            <span class="checkmark">{{car_type.name}}</span>
        </label>
        <div class="clearfix"></div>
    </div>
    <div class="form-group-4 marginT20">
        <label>Configuration</label>
        <div class="clearfix"></div>
        <label class="cust-radio" *ngFor="let configuration of leadData.configurations_array; let i=index">
            <input type="checkbox" (click)="setValue('configurations_array', i)"
                [checked]="configuration.is_selected == 0 ? '' : 'checked'" name="radio2">
            <span class="checkmark">{{configuration.name}}</span>
        </label>
        <div class="clearfix"></div>
    </div>
    <div class="form-group-4 marginT20">
        <label>Property Type</label>
        <div class="clearfix"></div>
        <label class="cust-radio" *ngFor="let property_type of leadData.property_types_array; let i=index">
            <input type="checkbox" (click)="setValue('property_types_array', i)"
                [checked]="property_type.is_selected == 0 ? '' : 'checked'" name="radio1">
            <span class="checkmark">{{property_type.name}}</span>
        </label>
        <div class="clearfix"></div>
    </div>


    <div class="btn-cont text-right">

        <button
            [disabled]="(sent_as==constant.userType.csr_buyer && (admin?.admin_acl['Buyer Lead Management']?.can_update==0 || admin?.permissions?.can_csr_buyer==0)) ||
                            (sent_as==constant.userType.inhouse_broker && (admin?.admin_acl['Broker Lead Management']?.can_update==0 || admin?.permissions?.can_in_house_broker==0))"
            type="button" class="btn btn-primary" (click)="addPreferences()">Save</button>
    </div>

</div> -->