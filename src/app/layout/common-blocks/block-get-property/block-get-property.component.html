<!-- add property to interested_properties -->
<a class="btn btn-fourth" #showPropertyWithSearchModal href="javascript://" data-toggle="modal" data-target="#add-property"></a>
<div *ngIf="location?.countries" class="modal" id="add-property">
  <div class="modal-dialog modal-lg">
    <div class="modal-content notary-avail">
        <div class="modal-header popup-header">
          <h4 class="modal-title">{{'commonBlock.propertiesAvailable' | translate}}</h4>
          <button type="button" class="close" data-dismiss="modal" #hidePropertyWithSearchModal>&times;</button>
        </div>
        <div class="modal-body">
            <div class="row">
                
                <div class="col-3">
                    <div class="form-group">
                    <label>{{'filters.location.country' | translate}}</label>
                    <select class="form-control" (change)="onCountryChange($event.target.value)">
                        <option value="0">{{'filters.location.allOption' | translate}}</option>
                        <option *ngFor="let item of location.countries" [value]="item.id">{{item.name}}</option>
                    </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                    <label>{{'filters.location.state' | translate}}</label>
                    <select class="form-control" (change)="onStateChange($event.target.value)">
                        <option value="0">{{'filters.location.allOption' | translate}}</option>
                        <option *ngFor="let item of location.states" [value]="item.id">{{item.name}}</option>
                    </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                    <label>{{'filters.location.city' | translate}}</label>
                        <select class="form-control" (change)="onCityChange($event.target.value)">
                        <option value="0">{{'filters.location.allOption' | translate}}</option>
                        <option *ngFor="let item of location.cities" [value]="item.id">{{item.name}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                    <label>{{'filters.location.locality' | translate}}</label>
                    <select class="form-control" (change)="onLocalityChange($event.target.value)">
                        <option value="0">{{'filters.location.allOption' | translate}}</option>
                        <option *ngFor="let item of location.localities" [value]="item.id">{{item.name}}</option>
                    </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                    <label>{{'filters.location.building' | translate}}</label>
                    <select class="form-control" (change)="onBuildingChange($event.target.value)">
                        <option value="0">{{'filters.location.allOption' | translate}}</option>
                        <option *ngFor="let item of location.buildings" [value]="item.id">{{item.name}}</option>
                    </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group btn-cont">
                    <label style="display: block; margin-top: 3px;">&nbsp;</label>
                    <button type="button" (click)="getListing()" class="btn btn-primary-new width100P">{{'filters.location.applyBtn' | translate}}</button>
                    </div>
                </div>
                <div class="col-3">
                    
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label>{{'filters.location.search' | translate}}</label>
                        <div class="d-flex">
                            <div class="searh-3">
                                <input class="form-control" type="text" [(ngModel)]="parameter.keyword" (keyup.enter)="getListing()" name="">
                                <button (click)="getListing()"><i class="fa fa-search"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>

            <div class="btn-cont text-right marginT15" *ngIf="parameter.total">
                <!-- <pagination-controls class="my-pagination" (pageChange)="getPage($event)"></pagination-controls> -->
            </div>

            <div *ngIf="loading" class="padding20">
                <img src="assets/img/loading_content.gif" alt="loading..."/>
            </div>
            <div *ngIf="!loading && items?.length==0">
                <p class="show-not-found">{{'commonBlock.noPropertyFound' | translate}}</p>
            </div>

            <table class="table" style="min-height:200px;">
              <tbody *ngIf="!loading && items.length > 0">
                <tr *ngFor="let item of items | paginate: { itemsPerPage: parameter.itemsPerPage, currentPage: parameter.page, totalItems: parameter.total }">
                  <td>
                      <div class="n-avail-profile">
                        <img [src]="item.image" onerror='src="assets/img/house.png"' alt="img">
                        <div class="n-avail-info">
                            <!-- <p class="p12">{{item?.building?.name}}</p>
                            <p class="p10 marginB0">{{item?.building?.address ? item?.building?.address : 'NA'}}</p>
                            <p class="p10">{{item?.configuration?.name}}</p> -->
                            <p title="Apartment" class="p12">{{item.name}}</p>
                            <p class="p13">{{item.building.name}} &middot; {{item.building_towers.tower_name}} &middot;
                                {{item.building_towers.num_of_floors == 0 ? ('commonBlock.groundFloor' | translate) : ('commonBlock.floor' | translate) + ' ' + item.building_towers.num_of_floors}}
                            </p>
                            <!-- <p class="p10 marginB0">{{item.building.address ? item.building.address : 'NA'}}</p> -->
                            <p class="p10">
                                <app-property-configuration *ngIf="item.configuration" [configuration]="item.configuration"></app-property-configuration>
                            </p>
                        </div>
                      </div>
                  </td>
                  <td>
                      <!-- <label class="cust-check-bx float-right">
                      <input type="radio" name="bank_id1" (click)="selectItem(item)">
                      <span class="checkmark"></span>
                      </label> -->
                      <div class="form-group btn-cont">
                          <button (click)="selectItem(item)" class="btn btn-primary-new">{{'commonBlock.send' | translate}}</button>
                      </div>
                  </td>
                </tr>
              </tbody>
            </table>
            
            <div class="btn-cont text-right marginT15" *ngIf="parameter.total">
                <pagination-controls class="my-pagination" (pageChange)="getPage($event)"></pagination-controls>
            </div>

        </div>
    </div>
  </div>
</div>