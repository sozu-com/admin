

<div class="container-fluid">
  <div class="row">
      <div class="col-md-5">
        <!-- <a class="view-all-2" href="javascript://"><i class="fa fa-angle-left"></i><span>View all</span></a> -->
        <h5>Manage Leads - CSR Buyer</h5>
      </div>
      <div class="col-md-7">
        <div class="cust-tabs-2">
            <ul class="nav nav-tabs">
              <li class="nav-item">
                  <a class="nav-link" [ngClass]="{'active':parameter.flag==1}" (click)="changeFlag(1)" >This Week</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [ngClass]="{'active':parameter.flag==2}" (click)="changeFlag(2)" >This Month</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [ngClass]="{'active':parameter.flag==3}" (click)="changeFlag(3)" >Last Month</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [ngClass]="{'active':parameter.flag==4}" (click)="changeFlag(4)" >Lifetime</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [ngClass]="{'active':parameter.flag==5}" (click)="changeFlag(5)" >Custom</a>
              </li>
            </ul>
        </div>
      </div>
      <div class="col-12">
        <hr style="margin-top:0;">
      </div>
  </div>


  <!-- <div class="sigle-row-table">       
    <table class="table table-striped">
        <tr>
            <td> <img class="rounded-circle" src="http://via.placeholder.com/50x50" alt="img"></td>
            <td class="text-left">
                <span class="name">Lillian Russell</span>
            </td>
            <td class="text-left">
                728-111-1874
            </td>
            <td class="text-left">
                eunice_aufderhar@yahoo.com
            </td>
            <td>
                14
            </td>
            <td>
                <a href="javascript://" class="icon-block edit-icon"><img src="assets/img/edit.png" alt="img"></a>
                <a href="javascript://" class="icon-block block-icon"><img src="assets/img/block.png" alt="img"></a>
            </td>
        </tr>
    </table>   
  </div> -->

  <div class="row">
     
   <div class="col-lg-8 col-md-12 col-sm-12 col-12">
        <div class="info-box all-leads">
           <div class="row">
              <div class="col-md-6 col-sm-6 col-12 active">
                 <div class="one-row ">
                    <div class="o-block">
                       <h5>Leads</h5>
                       <small>Total</small>
                    </div>
                    <div class="o-block">
                       <a class="view-all" href="javascript://">View All</a>
                       <h4>26</h4>
                    </div>
                 </div>
              </div>
              <div class="col-md-6 col-sm-6 col-12">
                 <div class="one-row">
                    <div class="o-block">
                       <h5>Leads</h5>
                       <small>Without Broker</small>
                    </div>
                    <div class="o-block">
                       <a class="view-all" href="javascript://">View All</a>
                       <h4>10</h4>
                    </div>
                 </div>
              </div>
           </div>
        </div>
                      <div class="info-box all-leads">
           <div class="row">
              <div class="col-md-6 col-sm-6 col-12">
                 <div class="one-row ">
                    <div class="o-block">
                       <h5>Leads</h5>
                       <small>Information Filled</small>
                    </div>
                    <div class="o-block">
                       <a class="view-all" href="javascript://">View All</a>
                       <h4>26</h4>
                    </div>
                 </div>
              </div>
              <div class="col-md-6 col-sm-6 col-12">
                 <div class="one-row">
                    <div class="o-block">
                       <h5>Leads</h5>
                       <small>Broker Assigned</small>
                    </div>
                    <div class="o-block">
                       <a class="view-all" href="javascript://">View All</a>
                       <h4>10</h4>
                    </div>
                 </div>
              </div>
           </div>
        </div>

     </div>
     <div class="col-lg-4 col-md-12 col-sm-12 col-12">
        <div class="chat-msg all-leads">
           <div class="row">
              <div class="col-6">
                 <h5>Chat</h5>
              </div>
              <div class="col-6 text-right"><a class="msg" href="javascript://">Message</a></div>
           </div>
           <p>Waiting for response</p>
           <p>
              <strong>Mario Hudson</strong>
              When you are free to have a meeting 
              with interested customers?
           </p>
           <p>
              <strong>Rosie Benson</strong>
              Is there any availability in the localities
              I was asking you tomorrow and also pâ€¦
           </p>
        </div>
     </div>

  <div class="row">
      <div class="col-12">
        <div class="spacer40"></div>
      </div>
      <div class="col-12">
        <div class="title-group">
            <h5>All Leads (Information Filled)</h5>
            <p>Showing {{items?.length}} out of {{parameter.total}}</p>
        </div>
      </div>
  </div>

  <div class="row">
    <div class="col-12">
        <div class="white-bg">
            <div class="tabel-section">
                <div class="table-responsive">
                    <table class="table table-striped table-align-left vertical-align-top">
                    <tr>
                        <th>
                            <div class="table-search"></div>
                        </th>
                        <th style="width:18%">
                            <div class="table-search">
                                <label>Name</label>
                                <div class="searh-3">
                                    <input type="text" [(ngModel)]="parameter.name" (keyup.enter)="changeFilter('name',$event.target.value)" name="">
                                    <button *ngIf="parameter.name" (click)="changeFilter('name', parameter.name)"><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </th>
                        <th style="width:20%; text-align:left;">
                            <div class="table-search">
                                <label>Contact Number</label>
                                <div class="searh-3">
                                    <input type="text" [(ngModel)]="parameter.phone" (keyup.enter)="changeFilter('phone',$event.target.value)" name="">
                                    <button *ngIf="parameter.phone" (click)="changeFilter('phone', parameter.phone)"><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </th>
                        <th style="width:20%">
                            <div class="table-search">
                                <label>Email</label>
                                <div class="searh-3">
                                    <input type="text" [(ngModel)]="parameter.email" (keyup.enter)="changeFilter('email',$event.target.value)" name="">
                                    <button *ngIf="parameter.email" (click)="changeFilter('email', parameter.email)"><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </th>
                        <th style="width:12%">
                            <div class="table-search">
                                <label>Interested In</label>
                            </div>
                        </th>
                        <th>
                            <div class="table-search">
                                <label>Assignee</label>
                            </div>
                        </th>
                        
                        <th >
                            <!-- Mark
                            Complete -->
                        </th>
                    </tr>
                    <tr *ngFor="let item of items| paginate: { itemsPerPage: parameter.itemsPerPage, currentPage: parameter.page, totalItems: parameter.total }">
                        <td>
                        <img [src]="item.image" class="rounded-circle" onerror='src="assets/img/default_img.png"' alt="img">
                        </td>
                        <td class="text-left">
                        <span *ngIf="item.name" routerLink="/dashboard/leads/csr-buyers/{{item.id}}" class="name">{{item.name}}</span>
                        <span class="name" *ngIf="!item.name">NA</span>
                        </td>
                        <td class="text-left" *ngIf="item.phone">{{item.dial_code ? item.dial_code : constant.dial_code}}-{{item.phone}}</td>
                        <td class="text-left" *ngIf="!item.phone">NA</td>
                        <td class="text-left" *ngIf="item.email">{{item.email}}</td>
                        <td class="text-left" *ngIf="!item.email">NA</td>
                        <td>
                            <span *ngFor="let conf of item.configuration; let ii=index">
                                {{conf.name}}
                                <span *ngIf="ii<item?.configuration?.length-1">,</span>
                            </span>
                            <span *ngIf="item.configuration?.length==0">NA</span>
                        </td>
                        <td class="text-left" title="CSR Buyer" *ngIf="item.admin.name">{{item.admin.name}}</td>
                        <td class="text-left" *ngIf="!item.admin.name">Not Assigned</td>
                        <td>
                        <!-- <a href="javascript://" title="View Details" routerLink="/dashboard/leads/csr-buyers/{{item.id}}" class="icon-block edit-icon"><img src="./../../../../assets/img/edit.png" alt="img"></a>
                        <a href="javascript://" *ngIf="item.is_blocked == 1" (click)="blockUnblockPopup(i, item.id, 0, parameter.type)" title="Unblock user" class="icon-block block-icon unblock-bg"><img src="assets/img/block.png" alt="img"></a>
                        <a href="javascript://" *ngIf="item.is_blocked == 0" (click)="blockUnblockPopup(i, item.id, 1, parameter.type)" title="Block user" class="icon-block block-icon"><img src="assets/img/unblock.png" alt="img"></a> -->
                        <button title="View Details" routerLink="/dashboard/leads/csr-buyers/{{item.id}}" [disabled]="admin?.admin_acl['Buyer Lead Management']?.can_read==0" class="action-icon"><img src="./../../../../assets/img/edit.png" alt="img"></button>
                        <!-- <button [disabled]="admin?.admin_acl['Buyer Lead Management']?.can_delete==0"
                            (click)="blockUnblockPopup(i, item.id, item.is_blocked==1?0:1, parameter.type)" 
                            title="{{item.is_blocked==1?'Unblock Lead':'Block Lead'}}" [ngClass]="{'unblock-bg':item.is_blocked==1}"
                            class="action-icon"><img src="assets/img/block.png" alt="img">
                        </button> -->
                        </td>
                    </tr>
                    </table>
                </div>
            </div>
        
            <div class="center" *ngIf="items?.length == 0">
                <img src="assets/img/404-error.png">
            </div>
        </div>         

    </div>
  </div>
  <div class="btn-cont text-right marginT15" *ngIf="parameter.total">
    <pagination-controls class="my-pagination" (pageChange)="getPage($event)"></pagination-controls>
  </div>

</div>
